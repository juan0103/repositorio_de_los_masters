<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>fullcalendar.js - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../../../";
  var index_rel_prefix = "../../../";
</script>

<script src="../../../js/jquery.js"></script>
<script src="../../../js/darkfish.js"></script>

<link href="../../../css/fonts.css" rel="stylesheet">
<link href="../../../css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="file">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../../table_of_contents.html#pages">Pages</a>
    <a href="../../../table_of_contents.html#classes">Classes</a>
    <a href="../../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="project-metadata">
    <div id="fileindex-section" class="nav-section">
  <h3>Pages</h3>

  <ul class="link-list">
  
    <li><a href="../../../Gemfile.html">Gemfile</a>
  
    <li><a href="../../../Gemfile_lock.html">Gemfile.lock</a>
  
    <li><a href="../../../README_md.html">README</a>
  
    <li><a href="../../../README_txt.html">README</a>
  
    <li><a href="../../../Rakefile.html">Rakefile</a>
  
    <li><a href="../../../app/assets/config/manifest_js.html">manifest.js</a>
  
    <li><a href="../../../app/assets/javascripts/application_js.html">application.js</a>
  
    <li><a href="../../../app/assets/javascripts/branch_offices_coffee.html">branch_offices.coffee</a>
  
    <li><a href="../../../app/assets/javascripts/cable_js.html">cable.js</a>
  
    <li><a href="../../../app/assets/javascripts/ciudades_coffee.html">ciudades.coffee</a>
  
    <li><a href="../../../app/assets/javascripts/countries_coffee.html">countries.coffee</a>
  
    <li><a href="../../../app/assets/javascripts/departamentos_coffee.html">departamentos.coffee</a>
  
    <li><a href="../../../app/assets/javascripts/empresas_coffee.html">empresas.coffee</a>
  
    <li><a href="../../../app/assets/javascripts/imagenes_coffee.html">imagenes.coffee</a>
  
    <li><a href="../../../app/assets/javascripts/interesados_coffee.html">interesados.coffee</a>
  
    <li><a href="../../../app/assets/javascripts/landing_pages_coffee.html">landing_pages.coffee</a>
  
    <li><a href="../../../app/assets/javascripts/legalizaciones_coffee.html">legalizaciones.coffee</a>
  
    <li><a href="../../../app/assets/javascripts/novedades_coffee.html">novedades.coffee</a>
  
    <li><a href="../../../app/assets/javascripts/pais_coffee.html">pais.coffee</a>
  
    <li><a href="../../../app/assets/javascripts/profiles_coffee.html">profiles.coffee</a>
  
    <li><a href="../../../app/assets/javascripts/restore_passwords_coffee.html">restore_passwords.coffee</a>
  
    <li><a href="../../../app/assets/javascripts/sucursales_coffee.html">sucursales.coffee</a>
  
    <li><a href="../../../app/assets/javascripts/tipo_de_novedades_coffee.html">tipo_de_novedades.coffee</a>
  
    <li><a href="../../../app/assets/javascripts/users_coffee.html">users.coffee</a>
  
    <li><a href="../../../app/assets/javascripts/visita_auditores_coffee.html">visita_auditores.coffee</a>
  
    <li><a href="../../../app/assets/stylesheets/application_css.html">application.css</a>
  
    <li><a href="../../../app/assets/stylesheets/branch_offices_scss.html">branch_offices.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/ciudades_scss.html">ciudades.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/countries_scss.html">countries.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/departamentos_scss.html">departamentos.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/empresas_scss.html">empresas.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/imagenes_scss.html">imagenes.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/interesados_scss.html">interesados.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/landing_pages_scss.html">landing_pages.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/legalizaciones_scss.html">legalizaciones.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/novedades_scss.html">novedades.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/pais_scss.html">pais.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/profiles_scss.html">profiles.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/restore_passwords_scss.html">restore_passwords.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/scaffolds_scss.html">scaffolds.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/sucursales_scss.html">sucursales.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/tipo_de_novedades_scss.html">tipo_de_novedades.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/users_scss.html">users.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/visita_auditores_scss.html">visita_auditores.scss</a>
  
    <li><a href="../../../app/views/branch_offices/_branch_office_json_jbuilder.html">_branch_office.json.jbuilder</a>
  
    <li><a href="../../../app/views/branch_offices/index_json_jbuilder.html">index.json.jbuilder</a>
  
    <li><a href="../../../app/views/branch_offices/show_json_jbuilder.html">show.json.jbuilder</a>
  
    <li><a href="../../../app/views/countries/_country_json_jbuilder.html">_country.json.jbuilder</a>
  
    <li><a href="../../../app/views/countries/index_json_jbuilder.html">index.json.jbuilder</a>
  
    <li><a href="../../../app/views/countries/show_json_jbuilder.html">show.json.jbuilder</a>
  
    <li><a href="../../../app/views/empresas/_empresa_json_jbuilder.html">_empresa.json.jbuilder</a>
  
    <li><a href="../../../app/views/empresas/index_json_jbuilder.html">index.json.jbuilder</a>
  
    <li><a href="../../../app/views/empresas/show_json_jbuilder.html">show.json.jbuilder</a>
  
    <li><a href="../../../app/views/pais/_pai_json_jbuilder.html">_pai.json.jbuilder</a>
  
    <li><a href="../../../app/views/pais/index_json_jbuilder.html">index.json.jbuilder</a>
  
    <li><a href="../../../app/views/pais/show_json_jbuilder.html">show.json.jbuilder</a>
  
    <li><a href="../../../app/views/profiles/_profile_json_jbuilder.html">_profile.json.jbuilder</a>
  
    <li><a href="../../../app/views/profiles/index_json_jbuilder.html">index.json.jbuilder</a>
  
    <li><a href="../../../app/views/profiles/show_json_jbuilder.html">show.json.jbuilder</a>
  
    <li><a href="../../../config_ru.html">config.ru</a>
  
    <li><a href="../../../package_json.html">package.json</a>
  
    <li><a href="../../../public/404_html.html">404.html</a>
  
    <li><a href="../../../public/422_html.html">422.html</a>
  
    <li><a href="../../../public/500_html.html">500.html</a>
  
    <li><a href="../../../public/JSViews/userRegister_js.html">userRegister.js</a>
  
    <li><a href="../../../public/apple-touch-icon-precomposed_png.html">apple-touch-icon-precomposed.png</a>
  
    <li><a href="../../../public/apple-touch-icon_png.html">apple-touch-icon.png</a>
  
    <li><a href="../../../public/bootstrap/css/bootstrap_css.html">bootstrap.css</a>
  
    <li><a href="../../../public/bootstrap/css/bootstrap_css_map.html">bootstrap.css.map</a>
  
    <li><a href="../../../public/bootstrap/css/bootstrap_min_css.html">bootstrap.min.css</a>
  
    <li><a href="../../../public/bootstrap/css/bootstrap_min_css_map.html">bootstrap.min.css.map</a>
  
    <li><a href="../../../public/bootstrap/js/bootstrap_js.html">bootstrap.js</a>
  
    <li><a href="../../../public/bootstrap/js/bootstrap_min_js.html">bootstrap.min.js</a>
  
    <li><a href="../../../public/bootstrap/js/npm_js.html">npm.js</a>
  
    <li><a href="../../../public/build/bootstrap-less/mixins_less.html">mixins.less</a>
  
    <li><a href="../../../public/build/bootstrap-less/mixins/alerts_less.html">alerts.less</a>
  
    <li><a href="../../../public/build/bootstrap-less/mixins/background-variant_less.html">background-variant.less</a>
  
    <li><a href="../../../public/build/bootstrap-less/mixins/border-radius_less.html">border-radius.less</a>
  
    <li><a href="../../../public/build/bootstrap-less/mixins/buttons_less.html">buttons.less</a>
  
    <li><a href="../../../public/build/bootstrap-less/mixins/center-block_less.html">center-block.less</a>
  
    <li><a href="../../../public/build/bootstrap-less/mixins/clearfix_less.html">clearfix.less</a>
  
    <li><a href="../../../public/build/bootstrap-less/mixins/forms_less.html">forms.less</a>
  
    <li><a href="../../../public/build/bootstrap-less/mixins/gradients_less.html">gradients.less</a>
  
    <li><a href="../../../public/build/bootstrap-less/mixins/grid-framework_less.html">grid-framework.less</a>
  
    <li><a href="../../../public/build/bootstrap-less/mixins/grid_less.html">grid.less</a>
  
    <li><a href="../../../public/build/bootstrap-less/mixins/hide-text_less.html">hide-text.less</a>
  
    <li><a href="../../../public/build/bootstrap-less/mixins/image_less.html">image.less</a>
  
    <li><a href="../../../public/build/bootstrap-less/mixins/labels_less.html">labels.less</a>
  
    <li><a href="../../../public/build/bootstrap-less/mixins/list-group_less.html">list-group.less</a>
  
    <li><a href="../../../public/build/bootstrap-less/mixins/nav-divider_less.html">nav-divider.less</a>
  
    <li><a href="../../../public/build/bootstrap-less/mixins/nav-vertical-align_less.html">nav-vertical-align.less</a>
  
    <li><a href="../../../public/build/bootstrap-less/mixins/opacity_less.html">opacity.less</a>
  
    <li><a href="../../../public/build/bootstrap-less/mixins/pagination_less.html">pagination.less</a>
  
    <li><a href="../../../public/build/bootstrap-less/mixins/panels_less.html">panels.less</a>
  
    <li><a href="../../../public/build/bootstrap-less/mixins/progress-bar_less.html">progress-bar.less</a>
  
    <li><a href="../../../public/build/bootstrap-less/mixins/reset-filter_less.html">reset-filter.less</a>
  
    <li><a href="../../../public/build/bootstrap-less/mixins/reset-text_less.html">reset-text.less</a>
  
    <li><a href="../../../public/build/bootstrap-less/mixins/resize_less.html">resize.less</a>
  
    <li><a href="../../../public/build/bootstrap-less/mixins/responsive-visibility_less.html">responsive-visibility.less</a>
  
    <li><a href="../../../public/build/bootstrap-less/mixins/size_less.html">size.less</a>
  
    <li><a href="../../../public/build/bootstrap-less/mixins/tab-focus_less.html">tab-focus.less</a>
  
    <li><a href="../../../public/build/bootstrap-less/mixins/table-row_less.html">table-row.less</a>
  
    <li><a href="../../../public/build/bootstrap-less/mixins/text-emphasis_less.html">text-emphasis.less</a>
  
    <li><a href="../../../public/build/bootstrap-less/mixins/text-overflow_less.html">text-overflow.less</a>
  
    <li><a href="../../../public/build/bootstrap-less/mixins/vendor-prefixes_less.html">vendor-prefixes.less</a>
  
    <li><a href="../../../public/build/bootstrap-less/variables_less.html">variables.less</a>
  
    <li><a href="../../../public/build/less/404_500_errors_less.html">404_500_errors.less</a>
  
    <li><a href="../../../public/build/less/AdminLTE_less.html">AdminLTE.less</a>
  
    <li><a href="../../../public/build/less/alerts_less.html">alerts.less</a>
  
    <li><a href="../../../public/build/less/bootstrap-social_less.html">bootstrap-social.less</a>
  
    <li><a href="../../../public/build/less/boxes_less.html">boxes.less</a>
  
    <li><a href="../../../public/build/less/buttons_less.html">buttons.less</a>
  
    <li><a href="../../../public/build/less/callout_less.html">callout.less</a>
  
    <li><a href="../../../public/build/less/carousel_less.html">carousel.less</a>
  
    <li><a href="../../../public/build/less/control-sidebar_less.html">control-sidebar.less</a>
  
    <li><a href="../../../public/build/less/core_less.html">core.less</a>
  
    <li><a href="../../../public/build/less/direct-chat_less.html">direct-chat.less</a>
  
    <li><a href="../../../public/build/less/dropdown_less.html">dropdown.less</a>
  
    <li><a href="../../../public/build/less/forms_less.html">forms.less</a>
  
    <li><a href="../../../public/build/less/fullcalendar_less.html">fullcalendar.less</a>
  
    <li><a href="../../../public/build/less/header_less.html">header.less</a>
  
    <li><a href="../../../public/build/less/info-box_less.html">info-box.less</a>
  
    <li><a href="../../../public/build/less/invoice_less.html">invoice.less</a>
  
    <li><a href="../../../public/build/less/labels_less.html">labels.less</a>
  
    <li><a href="../../../public/build/less/lockscreen_less.html">lockscreen.less</a>
  
    <li><a href="../../../public/build/less/login_and_register_less.html">login_and_register.less</a>
  
    <li><a href="../../../public/build/less/mailbox_less.html">mailbox.less</a>
  
    <li><a href="../../../public/build/less/miscellaneous_less.html">miscellaneous.less</a>
  
    <li><a href="../../../public/build/less/mixins_less.html">mixins.less</a>
  
    <li><a href="../../../public/build/less/modal_less.html">modal.less</a>
  
    <li><a href="../../../public/build/less/navs_less.html">navs.less</a>
  
    <li><a href="../../../public/build/less/print_less.html">print.less</a>
  
    <li><a href="../../../public/build/less/products_less.html">products.less</a>
  
    <li><a href="../../../public/build/less/profile_less.html">profile.less</a>
  
    <li><a href="../../../public/build/less/progress-bars_less.html">progress-bars.less</a>
  
    <li><a href="../../../public/build/less/select2_less.html">select2.less</a>
  
    <li><a href="../../../public/build/less/sidebar-mini_less.html">sidebar-mini.less</a>
  
    <li><a href="../../../public/build/less/sidebar_less.html">sidebar.less</a>
  
    <li><a href="../../../public/build/less/skins/_all-skins_less.html">_all-skins.less</a>
  
    <li><a href="../../../public/build/less/skins/skin-black-light_less.html">skin-black-light.less</a>
  
    <li><a href="../../../public/build/less/skins/skin-black_less.html">skin-black.less</a>
  
    <li><a href="../../../public/build/less/skins/skin-blue-light_less.html">skin-blue-light.less</a>
  
    <li><a href="../../../public/build/less/skins/skin-blue_less.html">skin-blue.less</a>
  
    <li><a href="../../../public/build/less/skins/skin-green-light_less.html">skin-green-light.less</a>
  
    <li><a href="../../../public/build/less/skins/skin-green_less.html">skin-green.less</a>
  
    <li><a href="../../../public/build/less/skins/skin-purple-light_less.html">skin-purple-light.less</a>
  
    <li><a href="../../../public/build/less/skins/skin-purple_less.html">skin-purple.less</a>
  
    <li><a href="../../../public/build/less/skins/skin-red-light_less.html">skin-red-light.less</a>
  
    <li><a href="../../../public/build/less/skins/skin-red_less.html">skin-red.less</a>
  
    <li><a href="../../../public/build/less/skins/skin-yellow-light_less.html">skin-yellow-light.less</a>
  
    <li><a href="../../../public/build/less/skins/skin-yellow_less.html">skin-yellow.less</a>
  
    <li><a href="../../../public/build/less/small-box_less.html">small-box.less</a>
  
    <li><a href="../../../public/build/less/social-widgets_less.html">social-widgets.less</a>
  
    <li><a href="../../../public/build/less/table_less.html">table.less</a>
  
    <li><a href="../../../public/build/less/timeline_less.html">timeline.less</a>
  
    <li><a href="../../../public/build/less/users-list_less.html">users-list.less</a>
  
    <li><a href="../../../public/build/less/variables_less.html">variables.less</a>
  
    <li><a href="../../../public/css/bootstrap-datepicker_css.html">bootstrap-datepicker.css</a>
  
    <li><a href="../../../public/css/bootstrap-datepicker_css_map.html">bootstrap-datepicker.css.map</a>
  
    <li><a href="../../../public/css/bootstrap-datepicker_min_css.html">bootstrap-datepicker.min.css</a>
  
    <li><a href="../../../public/css/bootstrap-datepicker_min_css_map.html">bootstrap-datepicker.min.css.map</a>
  
    <li><a href="../../../public/css/bootstrap-datepicker_standalone_css.html">bootstrap-datepicker.standalone.css</a>
  
    <li><a href="../../../public/css/bootstrap-datepicker_standalone_css_map.html">bootstrap-datepicker.standalone.css.map</a>
  
    <li><a href="../../../public/css/bootstrap-datepicker_standalone_min_css.html">bootstrap-datepicker.standalone.min.css</a>
  
    <li><a href="../../../public/css/bootstrap-datepicker_standalone_min_css_map.html">bootstrap-datepicker.standalone.min.css.map</a>
  
    <li><a href="../../../public/css/bootstrap-datepicker3_css.html">bootstrap-datepicker3.css</a>
  
    <li><a href="../../../public/css/bootstrap-datepicker3_css_map.html">bootstrap-datepicker3.css.map</a>
  
    <li><a href="../../../public/css/bootstrap-datepicker3_min_css.html">bootstrap-datepicker3.min.css</a>
  
    <li><a href="../../../public/css/bootstrap-datepicker3_min_css_map.html">bootstrap-datepicker3.min.css.map</a>
  
    <li><a href="../../../public/css/bootstrap-datepicker3_standalone_css.html">bootstrap-datepicker3.standalone.css</a>
  
    <li><a href="../../../public/css/bootstrap-datepicker3_standalone_css_map.html">bootstrap-datepicker3.standalone.css.map</a>
  
    <li><a href="../../../public/css/bootstrap-datepicker3_standalone_min_css.html">bootstrap-datepicker3.standalone.min.css</a>
  
    <li><a href="../../../public/css/bootstrap-datepicker3_standalone_min_css_map.html">bootstrap-datepicker3.standalone.min.css.map</a>
  
    <li><a href="../../../public/css/bootstrap-rtl_css.html">bootstrap-rtl.css</a>
  
    <li><a href="../../../public/css/bootstrap-rtl_min_css.html">bootstrap-rtl.min.css</a>
  
    <li><a href="../../../public/css/bootstrap_css.html">bootstrap.css</a>
  
    <li><a href="../../../public/css/bootstrap_min_css.html">bootstrap.min.css</a>
  
    <li><a href="../../../public/css/main_css.html">main.css</a>
  
    <li><a href="../../../public/css/plugins/morris_css.html">morris.css</a>
  
    <li><a href="../../../public/css/prettyPhoto_css.html">prettyPhoto.css</a>
  
    <li><a href="../../../public/css/sb-admin-rtl_css.html">sb-admin-rtl.css</a>
  
    <li><a href="../../../public/css/sb-admin_css.html">sb-admin.css</a>
  
    <li><a href="../../../public/css/sb-admin_min_css.html">sb-admin.min.css</a>
  
    <li><a href="../../../public/css/style_css.html">style.css</a>
  
    <li><a href="../../../public/css/sweetalert_css.html">sweetalert.css</a>
  
    <li><a href="../../../public/css/util_css.html">util.css</a>
  
    <li><a href="../../../public/dist/css/AdminLTE_css.html">AdminLTE.css</a>
  
    <li><a href="../../../public/dist/css/AdminLTE_min_css.html">AdminLTE.min.css</a>
  
    <li><a href="../../../public/dist/css/alertify_core_css.html">alertify.core.css</a>
  
    <li><a href="../../../public/dist/css/alertify_default_css.html">alertify.default.css</a>
  
    <li><a href="../../../public/dist/css/skins/_all-skins_css.html">_all-skins.css</a>
  
    <li><a href="../../../public/dist/css/skins/_all-skins_min_css.html">_all-skins.min.css</a>
  
    <li><a href="../../../public/dist/css/skins/skin-black-light_css.html">skin-black-light.css</a>
  
    <li><a href="../../../public/dist/css/skins/skin-black-light_min_css.html">skin-black-light.min.css</a>
  
    <li><a href="../../../public/dist/css/skins/skin-black_css.html">skin-black.css</a>
  
    <li><a href="../../../public/dist/css/skins/skin-black_min_css.html">skin-black.min.css</a>
  
    <li><a href="../../../public/dist/css/skins/skin-blue-light_css.html">skin-blue-light.css</a>
  
    <li><a href="../../../public/dist/css/skins/skin-blue-light_min_css.html">skin-blue-light.min.css</a>
  
    <li><a href="../../../public/dist/css/skins/skin-blue_css.html">skin-blue.css</a>
  
    <li><a href="../../../public/dist/css/skins/skin-blue_min_css.html">skin-blue.min.css</a>
  
    <li><a href="../../../public/dist/css/skins/skin-green-light_css.html">skin-green-light.css</a>
  
    <li><a href="../../../public/dist/css/skins/skin-green-light_min_css.html">skin-green-light.min.css</a>
  
    <li><a href="../../../public/dist/css/skins/skin-green_css.html">skin-green.css</a>
  
    <li><a href="../../../public/dist/css/skins/skin-green_min_css.html">skin-green.min.css</a>
  
    <li><a href="../../../public/dist/css/skins/skin-purple-light_css.html">skin-purple-light.css</a>
  
    <li><a href="../../../public/dist/css/skins/skin-purple-light_min_css.html">skin-purple-light.min.css</a>
  
    <li><a href="../../../public/dist/css/skins/skin-purple_css.html">skin-purple.css</a>
  
    <li><a href="../../../public/dist/css/skins/skin-purple_min_css.html">skin-purple.min.css</a>
  
    <li><a href="../../../public/dist/css/skins/skin-red-light_css.html">skin-red-light.css</a>
  
    <li><a href="../../../public/dist/css/skins/skin-red-light_min_css.html">skin-red-light.min.css</a>
  
    <li><a href="../../../public/dist/css/skins/skin-red_css.html">skin-red.css</a>
  
    <li><a href="../../../public/dist/css/skins/skin-red_min_css.html">skin-red.min.css</a>
  
    <li><a href="../../../public/dist/css/skins/skin-yellow-light_css.html">skin-yellow-light.css</a>
  
    <li><a href="../../../public/dist/css/skins/skin-yellow-light_min_css.html">skin-yellow-light.min.css</a>
  
    <li><a href="../../../public/dist/css/skins/skin-yellow_css.html">skin-yellow.css</a>
  
    <li><a href="../../../public/dist/css/skins/skin-yellow_min_css.html">skin-yellow.min.css</a>
  
    <li><a href="../../../public/dist/css/sweetalert_css.html">sweetalert.css</a>
  
    <li><a href="../../../public/dist/js/EstandarJq_js.html">EstandarJq.js</a>
  
    <li><a href="../../../public/dist/js/app_js.html">app.js</a>
  
    <li><a href="../../../public/dist/js/app_min_js.html">app.min.js</a>
  
    <li><a href="../../../public/dist/js/bootstrap_js.html">bootstrap.js</a>
  
    <li><a href="../../../public/dist/js/demo_js.html">demo.js</a>
  
    <li><a href="../../../public/dist/js/pages/dashboard_js.html">dashboard.js</a>
  
    <li><a href="../../../public/dist/js/pages/dashboard2_js.html">dashboard2.js</a>
  
    <li><a href="../../../public/documentation/build/include/adminlte-options_html.html">adminlte-options.html</a>
  
    <li><a href="../../../public/documentation/build/include/advice_html.html">advice.html</a>
  
    <li><a href="../../../public/documentation/build/include/browsers_html.html">browsers.html</a>
  
    <li><a href="../../../public/documentation/build/include/components_html.html">components.html</a>
  
    <li><a href="../../../public/documentation/build/include/dependencies_html.html">dependencies.html</a>
  
    <li><a href="../../../public/documentation/build/include/download_html.html">download.html</a>
  
    <li><a href="../../../public/documentation/build/include/faq_html.html">faq.html</a>
  
    <li><a href="../../../public/documentation/build/include/implementations_html.html">implementations.html</a>
  
    <li><a href="../../../public/documentation/build/include/introduction_html.html">introduction.html</a>
  
    <li><a href="../../../public/documentation/build/include/layout_html.html">layout.html</a>
  
    <li><a href="../../../public/documentation/build/include/license_html.html">license.html</a>
  
    <li><a href="../../../public/documentation/build/include/plugins_html.html">plugins.html</a>
  
    <li><a href="../../../public/documentation/build/include/upgrade_html.html">upgrade.html</a>
  
    <li><a href="../../../public/documentation/build/index_html.html">index.html</a>
  
    <li><a href="../../../public/documentation/docs_js.html">docs.js</a>
  
    <li><a href="../../../public/documentation/index_html.html">index.html</a>
  
    <li><a href="../../../public/documentation/style_css.html">style.css</a>
  
    <li><a href="../../../public/favicon_ico.html">favicon.ico</a>
  
    <li><a href="../../../public/fonts/font-awesome-4_7_0/HELP-US-OUT_txt.html">HELP-US-OUT</a>
  
    <li><a href="../../../public/fonts/font-awesome-4_7_0/css/font-awesome_css.html">font-awesome.css</a>
  
    <li><a href="../../../public/fonts/font-awesome-4_7_0/css/font-awesome_min_css.html">font-awesome.min.css</a>
  
    <li><a href="../../../public/fonts/font-awesome-4_7_0/less/animated_less.html">animated.less</a>
  
    <li><a href="../../../public/fonts/font-awesome-4_7_0/less/bordered-pulled_less.html">bordered-pulled.less</a>
  
    <li><a href="../../../public/fonts/font-awesome-4_7_0/less/core_less.html">core.less</a>
  
    <li><a href="../../../public/fonts/font-awesome-4_7_0/less/fixed-width_less.html">fixed-width.less</a>
  
    <li><a href="../../../public/fonts/font-awesome-4_7_0/less/font-awesome_less.html">font-awesome.less</a>
  
    <li><a href="../../../public/fonts/font-awesome-4_7_0/less/icons_less.html">icons.less</a>
  
    <li><a href="../../../public/fonts/font-awesome-4_7_0/less/larger_less.html">larger.less</a>
  
    <li><a href="../../../public/fonts/font-awesome-4_7_0/less/list_less.html">list.less</a>
  
    <li><a href="../../../public/fonts/font-awesome-4_7_0/less/mixins_less.html">mixins.less</a>
  
    <li><a href="../../../public/fonts/font-awesome-4_7_0/less/path_less.html">path.less</a>
  
    <li><a href="../../../public/fonts/font-awesome-4_7_0/less/rotated-flipped_less.html">rotated-flipped.less</a>
  
    <li><a href="../../../public/fonts/font-awesome-4_7_0/less/screen-reader_less.html">screen-reader.less</a>
  
    <li><a href="../../../public/fonts/font-awesome-4_7_0/less/stacked_less.html">stacked.less</a>
  
    <li><a href="../../../public/fonts/font-awesome-4_7_0/less/variables_less.html">variables.less</a>
  
    <li><a href="../../../public/fonts/font-awesome-4_7_0/scss/_animated_scss.html">_animated.scss</a>
  
    <li><a href="../../../public/fonts/font-awesome-4_7_0/scss/_bordered-pulled_scss.html">_bordered-pulled.scss</a>
  
    <li><a href="../../../public/fonts/font-awesome-4_7_0/scss/_core_scss.html">_core.scss</a>
  
    <li><a href="../../../public/fonts/font-awesome-4_7_0/scss/_fixed-width_scss.html">_fixed-width.scss</a>
  
    <li><a href="../../../public/fonts/font-awesome-4_7_0/scss/_icons_scss.html">_icons.scss</a>
  
    <li><a href="../../../public/fonts/font-awesome-4_7_0/scss/_larger_scss.html">_larger.scss</a>
  
    <li><a href="../../../public/fonts/font-awesome-4_7_0/scss/_list_scss.html">_list.scss</a>
  
    <li><a href="../../../public/fonts/font-awesome-4_7_0/scss/_mixins_scss.html">_mixins.scss</a>
  
    <li><a href="../../../public/fonts/font-awesome-4_7_0/scss/_path_scss.html">_path.scss</a>
  
    <li><a href="../../../public/fonts/font-awesome-4_7_0/scss/_rotated-flipped_scss.html">_rotated-flipped.scss</a>
  
    <li><a href="../../../public/fonts/font-awesome-4_7_0/scss/_screen-reader_scss.html">_screen-reader.scss</a>
  
    <li><a href="../../../public/fonts/font-awesome-4_7_0/scss/_stacked_scss.html">_stacked.scss</a>
  
    <li><a href="../../../public/fonts/font-awesome-4_7_0/scss/_variables_scss.html">_variables.scss</a>
  
    <li><a href="../../../public/fonts/font-awesome-4_7_0/scss/font-awesome_scss.html">font-awesome.scss</a>
  
    <li><a href="../../../public/fonts/font-awesome/css/font-awesome_css.html">font-awesome.css</a>
  
    <li><a href="../../../public/fonts/font-awesome/css/font-awesome_min_css.html">font-awesome.min.css</a>
  
    <li><a href="../../../public/fonts/font-awesome/less/animated_less.html">animated.less</a>
  
    <li><a href="../../../public/fonts/font-awesome/less/bordered-pulled_less.html">bordered-pulled.less</a>
  
    <li><a href="../../../public/fonts/font-awesome/less/core_less.html">core.less</a>
  
    <li><a href="../../../public/fonts/font-awesome/less/fixed-width_less.html">fixed-width.less</a>
  
    <li><a href="../../../public/fonts/font-awesome/less/font-awesome_less.html">font-awesome.less</a>
  
    <li><a href="../../../public/fonts/font-awesome/less/icons_less.html">icons.less</a>
  
    <li><a href="../../../public/fonts/font-awesome/less/larger_less.html">larger.less</a>
  
    <li><a href="../../../public/fonts/font-awesome/less/list_less.html">list.less</a>
  
    <li><a href="../../../public/fonts/font-awesome/less/mixins_less.html">mixins.less</a>
  
    <li><a href="../../../public/fonts/font-awesome/less/path_less.html">path.less</a>
  
    <li><a href="../../../public/fonts/font-awesome/less/rotated-flipped_less.html">rotated-flipped.less</a>
  
    <li><a href="../../../public/fonts/font-awesome/less/stacked_less.html">stacked.less</a>
  
    <li><a href="../../../public/fonts/font-awesome/less/variables_less.html">variables.less</a>
  
    <li><a href="../../../public/fonts/font-awesome/scss/_animated_scss.html">_animated.scss</a>
  
    <li><a href="../../../public/fonts/font-awesome/scss/_bordered-pulled_scss.html">_bordered-pulled.scss</a>
  
    <li><a href="../../../public/fonts/font-awesome/scss/_core_scss.html">_core.scss</a>
  
    <li><a href="../../../public/fonts/font-awesome/scss/_fixed-width_scss.html">_fixed-width.scss</a>
  
    <li><a href="../../../public/fonts/font-awesome/scss/_icons_scss.html">_icons.scss</a>
  
    <li><a href="../../../public/fonts/font-awesome/scss/_larger_scss.html">_larger.scss</a>
  
    <li><a href="../../../public/fonts/font-awesome/scss/_list_scss.html">_list.scss</a>
  
    <li><a href="../../../public/fonts/font-awesome/scss/_mixins_scss.html">_mixins.scss</a>
  
    <li><a href="../../../public/fonts/font-awesome/scss/_path_scss.html">_path.scss</a>
  
    <li><a href="../../../public/fonts/font-awesome/scss/_rotated-flipped_scss.html">_rotated-flipped.scss</a>
  
    <li><a href="../../../public/fonts/font-awesome/scss/_stacked_scss.html">_stacked.scss</a>
  
    <li><a href="../../../public/fonts/font-awesome/scss/_variables_scss.html">_variables.scss</a>
  
    <li><a href="../../../public/fonts/font-awesome/scss/font-awesome_scss.html">font-awesome.scss</a>
  
    <li><a href="../../../public/fonts/iconic/css/material-design-iconic-font_css.html">material-design-iconic-font.css</a>
  
    <li><a href="../../../public/fonts/iconic/css/material-design-iconic-font_min_css.html">material-design-iconic-font.min.css</a>
  
    <li><a href="../../../public/js/SmoothScroll_js.html">SmoothScroll.js</a>
  
    <li><a href="../../../public/js/bootstrap_js.html">bootstrap.js</a>
  
    <li><a href="../../../public/js/bootstrap_min_js.html">bootstrap.min.js</a>
  
    <li><a href="../../../public/js/contact_me_js.html">contact_me.js</a>
  
    <li><a href="../../../public/js/jqBootstrapValidation_js.html">jqBootstrapValidation.js</a>
  
    <li><a href="../../../public/js/jquery_1_11_1_js.html">jquery.1.11.1.js</a>
  
    <li><a href="../../../public/js/jquery_isotope_js.html">jquery.isotope.js</a>
  
    <li><a href="../../../public/js/jquery_prettyPhoto_js.html">jquery.prettyPhoto.js</a>
  
    <li><a href="../../../public/js/main_js.html">main.js</a>
  
    <li><a href="../../../public/js/sb-admin-charts_js.html">sb-admin-charts.js</a>
  
    <li><a href="../../../public/js/sb-admin-charts_min_js.html">sb-admin-charts.min.js</a>
  
    <li><a href="../../../public/js/sb-admin-datatables_js.html">sb-admin-datatables.js</a>
  
    <li><a href="../../../public/js/sb-admin-datatables_min_js.html">sb-admin-datatables.min.js</a>
  
    <li><a href="../../../public/js/sb-admin_js.html">sb-admin.js</a>
  
    <li><a href="../../../public/js/sb-admin_min_js.html">sb-admin.min.js</a>
  
    <li><a href="../../../public/js/sweetalert_js.html">sweetalert.js</a>
  
    <li><a href="../../../public/js/sweetalert_min_js.html">sweetalert.min.js</a>
  
    <li><a href="../../../public/js/users_js.html">users.js</a>
  
    <li><a href="../../../public/mail/contact_me_php.html">contact_me.php</a>
  
    <li><a href="../../../public/plugins/bootstrap-slider/bootstrap-slider_js.html">bootstrap-slider.js</a>
  
    <li><a href="../../../public/plugins/bootstrap-slider/slider_css.html">slider.css</a>
  
    <li><a href="../../../public/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5_all_js.html">bootstrap3-wysihtml5.all.js</a>
  
    <li><a href="../../../public/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5_all_min_js.html">bootstrap3-wysihtml5.all.min.js</a>
  
    <li><a href="../../../public/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5_css.html">bootstrap3-wysihtml5.css</a>
  
    <li><a href="../../../public/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5_min_css.html">bootstrap3-wysihtml5.min.css</a>
  
    <li><a href="../../../public/plugins/chartjs/Chart_js.html">Chart.js</a>
  
    <li><a href="../../../public/plugins/chartjs/Chart_min_js.html">Chart.min.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/CHANGES_md.html">CHANGES</a>
  
    <li><a href="../../../public/plugins/ckeditor/LICENSE_md.html">LICENSE</a>
  
    <li><a href="../../../public/plugins/ckeditor/README_md.html">README</a>
  
    <li><a href="../../../public/plugins/ckeditor/adapters/jquery_js.html">jquery.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/build-config_js.html">build-config.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/ckeditor_js.html">ckeditor.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/config_js.html">config.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/contents_css.html">contents.css</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/af_js.html">af.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/ar_js.html">ar.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/bg_js.html">bg.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/bn_js.html">bn.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/bs_js.html">bs.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/ca_js.html">ca.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/cs_js.html">cs.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/cy_js.html">cy.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/da_js.html">da.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/de-ch_js.html">de-ch.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/de_js.html">de.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/el_js.html">el.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/en-au_js.html">en-au.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/en-ca_js.html">en-ca.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/en-gb_js.html">en-gb.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/en_js.html">en.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/eo_js.html">eo.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/es_js.html">es.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/et_js.html">et.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/eu_js.html">eu.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/fa_js.html">fa.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/fi_js.html">fi.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/fo_js.html">fo.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/fr-ca_js.html">fr-ca.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/fr_js.html">fr.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/gl_js.html">gl.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/gu_js.html">gu.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/he_js.html">he.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/hi_js.html">hi.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/hr_js.html">hr.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/hu_js.html">hu.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/id_js.html">id.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/is_js.html">is.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/it_js.html">it.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/ja_js.html">ja.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/ka_js.html">ka.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/km_js.html">km.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/ko_js.html">ko.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/ku_js.html">ku.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/lt_js.html">lt.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/lv_js.html">lv.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/mk_js.html">mk.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/mn_js.html">mn.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/ms_js.html">ms.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/nb_js.html">nb.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/nl_js.html">nl.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/no_js.html">no.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/pl_js.html">pl.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/pt-br_js.html">pt-br.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/pt_js.html">pt.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/ro_js.html">ro.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/ru_js.html">ru.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/si_js.html">si.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/sk_js.html">sk.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/sl_js.html">sl.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/sq_js.html">sq.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/sr-latn_js.html">sr-latn.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/sr_js.html">sr.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/sv_js.html">sv.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/th_js.html">th.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/tr_js.html">tr.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/tt_js.html">tt.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/ug_js.html">ug.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/uk_js.html">uk.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/vi_js.html">vi.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/zh-cn_js.html">zh-cn.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/lang/zh_js.html">zh.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/a11yhelp_js.html">a11yhelp.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/_translationstatus_txt.html">_translationstatus</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/af_js.html">af.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/ar_js.html">ar.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/bg_js.html">bg.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/ca_js.html">ca.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/cs_js.html">cs.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/cy_js.html">cy.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/da_js.html">da.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/de-ch_js.html">de-ch.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/de_js.html">de.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/el_js.html">el.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/en-gb_js.html">en-gb.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/en_js.html">en.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/eo_js.html">eo.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/es_js.html">es.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/et_js.html">et.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/eu_js.html">eu.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/fa_js.html">fa.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/fi_js.html">fi.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/fo_js.html">fo.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/fr-ca_js.html">fr-ca.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/fr_js.html">fr.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/gl_js.html">gl.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/gu_js.html">gu.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/he_js.html">he.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/hi_js.html">hi.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/hr_js.html">hr.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/hu_js.html">hu.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/id_js.html">id.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/it_js.html">it.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/ja_js.html">ja.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/km_js.html">km.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/ko_js.html">ko.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/ku_js.html">ku.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/lt_js.html">lt.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/lv_js.html">lv.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/mk_js.html">mk.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/mn_js.html">mn.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/nb_js.html">nb.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/nl_js.html">nl.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/no_js.html">no.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/pl_js.html">pl.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/pt-br_js.html">pt-br.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/pt_js.html">pt.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/ro_js.html">ro.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/ru_js.html">ru.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/si_js.html">si.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/sk_js.html">sk.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/sl_js.html">sl.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/sq_js.html">sq.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/sr-latn_js.html">sr-latn.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/sr_js.html">sr.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/sv_js.html">sv.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/th_js.html">th.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/tr_js.html">tr.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/tt_js.html">tt.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/ug_js.html">ug.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/uk_js.html">uk.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/vi_js.html">vi.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/zh-cn_js.html">zh-cn.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/a11yhelp/dialogs/lang/zh_js.html">zh.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/about/dialogs/about_js.html">about.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/clipboard/dialogs/paste_js.html">paste.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/dialog/dialogDefinition_js.html">dialogDefinition.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/image/dialogs/image_js.html">image.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/link/dialogs/anchor_js.html">anchor.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/link/dialogs/link_js.html">link.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/pastefromword/filter/default_js.html">default.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/scayt/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/scayt/LICENSE_md.html">LICENSE</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/scayt/README_md.html">README</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/scayt/dialogs/options_js.html">options.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/scayt/dialogs/toolbar_css.html">toolbar.css</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/_translationstatus_txt.html">_translationstatus</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/af_js.html">af.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/ar_js.html">ar.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/bg_js.html">bg.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/ca_js.html">ca.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/cs_js.html">cs.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/cy_js.html">cy.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/da_js.html">da.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/de-ch_js.html">de-ch.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/de_js.html">de.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/el_js.html">el.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/en-gb_js.html">en-gb.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/en_js.html">en.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/eo_js.html">eo.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/es_js.html">es.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/et_js.html">et.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/eu_js.html">eu.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/fa_js.html">fa.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/fi_js.html">fi.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/fr-ca_js.html">fr-ca.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/fr_js.html">fr.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/gl_js.html">gl.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/he_js.html">he.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/hr_js.html">hr.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/hu_js.html">hu.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/id_js.html">id.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/it_js.html">it.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/ja_js.html">ja.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/km_js.html">km.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/ko_js.html">ko.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/ku_js.html">ku.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/lt_js.html">lt.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/lv_js.html">lv.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/nb_js.html">nb.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/nl_js.html">nl.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/no_js.html">no.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/pl_js.html">pl.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/pt-br_js.html">pt-br.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/pt_js.html">pt.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/ru_js.html">ru.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/si_js.html">si.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/sk_js.html">sk.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/sl_js.html">sl.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/sq_js.html">sq.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/sv_js.html">sv.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/th_js.html">th.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/tr_js.html">tr.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/tt_js.html">tt.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/ug_js.html">ug.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/uk_js.html">uk.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/vi_js.html">vi.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/zh-cn_js.html">zh-cn.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/lang/zh_js.html">zh.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/specialchar/dialogs/specialchar_js.html">specialchar.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/table/dialogs/table_js.html">table.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/tabletools/dialogs/tableCell_js.html">tableCell.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/wsc/LICENSE_md.html">LICENSE</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/wsc/README_md.html">README</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/wsc/dialogs/ciframe_html.html">ciframe.html</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/wsc/dialogs/tmpFrameset_html.html">tmpFrameset.html</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/wsc/dialogs/wsc_css.html">wsc.css</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/wsc/dialogs/wsc_js.html">wsc.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/plugins/wsc/dialogs/wsc_ie_js.html">wsc_ie.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/css/samples_css.html">samples.css</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/index_html.html">index.html</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/js/sample_js.html">sample.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/js/sf_js.html">sf.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/old/ajax_html.html">ajax.html</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/old/api_html.html">api.html</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/old/appendto_html.html">appendto.html</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/old/assets/outputxhtml/outputxhtml_css.html">outputxhtml.css</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/old/assets/posteddata_php.html">posteddata.php</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/old/assets/uilanguages/languages_js.html">languages.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/old/datafiltering_html.html">datafiltering.html</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/old/dialog/assets/my_dialog_js.html">my_dialog.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/old/dialog/dialog_html.html">dialog.html</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/old/divreplace_html.html">divreplace.html</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/old/enterkey/enterkey_html.html">enterkey.html</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/old/htmlwriter/assets/outputforflash/swfobject_js.html">swfobject.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/old/htmlwriter/outputforflash_html.html">outputforflash.html</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/old/htmlwriter/outputhtml_html.html">outputhtml.html</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/old/index_html.html">index.html</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/old/inlineall_html.html">inlineall.html</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/old/inlinebycode_html.html">inlinebycode.html</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/old/inlinetextarea_html.html">inlinetextarea.html</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/old/jquery_html.html">jquery.html</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/old/magicline/magicline_html.html">magicline.html</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/old/readonly_html.html">readonly.html</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/old/replacebyclass_html.html">replacebyclass.html</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/old/replacebycode_html.html">replacebycode.html</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/old/sample_css.html">sample.css</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/old/sample_js.html">sample.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/old/sample_posteddata_php.html">sample_posteddata.php</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/old/tabindex_html.html">tabindex.html</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/old/toolbar/toolbar_html.html">toolbar.html</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/old/uicolor_html.html">uicolor.html</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/old/uilanguages_html.html">uilanguages.html</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/old/wysiwygarea/fullpage_html.html">fullpage.html</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/old/xhtmlstyle_html.html">xhtmlstyle.html</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/toolbarconfigurator/css/fontello_css.html">fontello.css</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/toolbarconfigurator/font/LICENSE_txt.html">LICENSE</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/toolbarconfigurator/font/config_json.html">config.json</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/toolbarconfigurator/index_html.html">index.html</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/toolbarconfigurator/js/abstracttoolbarmodifier_js.html">abstracttoolbarmodifier.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/toolbarconfigurator/js/fulltoolbareditor_js.html">fulltoolbareditor.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/toolbarconfigurator/js/toolbarmodifier_js.html">toolbarmodifier.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/toolbarconfigurator/js/toolbartextmodifier_js.html">toolbartextmodifier.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/toolbarconfigurator/lib/codemirror/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/toolbarconfigurator/lib/codemirror/codemirror_css.html">codemirror.css</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/toolbarconfigurator/lib/codemirror/codemirror_js.html">codemirror.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/toolbarconfigurator/lib/codemirror/javascript_js.html">javascript.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/toolbarconfigurator/lib/codemirror/neo_css.html">neo.css</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/toolbarconfigurator/lib/codemirror/show-hint_css.html">show-hint.css</a>
  
    <li><a href="../../../public/plugins/ckeditor/samples/toolbarconfigurator/lib/codemirror/show-hint_js.html">show-hint.js</a>
  
    <li><a href="../../../public/plugins/ckeditor/skins/moono/dialog_css.html">dialog.css</a>
  
    <li><a href="../../../public/plugins/ckeditor/skins/moono/dialog_ie_css.html">dialog_ie.css</a>
  
    <li><a href="../../../public/plugins/ckeditor/skins/moono/dialog_ie7_css.html">dialog_ie7.css</a>
  
    <li><a href="../../../public/plugins/ckeditor/skins/moono/dialog_ie8_css.html">dialog_ie8.css</a>
  
    <li><a href="../../../public/plugins/ckeditor/skins/moono/dialog_iequirks_css.html">dialog_iequirks.css</a>
  
    <li><a href="../../../public/plugins/ckeditor/skins/moono/editor_css.html">editor.css</a>
  
    <li><a href="../../../public/plugins/ckeditor/skins/moono/editor_gecko_css.html">editor_gecko.css</a>
  
    <li><a href="../../../public/plugins/ckeditor/skins/moono/editor_ie_css.html">editor_ie.css</a>
  
    <li><a href="../../../public/plugins/ckeditor/skins/moono/editor_ie7_css.html">editor_ie7.css</a>
  
    <li><a href="../../../public/plugins/ckeditor/skins/moono/editor_ie8_css.html">editor_ie8.css</a>
  
    <li><a href="../../../public/plugins/ckeditor/skins/moono/editor_iequirks_css.html">editor_iequirks.css</a>
  
    <li><a href="../../../public/plugins/ckeditor/skins/moono/readme_md.html">readme</a>
  
    <li><a href="../../../public/plugins/ckeditor/styles_js.html">styles.js</a>
  
    <li><a href="../../../public/plugins/colorpicker/bootstrap-colorpicker_css.html">bootstrap-colorpicker.css</a>
  
    <li><a href="../../../public/plugins/colorpicker/bootstrap-colorpicker_js.html">bootstrap-colorpicker.js</a>
  
    <li><a href="../../../public/plugins/colorpicker/bootstrap-colorpicker_min_css.html">bootstrap-colorpicker.min.css</a>
  
    <li><a href="../../../public/plugins/colorpicker/bootstrap-colorpicker_min_js.html">bootstrap-colorpicker.min.js</a>
  
    <li><a href="../../../public/plugins/datatables/dataTables_bootstrap_css.html">dataTables.bootstrap.css</a>
  
    <li><a href="../../../public/plugins/datatables/dataTables_bootstrap_js.html">dataTables.bootstrap.js</a>
  
    <li><a href="../../../public/plugins/datatables/dataTables_bootstrap_min_js.html">dataTables.bootstrap.min.js</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/AutoFill/Readme_txt.html">Readme</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/AutoFill/css/dataTables_autoFill_css.html">dataTables.autoFill.css</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/AutoFill/css/dataTables_autoFill_min_css.html">dataTables.autoFill.min.css</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/AutoFill/examples/columns_html.html">columns.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/AutoFill/examples/complete-callback_html.html">complete-callback.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/AutoFill/examples/fill-both_html.html">fill-both.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/AutoFill/examples/fill-horizontal_html.html">fill-horizontal.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/AutoFill/examples/index_html.html">index.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/AutoFill/examples/scrolling_html.html">scrolling.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/AutoFill/examples/simple_html.html">simple.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/AutoFill/examples/step-callback_html.html">step-callback.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/AutoFill/js/dataTables_autoFill_js.html">dataTables.autoFill.js</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/AutoFill/js/dataTables_autoFill_min_js.html">dataTables.autoFill.min.js</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColReorder/License_txt.html">License</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColReorder/Readme_md.html">Readme</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColReorder/css/dataTables_colReorder_css.html">dataTables.colReorder.css</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColReorder/css/dataTables_colReorder_min_css.html">dataTables.colReorder.min.css</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColReorder/examples/alt_insert_html.html">alt_insert.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColReorder/examples/col_filter_html.html">col_filter.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColReorder/examples/colvis_html.html">colvis.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColReorder/examples/fixedcolumns_html.html">fixedcolumns.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColReorder/examples/fixedheader_html.html">fixedheader.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColReorder/examples/index_html.html">index.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColReorder/examples/jqueryui_html.html">jqueryui.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColReorder/examples/new_init_html.html">new_init.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColReorder/examples/predefined_html.html">predefined.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColReorder/examples/realtime_html.html">realtime.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColReorder/examples/reset_html.html">reset.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColReorder/examples/scrolling_html.html">scrolling.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColReorder/examples/server_side_html.html">server_side.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColReorder/examples/simple_html.html">simple.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColReorder/examples/state_save_html.html">state_save.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColReorder/js/dataTables_colReorder_js.html">dataTables.colReorder.js</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColReorder/js/dataTables_colReorder_min_js.html">dataTables.colReorder.min.js</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColVis/License_txt.html">License</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColVis/Readme_md.html">Readme</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColVis/css/dataTables_colVis_css.html">dataTables.colVis.css</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColVis/css/dataTables_colVis_min_css.html">dataTables.colVis.min.css</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColVis/css/dataTables_colvis_jqueryui_css.html">dataTables.colvis.jqueryui.css</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColVis/examples/button_order_html.html">button_order.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColVis/examples/exclude_columns_html.html">exclude_columns.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColVis/examples/group_columns_html.html">group_columns.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColVis/examples/index_html.html">index.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColVis/examples/jqueryui_html.html">jqueryui.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColVis/examples/mouseover_html.html">mouseover.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColVis/examples/new_init_html.html">new_init.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColVis/examples/restore_html.html">restore.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColVis/examples/simple_html.html">simple.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColVis/examples/text_html.html">text.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColVis/examples/title_callback_html.html">title_callback.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColVis/examples/two_tables_html.html">two_tables.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColVis/examples/two_tables_identical_html.html">two_tables_identical.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColVis/js/dataTables_colVis_js.html">dataTables.colVis.js</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/ColVis/js/dataTables_colVis_min_js.html">dataTables.colVis.min.js</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/FixedColumns/License_txt.html">License</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/FixedColumns/Readme_md.html">Readme</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/FixedColumns/css/dataTables_fixedColumns_css.html">dataTables.fixedColumns.css</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/FixedColumns/css/dataTables_fixedColumns_min_css.html">dataTables.fixedColumns.min.css</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/FixedColumns/examples/bootstrap_html.html">bootstrap.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/FixedColumns/examples/col_filter_html.html">col_filter.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/FixedColumns/examples/colvis_html.html">colvis.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/FixedColumns/examples/css_size_html.html">css_size.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/FixedColumns/examples/index_html.html">index.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/FixedColumns/examples/index_column_html.html">index_column.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/FixedColumns/examples/left_right_columns_html.html">left_right_columns.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/FixedColumns/examples/right_column_html.html">right_column.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/FixedColumns/examples/rowspan_html.html">rowspan.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/FixedColumns/examples/server-side-processing_html.html">server-side-processing.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/FixedColumns/examples/simple_html.html">simple.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/FixedColumns/examples/size_fixed_html.html">size_fixed.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/FixedColumns/examples/size_fluid_html.html">size_fluid.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/FixedColumns/examples/two_columns_html.html">two_columns.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/FixedColumns/js/dataTables_fixedColumns_js.html">dataTables.fixedColumns.js</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/FixedColumns/js/dataTables_fixedColumns_min_js.html">dataTables.fixedColumns.min.js</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/FixedHeader/Readme_txt.html">Readme</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/FixedHeader/css/dataTables_fixedHeader_css.html">dataTables.fixedHeader.css</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/FixedHeader/css/dataTables_fixedHeader_min_css.html">dataTables.fixedHeader.min.css</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/FixedHeader/examples/header_footer_html.html">header_footer.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/FixedHeader/examples/index_html.html">index.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/FixedHeader/examples/simple_html.html">simple.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/FixedHeader/examples/top_left_right_html.html">top_left_right.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/FixedHeader/examples/two_tables_html.html">two_tables.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/FixedHeader/examples/zIndexes_html.html">zIndexes.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/FixedHeader/js/dataTables_fixedHeader_js.html">dataTables.fixedHeader.js</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/FixedHeader/js/dataTables_fixedHeader_min_js.html">dataTables.fixedHeader.min.js</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/KeyTable/Readme_txt.html">Readme</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/KeyTable/css/dataTables_keyTable_css.html">dataTables.keyTable.css</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/KeyTable/css/dataTables_keyTable_min_css.html">dataTables.keyTable.min.css</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/KeyTable/examples/events_html.html">events.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/KeyTable/examples/html_html.html">html.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/KeyTable/examples/index_html.html">index.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/KeyTable/examples/scrolling_html.html">scrolling.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/KeyTable/examples/simple_html.html">simple.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/KeyTable/js/dataTables_keyTable_js.html">dataTables.keyTable.js</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/KeyTable/js/dataTables_keyTable_min_js.html">dataTables.keyTable.min.js</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Responsive/License_txt.html">License</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Responsive/Readme_md.html">Readme</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Responsive/css/dataTables_responsive_css.html">dataTables.responsive.css</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Responsive/css/dataTables_responsive_scss.html">dataTables.responsive.scss</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Responsive/examples/child-rows/column-control_html.html">column-control.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Responsive/examples/child-rows/custom-renderer_html.html">custom-renderer.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Responsive/examples/child-rows/disable-child-rows_html.html">disable-child-rows.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Responsive/examples/child-rows/index_html.html">index.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Responsive/examples/child-rows/right-column_html.html">right-column.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Responsive/examples/child-rows/whole-row-control_html.html">whole-row-control.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Responsive/examples/display-control/auto_html.html">auto.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Responsive/examples/display-control/classes_html.html">classes.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Responsive/examples/display-control/complexHeader_html.html">complexHeader.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Responsive/examples/display-control/fixedHeader_html.html">fixedHeader.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Responsive/examples/display-control/index_html.html">index.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Responsive/examples/display-control/init-classes_html.html">init-classes.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Responsive/examples/index_html.html">index.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Responsive/examples/initialisation/ajax_html.html">ajax.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Responsive/examples/initialisation/className_html.html">className.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Responsive/examples/initialisation/default_html.html">default.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Responsive/examples/initialisation/index_html.html">index.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Responsive/examples/initialisation/new_html.html">new.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Responsive/examples/initialisation/option_html.html">option.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Responsive/examples/styling/bootstrap_html.html">bootstrap.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Responsive/examples/styling/compact_html.html">compact.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Responsive/examples/styling/foundation_html.html">foundation.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Responsive/examples/styling/index_html.html">index.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Responsive/examples/styling/scrolling_html.html">scrolling.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Responsive/js/dataTables_responsive_js.html">dataTables.responsive.js</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Responsive/js/dataTables_responsive_min_js.html">dataTables.responsive.min.js</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Scroller/Readme_txt.html">Readme</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Scroller/css/dataTables_scroller_css.html">dataTables.scroller.css</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Scroller/css/dataTables_scroller_min_css.html">dataTables.scroller.min.css</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Scroller/examples/api_scrolling_html.html">api_scrolling.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Scroller/examples/data/2500_txt.html">2500</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Scroller/examples/data/ssp_php.html">ssp.php</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Scroller/examples/index_html.html">index.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Scroller/examples/large_js_source_html.html">large_js_source.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Scroller/examples/server-side_processing_html.html">server-side_processing.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Scroller/examples/simple_html.html">simple.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Scroller/examples/state_saving_html.html">state_saving.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Scroller/js/dataTables_scroller_js.html">dataTables.scroller.js</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/Scroller/js/dataTables_scroller_min_js.html">dataTables.scroller.min.js</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/TableTools/Readme_md.html">Readme</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/TableTools/css/dataTables_tableTools_css.html">dataTables.tableTools.css</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/TableTools/css/dataTables_tableTools_min_css.html">dataTables.tableTools.min.css</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/TableTools/examples/ajax_html.html">ajax.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/TableTools/examples/alter_buttons_html.html">alter_buttons.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/TableTools/examples/bootstrap_html.html">bootstrap.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/TableTools/examples/button_text_html.html">button_text.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/TableTools/examples/collection_html.html">collection.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/TableTools/examples/defaults_html.html">defaults.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/TableTools/examples/index_html.html">index.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/TableTools/examples/jqueryui_html.html">jqueryui.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/TableTools/examples/multi_instance_html.html">multi_instance.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/TableTools/examples/multiple_tables_html.html">multiple_tables.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/TableTools/examples/new_init_html.html">new_init.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/TableTools/examples/pdf_message_html.html">pdf_message.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/TableTools/examples/plug-in_html.html">plug-in.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/TableTools/examples/select_column_html.html">select_column.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/TableTools/examples/select_multi_html.html">select_multi.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/TableTools/examples/select_os_html.html">select_os.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/TableTools/examples/select_single_html.html">select_single.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/TableTools/examples/simple_html.html">simple.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/TableTools/examples/swf_path_html.html">swf_path.html</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/TableTools/js/dataTables_tableTools_js.html">dataTables.tableTools.js</a>
  
    <li><a href="../../../public/plugins/datatables/extensions/TableTools/js/dataTables_tableTools_min_js.html">dataTables.tableTools.min.js</a>
  
    <li><a href="../../../public/plugins/datatables/jquery_dataTables_css.html">jquery.dataTables.css</a>
  
    <li><a href="../../../public/plugins/datatables/jquery_dataTables_js.html">jquery.dataTables.js</a>
  
    <li><a href="../../../public/plugins/datatables/jquery_dataTables_min_css.html">jquery.dataTables.min.css</a>
  
    <li><a href="../../../public/plugins/datatables/jquery_dataTables_min_js.html">jquery.dataTables.min.js</a>
  
    <li><a href="../../../public/plugins/datatables/jquery_dataTables_themeroller_css.html">jquery.dataTables_themeroller.css</a>
  
    <li><a href="../../../public/plugins/datepicker/bootstrap-datepicker_js.html">bootstrap-datepicker.js</a>
  
    <li><a href="../../../public/plugins/datepicker/datepicker3_css.html">datepicker3.css</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_ar_js.html">bootstrap-datepicker.ar.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_az_js.html">bootstrap-datepicker.az.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_bg_js.html">bootstrap-datepicker.bg.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_ca_js.html">bootstrap-datepicker.ca.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_cs_js.html">bootstrap-datepicker.cs.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_cy_js.html">bootstrap-datepicker.cy.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_da_js.html">bootstrap-datepicker.da.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_de_js.html">bootstrap-datepicker.de.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_el_js.html">bootstrap-datepicker.el.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_es_js.html">bootstrap-datepicker.es.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_et_js.html">bootstrap-datepicker.et.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_fa_js.html">bootstrap-datepicker.fa.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_fi_js.html">bootstrap-datepicker.fi.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_fr_js.html">bootstrap-datepicker.fr.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_gl_js.html">bootstrap-datepicker.gl.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_he_js.html">bootstrap-datepicker.he.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_hr_js.html">bootstrap-datepicker.hr.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_hu_js.html">bootstrap-datepicker.hu.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_id_js.html">bootstrap-datepicker.id.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_is_js.html">bootstrap-datepicker.is.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_it_js.html">bootstrap-datepicker.it.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_ja_js.html">bootstrap-datepicker.ja.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_ka_js.html">bootstrap-datepicker.ka.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_kk_js.html">bootstrap-datepicker.kk.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_kr_js.html">bootstrap-datepicker.kr.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_lt_js.html">bootstrap-datepicker.lt.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_lv_js.html">bootstrap-datepicker.lv.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_mk_js.html">bootstrap-datepicker.mk.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_ms_js.html">bootstrap-datepicker.ms.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_nb_js.html">bootstrap-datepicker.nb.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_nl-BE_js.html">bootstrap-datepicker.nl-BE.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_nl_js.html">bootstrap-datepicker.nl.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_no_js.html">bootstrap-datepicker.no.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_pl_js.html">bootstrap-datepicker.pl.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_pt-BR_js.html">bootstrap-datepicker.pt-BR.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_pt_js.html">bootstrap-datepicker.pt.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_ro_js.html">bootstrap-datepicker.ro.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_rs-latin_js.html">bootstrap-datepicker.rs-latin.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_rs_js.html">bootstrap-datepicker.rs.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_ru_js.html">bootstrap-datepicker.ru.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_sk_js.html">bootstrap-datepicker.sk.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_sl_js.html">bootstrap-datepicker.sl.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_sq_js.html">bootstrap-datepicker.sq.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_sv_js.html">bootstrap-datepicker.sv.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_sw_js.html">bootstrap-datepicker.sw.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_th_js.html">bootstrap-datepicker.th.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_tr_js.html">bootstrap-datepicker.tr.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_ua_js.html">bootstrap-datepicker.ua.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_vi_js.html">bootstrap-datepicker.vi.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_zh-CN_js.html">bootstrap-datepicker.zh-CN.js</a>
  
    <li><a href="../../../public/plugins/datepicker/locales/bootstrap-datepicker_zh-TW_js.html">bootstrap-datepicker.zh-TW.js</a>
  
    <li><a href="../../../public/plugins/daterangepicker/daterangepicker_css.html">daterangepicker.css</a>
  
    <li><a href="../../../public/plugins/daterangepicker/daterangepicker_js.html">daterangepicker.js</a>
  
    <li><a href="../../../public/plugins/daterangepicker/moment_js.html">moment.js</a>
  
    <li><a href="../../../public/plugins/daterangepicker/moment_min_js.html">moment.min.js</a>
  
    <li><a href="../../../public/plugins/fastclick/fastclick_js.html">fastclick.js</a>
  
    <li><a href="../../../public/plugins/fastclick/fastclick_min_js.html">fastclick.min.js</a>
  
    <li><a href="../../../public/plugins/flot/excanvas_js.html">excanvas.js</a>
  
    <li><a href="../../../public/plugins/flot/excanvas_min_js.html">excanvas.min.js</a>
  
    <li><a href="../../../public/plugins/flot/jquery_colorhelpers_js.html">jquery.colorhelpers.js</a>
  
    <li><a href="../../../public/plugins/flot/jquery_colorhelpers_min_js.html">jquery.colorhelpers.min.js</a>
  
    <li><a href="../../../public/plugins/flot/jquery_flot_canvas_js.html">jquery.flot.canvas.js</a>
  
    <li><a href="../../../public/plugins/flot/jquery_flot_canvas_min_js.html">jquery.flot.canvas.min.js</a>
  
    <li><a href="../../../public/plugins/flot/jquery_flot_categories_js.html">jquery.flot.categories.js</a>
  
    <li><a href="../../../public/plugins/flot/jquery_flot_categories_min_js.html">jquery.flot.categories.min.js</a>
  
    <li><a href="../../../public/plugins/flot/jquery_flot_crosshair_js.html">jquery.flot.crosshair.js</a>
  
    <li><a href="../../../public/plugins/flot/jquery_flot_crosshair_min_js.html">jquery.flot.crosshair.min.js</a>
  
    <li><a href="../../../public/plugins/flot/jquery_flot_errorbars_js.html">jquery.flot.errorbars.js</a>
  
    <li><a href="../../../public/plugins/flot/jquery_flot_errorbars_min_js.html">jquery.flot.errorbars.min.js</a>
  
    <li><a href="../../../public/plugins/flot/jquery_flot_fillbetween_js.html">jquery.flot.fillbetween.js</a>
  
    <li><a href="../../../public/plugins/flot/jquery_flot_fillbetween_min_js.html">jquery.flot.fillbetween.min.js</a>
  
    <li><a href="../../../public/plugins/flot/jquery_flot_image_js.html">jquery.flot.image.js</a>
  
    <li><a href="../../../public/plugins/flot/jquery_flot_image_min_js.html">jquery.flot.image.min.js</a>
  
    <li><a href="../../../public/plugins/flot/jquery_flot_js.html">jquery.flot.js</a>
  
    <li><a href="../../../public/plugins/flot/jquery_flot_min_js.html">jquery.flot.min.js</a>
  
    <li><a href="../../../public/plugins/flot/jquery_flot_navigate_js.html">jquery.flot.navigate.js</a>
  
    <li><a href="../../../public/plugins/flot/jquery_flot_navigate_min_js.html">jquery.flot.navigate.min.js</a>
  
    <li><a href="../../../public/plugins/flot/jquery_flot_pie_js.html">jquery.flot.pie.js</a>
  
    <li><a href="../../../public/plugins/flot/jquery_flot_pie_min_js.html">jquery.flot.pie.min.js</a>
  
    <li><a href="../../../public/plugins/flot/jquery_flot_resize_js.html">jquery.flot.resize.js</a>
  
    <li><a href="../../../public/plugins/flot/jquery_flot_resize_min_js.html">jquery.flot.resize.min.js</a>
  
    <li><a href="../../../public/plugins/flot/jquery_flot_selection_js.html">jquery.flot.selection.js</a>
  
    <li><a href="../../../public/plugins/flot/jquery_flot_selection_min_js.html">jquery.flot.selection.min.js</a>
  
    <li><a href="../../../public/plugins/flot/jquery_flot_stack_js.html">jquery.flot.stack.js</a>
  
    <li><a href="../../../public/plugins/flot/jquery_flot_stack_min_js.html">jquery.flot.stack.min.js</a>
  
    <li><a href="../../../public/plugins/flot/jquery_flot_symbol_js.html">jquery.flot.symbol.js</a>
  
    <li><a href="../../../public/plugins/flot/jquery_flot_symbol_min_js.html">jquery.flot.symbol.min.js</a>
  
    <li><a href="../../../public/plugins/flot/jquery_flot_threshold_js.html">jquery.flot.threshold.js</a>
  
    <li><a href="../../../public/plugins/flot/jquery_flot_threshold_min_js.html">jquery.flot.threshold.min.js</a>
  
    <li><a href="../../../public/plugins/flot/jquery_flot_time_js.html">jquery.flot.time.js</a>
  
    <li><a href="../../../public/plugins/flot/jquery_flot_time_min_js.html">jquery.flot.time.min.js</a>
  
    <li><a href="../../../public/plugins/fullcalendar/fullcalendar_css.html">fullcalendar.css</a>
  
    <li><a href="../../../public/plugins/fullcalendar/fullcalendar_js.html">fullcalendar.js</a>
  
    <li><a href="../../../public/plugins/fullcalendar/fullcalendar_min_css.html">fullcalendar.min.css</a>
  
    <li><a href="../../../public/plugins/fullcalendar/fullcalendar_min_js.html">fullcalendar.min.js</a>
  
    <li><a href="../../../public/plugins/fullcalendar/fullcalendar_print_css.html">fullcalendar.print.css</a>
  
    <li><a href="../../../public/plugins/iCheck/all_css.html">all.css</a>
  
    <li><a href="../../../public/plugins/iCheck/flat/_all_css.html">_all.css</a>
  
    <li><a href="../../../public/plugins/iCheck/flat/aero_css.html">aero.css</a>
  
    <li><a href="../../../public/plugins/iCheck/flat/blue_css.html">blue.css</a>
  
    <li><a href="../../../public/plugins/iCheck/flat/flat_css.html">flat.css</a>
  
    <li><a href="../../../public/plugins/iCheck/flat/green_css.html">green.css</a>
  
    <li><a href="../../../public/plugins/iCheck/flat/grey_css.html">grey.css</a>
  
    <li><a href="../../../public/plugins/iCheck/flat/orange_css.html">orange.css</a>
  
    <li><a href="../../../public/plugins/iCheck/flat/pink_css.html">pink.css</a>
  
    <li><a href="../../../public/plugins/iCheck/flat/purple_css.html">purple.css</a>
  
    <li><a href="../../../public/plugins/iCheck/flat/red_css.html">red.css</a>
  
    <li><a href="../../../public/plugins/iCheck/flat/yellow_css.html">yellow.css</a>
  
    <li><a href="../../../public/plugins/iCheck/futurico/futurico_css.html">futurico.css</a>
  
    <li><a href="../../../public/plugins/iCheck/icheck_js.html">icheck.js</a>
  
    <li><a href="../../../public/plugins/iCheck/icheck_min_js.html">icheck.min.js</a>
  
    <li><a href="../../../public/plugins/iCheck/line/_all_css.html">_all.css</a>
  
    <li><a href="../../../public/plugins/iCheck/line/aero_css.html">aero.css</a>
  
    <li><a href="../../../public/plugins/iCheck/line/blue_css.html">blue.css</a>
  
    <li><a href="../../../public/plugins/iCheck/line/green_css.html">green.css</a>
  
    <li><a href="../../../public/plugins/iCheck/line/grey_css.html">grey.css</a>
  
    <li><a href="../../../public/plugins/iCheck/line/line_css.html">line.css</a>
  
    <li><a href="../../../public/plugins/iCheck/line/orange_css.html">orange.css</a>
  
    <li><a href="../../../public/plugins/iCheck/line/pink_css.html">pink.css</a>
  
    <li><a href="../../../public/plugins/iCheck/line/purple_css.html">purple.css</a>
  
    <li><a href="../../../public/plugins/iCheck/line/red_css.html">red.css</a>
  
    <li><a href="../../../public/plugins/iCheck/line/yellow_css.html">yellow.css</a>
  
    <li><a href="../../../public/plugins/iCheck/minimal/_all_css.html">_all.css</a>
  
    <li><a href="../../../public/plugins/iCheck/minimal/aero_css.html">aero.css</a>
  
    <li><a href="../../../public/plugins/iCheck/minimal/blue_css.html">blue.css</a>
  
    <li><a href="../../../public/plugins/iCheck/minimal/green_css.html">green.css</a>
  
    <li><a href="../../../public/plugins/iCheck/minimal/grey_css.html">grey.css</a>
  
    <li><a href="../../../public/plugins/iCheck/minimal/minimal_css.html">minimal.css</a>
  
    <li><a href="../../../public/plugins/iCheck/minimal/orange_css.html">orange.css</a>
  
    <li><a href="../../../public/plugins/iCheck/minimal/pink_css.html">pink.css</a>
  
    <li><a href="../../../public/plugins/iCheck/minimal/purple_css.html">purple.css</a>
  
    <li><a href="../../../public/plugins/iCheck/minimal/red_css.html">red.css</a>
  
    <li><a href="../../../public/plugins/iCheck/minimal/yellow_css.html">yellow.css</a>
  
    <li><a href="../../../public/plugins/iCheck/polaris/polaris_css.html">polaris.css</a>
  
    <li><a href="../../../public/plugins/iCheck/square/_all_css.html">_all.css</a>
  
    <li><a href="../../../public/plugins/iCheck/square/aero_css.html">aero.css</a>
  
    <li><a href="../../../public/plugins/iCheck/square/blue_css.html">blue.css</a>
  
    <li><a href="../../../public/plugins/iCheck/square/green_css.html">green.css</a>
  
    <li><a href="../../../public/plugins/iCheck/square/grey_css.html">grey.css</a>
  
    <li><a href="../../../public/plugins/iCheck/square/orange_css.html">orange.css</a>
  
    <li><a href="../../../public/plugins/iCheck/square/pink_css.html">pink.css</a>
  
    <li><a href="../../../public/plugins/iCheck/square/purple_css.html">purple.css</a>
  
    <li><a href="../../../public/plugins/iCheck/square/red_css.html">red.css</a>
  
    <li><a href="../../../public/plugins/iCheck/square/square_css.html">square.css</a>
  
    <li><a href="../../../public/plugins/iCheck/square/yellow_css.html">yellow.css</a>
  
    <li><a href="../../../public/plugins/input-mask/jquery_inputmask_date_extensions_js.html">jquery.inputmask.date.extensions.js</a>
  
    <li><a href="../../../public/plugins/input-mask/jquery_inputmask_extensions_js.html">jquery.inputmask.extensions.js</a>
  
    <li><a href="../../../public/plugins/input-mask/jquery_inputmask_js.html">jquery.inputmask.js</a>
  
    <li><a href="../../../public/plugins/input-mask/jquery_inputmask_numeric_extensions_js.html">jquery.inputmask.numeric.extensions.js</a>
  
    <li><a href="../../../public/plugins/input-mask/jquery_inputmask_phone_extensions_js.html">jquery.inputmask.phone.extensions.js</a>
  
    <li><a href="../../../public/plugins/input-mask/jquery_inputmask_regex_extensions_js.html">jquery.inputmask.regex.extensions.js</a>
  
    <li><a href="../../../public/plugins/input-mask/phone-codes/phone-be_json.html">phone-be.json</a>
  
    <li><a href="../../../public/plugins/input-mask/phone-codes/phone-codes_json.html">phone-codes.json</a>
  
    <li><a href="../../../public/plugins/input-mask/phone-codes/readme_txt.html">readme</a>
  
    <li><a href="../../../public/plugins/ionslider/ion_rangeSlider_css.html">ion.rangeSlider.css</a>
  
    <li><a href="../../../public/plugins/ionslider/ion_rangeSlider_min_js.html">ion.rangeSlider.min.js</a>
  
    <li><a href="../../../public/plugins/ionslider/ion_rangeSlider_skinFlat_css.html">ion.rangeSlider.skinFlat.css</a>
  
    <li><a href="../../../public/plugins/ionslider/ion_rangeSlider_skinNice_css.html">ion.rangeSlider.skinNice.css</a>
  
    <li><a href="../../../public/plugins/jQuery/jquery-2_2_3_min_js.html">jquery-2.2.3.min.js</a>
  
    <li><a href="../../../public/plugins/jQueryUI/jquery-ui_js.html">jquery-ui.js</a>
  
    <li><a href="../../../public/plugins/jQueryUI/jquery-ui_min_js.html">jquery-ui.min.js</a>
  
    <li><a href="../../../public/plugins/jvectormap/jquery-jvectormap-1_2_2_css.html">jquery-jvectormap-1.2.2.css</a>
  
    <li><a href="../../../public/plugins/jvectormap/jquery-jvectormap-1_2_2_min_js.html">jquery-jvectormap-1.2.2.min.js</a>
  
    <li><a href="../../../public/plugins/jvectormap/jquery-jvectormap-usa-en_js.html">jquery-jvectormap-usa-en.js</a>
  
    <li><a href="../../../public/plugins/jvectormap/jquery-jvectormap-world-mill-en_js.html">jquery-jvectormap-world-mill-en.js</a>
  
    <li><a href="../../../public/plugins/knob/jquery_knob_js.html">jquery.knob.js</a>
  
    <li><a href="../../../public/plugins/mensajes/alertify_min_js.html">alertify.min.js</a>
  
    <li><a href="../../../public/plugins/mensajes/sweetalert_min_js.html">sweetalert.min.js</a>
  
    <li><a href="../../../public/plugins/morris/morris_css.html">morris.css</a>
  
    <li><a href="../../../public/plugins/morris/morris_js.html">morris.js</a>
  
    <li><a href="../../../public/plugins/morris/morris_min_js.html">morris.min.js</a>
  
    <li><a href="../../../public/plugins/numeric/jquery_numeric_js.html">jquery.numeric.js</a>
  
    <li><a href="../../../public/plugins/pace/pace_css.html">pace.css</a>
  
    <li><a href="../../../public/plugins/pace/pace_js.html">pace.js</a>
  
    <li><a href="../../../public/plugins/pace/pace_min_css.html">pace.min.css</a>
  
    <li><a href="../../../public/plugins/pace/pace_min_js.html">pace.min.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/ar_js.html">ar.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/az_js.html">az.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/bg_js.html">bg.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/ca_js.html">ca.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/cs_js.html">cs.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/da_js.html">da.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/de_js.html">de.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/el_js.html">el.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/en_js.html">en.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/es_js.html">es.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/et_js.html">et.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/eu_js.html">eu.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/fa_js.html">fa.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/fi_js.html">fi.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/fr_js.html">fr.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/gl_js.html">gl.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/he_js.html">he.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/hi_js.html">hi.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/hr_js.html">hr.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/hu_js.html">hu.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/id_js.html">id.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/is_js.html">is.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/it_js.html">it.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/ja_js.html">ja.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/km_js.html">km.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/ko_js.html">ko.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/lt_js.html">lt.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/lv_js.html">lv.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/mk_js.html">mk.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/ms_js.html">ms.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/nb_js.html">nb.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/nl_js.html">nl.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/pl_js.html">pl.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/pt-BR_js.html">pt-BR.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/pt_js.html">pt.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/ro_js.html">ro.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/ru_js.html">ru.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/sk_js.html">sk.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/sr-Cyrl_js.html">sr-Cyrl.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/sr_js.html">sr.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/sv_js.html">sv.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/th_js.html">th.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/tr_js.html">tr.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/uk_js.html">uk.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/vi_js.html">vi.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/zh-CN_js.html">zh-CN.js</a>
  
    <li><a href="../../../public/plugins/select2/i18n/zh-TW_js.html">zh-TW.js</a>
  
    <li><a href="../../../public/plugins/select2/select2_css.html">select2.css</a>
  
    <li><a href="../../../public/plugins/select2/select2_full_js.html">select2.full.js</a>
  
    <li><a href="../../../public/plugins/select2/select2_full_min_js.html">select2.full.min.js</a>
  
    <li><a href="../../../public/plugins/select2/select2_js.html">select2.js</a>
  
    <li><a href="../../../public/plugins/select2/select2_min_css.html">select2.min.css</a>
  
    <li><a href="../../../public/plugins/select2/select2_min_js.html">select2.min.js</a>
  
    <li><a href="../../../public/plugins/slimScroll/jquery_slimscroll_js.html">jquery.slimscroll.js</a>
  
    <li><a href="../../../public/plugins/slimScroll/jquery_slimscroll_min_js.html">jquery.slimscroll.min.js</a>
  
    <li><a href="../../../public/plugins/sparkline/jquery_sparkline_js.html">jquery.sparkline.js</a>
  
    <li><a href="../../../public/plugins/sparkline/jquery_sparkline_min_js.html">jquery.sparkline.min.js</a>
  
    <li><a href="../../../public/plugins/timepicker/bootstrap-timepicker_css.html">bootstrap-timepicker.css</a>
  
    <li><a href="../../../public/plugins/timepicker/bootstrap-timepicker_js.html">bootstrap-timepicker.js</a>
  
    <li><a href="../../../public/plugins/timepicker/bootstrap-timepicker_min_css.html">bootstrap-timepicker.min.css</a>
  
    <li><a href="../../../public/plugins/timepicker/bootstrap-timepicker_min_js.html">bootstrap-timepicker.min.js</a>
  
    <li><a href="../../../public/robots_txt.html">robots</a>
  
    <li><a href="../../../public/vendor/animate/animate_css.html">animate.css</a>
  
    <li><a href="../../../public/vendor/animsition/css/animsition_css.html">animsition.css</a>
  
    <li><a href="../../../public/vendor/animsition/css/animsition_min_css.html">animsition.min.css</a>
  
    <li><a href="../../../public/vendor/animsition/js/animsition_js.html">animsition.js</a>
  
    <li><a href="../../../public/vendor/animsition/js/animsition_min_js.html">animsition.min.js</a>
  
    <li><a href="../../../public/vendor/bootstrap/css/bootstrap-grid_css.html">bootstrap-grid.css</a>
  
    <li><a href="../../../public/vendor/bootstrap/css/bootstrap-grid_css_map.html">bootstrap-grid.css.map</a>
  
    <li><a href="../../../public/vendor/bootstrap/css/bootstrap-grid_min_css.html">bootstrap-grid.min.css</a>
  
    <li><a href="../../../public/vendor/bootstrap/css/bootstrap-grid_min_css_map.html">bootstrap-grid.min.css.map</a>
  
    <li><a href="../../../public/vendor/bootstrap/css/bootstrap-reboot_css.html">bootstrap-reboot.css</a>
  
    <li><a href="../../../public/vendor/bootstrap/css/bootstrap-reboot_css_map.html">bootstrap-reboot.css.map</a>
  
    <li><a href="../../../public/vendor/bootstrap/css/bootstrap-reboot_min_css.html">bootstrap-reboot.min.css</a>
  
    <li><a href="../../../public/vendor/bootstrap/css/bootstrap-reboot_min_css_map.html">bootstrap-reboot.min.css.map</a>
  
    <li><a href="../../../public/vendor/bootstrap/css/bootstrap_css.html">bootstrap.css</a>
  
    <li><a href="../../../public/vendor/bootstrap/css/bootstrap_css_map.html">bootstrap.css.map</a>
  
    <li><a href="../../../public/vendor/bootstrap/css/bootstrap_min_css.html">bootstrap.min.css</a>
  
    <li><a href="../../../public/vendor/bootstrap/css/bootstrap_min_css_map.html">bootstrap.min.css.map</a>
  
    <li><a href="../../../public/vendor/bootstrap/js/bootstrap_bundle_js.html">bootstrap.bundle.js</a>
  
    <li><a href="../../../public/vendor/bootstrap/js/bootstrap_bundle_js_map.html">bootstrap.bundle.js.map</a>
  
    <li><a href="../../../public/vendor/bootstrap/js/bootstrap_bundle_min_js.html">bootstrap.bundle.min.js</a>
  
    <li><a href="../../../public/vendor/bootstrap/js/bootstrap_bundle_min_js_map.html">bootstrap.bundle.min.js.map</a>
  
    <li><a href="../../../public/vendor/bootstrap/js/bootstrap_js.html">bootstrap.js</a>
  
    <li><a href="../../../public/vendor/bootstrap/js/bootstrap_js_map.html">bootstrap.js.map</a>
  
    <li><a href="../../../public/vendor/bootstrap/js/bootstrap_min_js.html">bootstrap.min.js</a>
  
    <li><a href="../../../public/vendor/bootstrap/js/bootstrap_min_js_map.html">bootstrap.min.js.map</a>
  
    <li><a href="../../../public/vendor/bootstrap/js/popper_js.html">popper.js</a>
  
    <li><a href="../../../public/vendor/bootstrap/js/popper_min_js.html">popper.min.js</a>
  
    <li><a href="../../../public/vendor/bootstrap/js/tooltip_js.html">tooltip.js</a>
  
    <li><a href="../../../public/vendor/chart_js/Chart_bundle_js.html">Chart.bundle.js</a>
  
    <li><a href="../../../public/vendor/chart_js/Chart_bundle_min_js.html">Chart.bundle.min.js</a>
  
    <li><a href="../../../public/vendor/chart_js/Chart_js.html">Chart.js</a>
  
    <li><a href="../../../public/vendor/chart_js/Chart_min_js.html">Chart.min.js</a>
  
    <li><a href="../../../public/vendor/countdowntime/countdowntime_js.html">countdowntime.js</a>
  
    <li><a href="../../../public/vendor/css-hamburgers/hamburgers_css.html">hamburgers.css</a>
  
    <li><a href="../../../public/vendor/css-hamburgers/hamburgers_min_css.html">hamburgers.min.css</a>
  
    <li><a href="../../../public/vendor/datatables/dataTables_bootstrap4_css.html">dataTables.bootstrap4.css</a>
  
    <li><a href="../../../public/vendor/datatables/dataTables_bootstrap4_js.html">dataTables.bootstrap4.js</a>
  
    <li><a href="../../../public/vendor/datatables/jquery_dataTables_js.html">jquery.dataTables.js</a>
  
    <li><a href="../../../public/vendor/daterangepicker/daterangepicker_css.html">daterangepicker.css</a>
  
    <li><a href="../../../public/vendor/daterangepicker/daterangepicker_js.html">daterangepicker.js</a>
  
    <li><a href="../../../public/vendor/daterangepicker/moment_js.html">moment.js</a>
  
    <li><a href="../../../public/vendor/daterangepicker/moment_min_js.html">moment.min.js</a>
  
    <li><a href="../../../public/vendor/font-awesome/css/font-awesome_css.html">font-awesome.css</a>
  
    <li><a href="../../../public/vendor/font-awesome/css/font-awesome_css_map.html">font-awesome.css.map</a>
  
    <li><a href="../../../public/vendor/font-awesome/css/font-awesome_min_css.html">font-awesome.min.css</a>
  
    <li><a href="../../../public/vendor/font-awesome/less/animated_less.html">animated.less</a>
  
    <li><a href="../../../public/vendor/font-awesome/less/bordered-pulled_less.html">bordered-pulled.less</a>
  
    <li><a href="../../../public/vendor/font-awesome/less/core_less.html">core.less</a>
  
    <li><a href="../../../public/vendor/font-awesome/less/fixed-width_less.html">fixed-width.less</a>
  
    <li><a href="../../../public/vendor/font-awesome/less/font-awesome_less.html">font-awesome.less</a>
  
    <li><a href="../../../public/vendor/font-awesome/less/icons_less.html">icons.less</a>
  
    <li><a href="../../../public/vendor/font-awesome/less/larger_less.html">larger.less</a>
  
    <li><a href="../../../public/vendor/font-awesome/less/list_less.html">list.less</a>
  
    <li><a href="../../../public/vendor/font-awesome/less/mixins_less.html">mixins.less</a>
  
    <li><a href="../../../public/vendor/font-awesome/less/path_less.html">path.less</a>
  
    <li><a href="../../../public/vendor/font-awesome/less/rotated-flipped_less.html">rotated-flipped.less</a>
  
    <li><a href="../../../public/vendor/font-awesome/less/screen-reader_less.html">screen-reader.less</a>
  
    <li><a href="../../../public/vendor/font-awesome/less/stacked_less.html">stacked.less</a>
  
    <li><a href="../../../public/vendor/font-awesome/less/variables_less.html">variables.less</a>
  
    <li><a href="../../../public/vendor/font-awesome/scss/_animated_scss.html">_animated.scss</a>
  
    <li><a href="../../../public/vendor/font-awesome/scss/_bordered-pulled_scss.html">_bordered-pulled.scss</a>
  
    <li><a href="../../../public/vendor/font-awesome/scss/_core_scss.html">_core.scss</a>
  
    <li><a href="../../../public/vendor/font-awesome/scss/_fixed-width_scss.html">_fixed-width.scss</a>
  
    <li><a href="../../../public/vendor/font-awesome/scss/_icons_scss.html">_icons.scss</a>
  
    <li><a href="../../../public/vendor/font-awesome/scss/_larger_scss.html">_larger.scss</a>
  
    <li><a href="../../../public/vendor/font-awesome/scss/_list_scss.html">_list.scss</a>
  
    <li><a href="../../../public/vendor/font-awesome/scss/_mixins_scss.html">_mixins.scss</a>
  
    <li><a href="../../../public/vendor/font-awesome/scss/_path_scss.html">_path.scss</a>
  
    <li><a href="../../../public/vendor/font-awesome/scss/_rotated-flipped_scss.html">_rotated-flipped.scss</a>
  
    <li><a href="../../../public/vendor/font-awesome/scss/_screen-reader_scss.html">_screen-reader.scss</a>
  
    <li><a href="../../../public/vendor/font-awesome/scss/_stacked_scss.html">_stacked.scss</a>
  
    <li><a href="../../../public/vendor/font-awesome/scss/_variables_scss.html">_variables.scss</a>
  
    <li><a href="../../../public/vendor/font-awesome/scss/font-awesome_scss.html">font-awesome.scss</a>
  
    <li><a href="../../../public/vendor/jquery-easing/jquery_easing_compatibility_js.html">jquery.easing.compatibility.js</a>
  
    <li><a href="../../../public/vendor/jquery-easing/jquery_easing_js.html">jquery.easing.js</a>
  
    <li><a href="../../../public/vendor/jquery-easing/jquery_easing_min_js.html">jquery.easing.min.js</a>
  
    <li><a href="../../../public/vendor/jquery/jquery-3_2_1_min_js.html">jquery-3.2.1.min.js</a>
  
    <li><a href="../../../public/vendor/jquery/jquery_js.html">jquery.js</a>
  
    <li><a href="../../../public/vendor/jquery/jquery_min_js.html">jquery.min.js</a>
  
    <li><a href="../../../public/vendor/jquery/jquery_min_map.html">jquery.min.map</a>
  
    <li><a href="../../../public/vendor/jquery/jquery_slim_js.html">jquery.slim.js</a>
  
    <li><a href="../../../public/vendor/jquery/jquery_slim_min_js.html">jquery.slim.min.js</a>
  
    <li><a href="../../../public/vendor/jquery/jquery_slim_min_map.html">jquery.slim.min.map</a>
  
    <li><a href="../../../public/vendor/perfect-scrollbar/perfect-scrollbar_css.html">perfect-scrollbar.css</a>
  
    <li><a href="../../../public/vendor/perfect-scrollbar/perfect-scrollbar_min_js.html">perfect-scrollbar.min.js</a>
  
    <li><a href="../../../public/vendor/select2/select2_css.html">select2.css</a>
  
    <li><a href="../../../public/vendor/select2/select2_js.html">select2.js</a>
  
    <li><a href="../../../public/vendor/select2/select2_min_css.html">select2.min.css</a>
  
    <li><a href="../../../public/vendor/select2/select2_min_js.html">select2.min.js</a>
  
    <li><a href="../../../tmp/pids/server_pid.html">server.pid</a>
  
    <li><a href="../../../tmp/restart_txt.html">restart</a>
  
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-label="Page public/plugins/fullcalendar/fullcalendar.js">

<pre>!
 FullCalendar v2.2.5
 Docs &amp; License: http://arshaw.com/fullcalendar/
 (c) 2013 Adam Shaw</pre>

<p>(function(factory) {</p>

<pre>if (typeof define === &#39;function&#39; &amp;&amp; define.amd) {
        define([ &#39;jquery&#39;, &#39;moment&#39; ], factory);
}
else {
        factory(jQuery, moment);
}</pre>

<p>})(function($, moment) {</p>

<pre>var defaults = {

    titleRangeSeparator: &#39; \u2014 &#39;, // emphasized dash
    monthYearFormat: &#39;MMMM YYYY&#39;, // required for en. other languages rely on datepicker computable option

    defaultTimedEventDuration: &#39;02:00:00&#39;,
    defaultAllDayEventDuration: { days: 1 },
    forceEventDuration: false,
    nextDayThreshold: &#39;09:00:00&#39;, // 9am

    // display
    defaultView: &#39;month&#39;,
    aspectRatio: 1.35,
    header: {
            left: &#39;title&#39;,
            center: &#39;&#39;,
            right: &#39;today prev,next&#39;
    },
    weekends: true,
    weekNumbers: false,

    weekNumberTitle: &#39;W&#39;,
    weekNumberCalculation: &#39;local&#39;,

    //editable: false,

    // event ajax
    lazyFetching: true,
    startParam: &#39;start&#39;,
    endParam: &#39;end&#39;,
    timezoneParam: &#39;timezone&#39;,

    timezone: false,

    //allDayDefault: undefined,

    // locale
    isRTL: false,
    defaultButtonText: {
            prev: &quot;prev&quot;,
            next: &quot;next&quot;,
            prevYear: &quot;prev year&quot;,
            nextYear: &quot;next year&quot;,
            today: &#39;today&#39;,
            month: &#39;month&#39;,
            week: &#39;week&#39;,
            day: &#39;day&#39;
    },

    buttonIcons: {
            prev: &#39;left-single-arrow&#39;,
            next: &#39;right-single-arrow&#39;,
            prevYear: &#39;left-double-arrow&#39;,
            nextYear: &#39;right-double-arrow&#39;
    },

    // jquery-ui theming
    theme: false,
    themeButtonIcons: {
            prev: &#39;circle-triangle-w&#39;,
            next: &#39;circle-triangle-e&#39;,
            prevYear: &#39;seek-prev&#39;,
            nextYear: &#39;seek-next&#39;
    },

    dragOpacity: .75,
    dragRevertDuration: 500,
    dragScroll: true,

    //selectable: false,
    unselectAuto: true,

    dropAccept: &#39;*&#39;,

    eventLimit: false,
    eventLimitText: &#39;more&#39;,
    eventLimitClick: &#39;popover&#39;,
    dayPopoverFormat: &#39;LL&#39;,

    handleWindowResize: true,
    windowResizeDelay: 200 // milliseconds before an updateSize happens</pre>

<p>};</p>

<p>var englishDefaults = {</p>

<pre>dayPopoverFormat: &#39;dddd, MMMM D&#39;</pre>

<p>};</p>

<p>// right-to-left defaults var rtlDefaults = {</p>

<pre>header: {
        left: &#39;next,prev today&#39;,
        center: &#39;&#39;,
        right: &#39;title&#39;
},
buttonIcons: {
        prev: &#39;right-single-arrow&#39;,
        next: &#39;left-single-arrow&#39;,
        prevYear: &#39;right-double-arrow&#39;,
        nextYear: &#39;left-double-arrow&#39;
},
themeButtonIcons: {
        prev: &#39;circle-triangle-e&#39;,
        next: &#39;circle-triangle-w&#39;,
        nextYear: &#39;seek-prev&#39;,
        prevYear: &#39;seek-next&#39;
}</pre>

<p>};</p>

<pre>var fc = $.fullCalendar = { version: &quot;2.2.5&quot; };</pre>

<p>var fcViews = fc.views = {};</p>

<p>$.fn.fullCalendar = function(options) {</p>

<pre>var args = Array.prototype.slice.call(arguments, 1); // for a possible method call
var res = this; // what this function will return (this jQuery object by default)

this.each(function(i, _element) { // loop each DOM element involved
        var element = $(_element);
        var calendar = element.data(&#39;fullCalendar&#39;); // get the existing calendar object (if any)
        var singleRes; // the returned value of this single method call

        // a method call
        if (typeof options === &#39;string&#39;) {
                if (calendar &amp;&amp; $.isFunction(calendar[options])) {
                        singleRes = calendar[options].apply(calendar, args);
                        if (!i) {
                                res = singleRes; // record the first method call result
                        }
                        if (options === &#39;destroy&#39;) { // for the destroy method, must remove Calendar object data
                                element.removeData(&#39;fullCalendar&#39;);
                        }
                }
        }
        // a new calendar initialization
        else if (!calendar) { // don&#39;t initialize twice
                calendar = new Calendar(element, options);
                element.data(&#39;fullCalendar&#39;, calendar);
                calendar.render();
        }
});

return res;</pre>

<p>};</p>

<p>// function for adding/overriding defaults function setDefaults(d) {</p>

<pre class="ruby"><span class="ruby-identifier">mergeOptions</span>(<span class="ruby-identifier">defaults</span>, <span class="ruby-identifier">d</span>);
</pre>

<p>}</p>

<p>// Recursively combines option hash-objects. // Better than `$.extend(true,
…)` because arrays are not traversed/copied. // // called like: //    
mergeOptions(target, obj1, obj2, …) // function mergeOptions(target) {</p>

<pre>function mergeIntoTarget(name, value) {
        if ($.isPlainObject(value) &amp;&amp; $.isPlainObject(target[name]) &amp;&amp; !isForcedAtomicOption(name)) {
                // merge into a new object to avoid destruction
                target[name] = mergeOptions({}, target[name], value); // combine. `value` object takes precedence
        }
        else if (value !== undefined) { // only use values that are set and not undefined
                target[name] = value;
        }
}

for (var i=1; i&lt;arguments.length; i++) {
        $.each(arguments[i], mergeIntoTarget);
}

return target;</pre>

<p>}</p>

<p>// overcome sucky view-option-hash and option-merging behavior messing with
options it shouldn&#39;t function isForcedAtomicOption(name) {</p>

<pre>// Any option that ends in &quot;Time&quot; or &quot;Duration&quot; is probably a Duration,
// and these will commonly be specified as plain objects, which we don&#39;t want to mess up.
return /(Time|Duration)$/.test(name);</pre>

<p>} // FIX: find a different solution for view-option-hashes and have a
whitelist // for options that can be recursively merged.</p>

<pre>var langOptionHash = fc.langs = {}; // initialize and expose</pre>

<p>// TODO: document the structure and ordering of a FullCalendar lang file //
TODO: rename everything “lang” to “locale”, like what the moment project
did</p>

<p>// Initialize jQuery UI datepicker translations while using some of the
translations // Will set this as the default language for datepicker.
fc.datepickerLang = function(langCode, dpLangCode, dpOptions) {</p>

<pre>// get the FullCalendar internal option hash for this language. create if necessary
var fcOptions = langOptionHash[langCode] || (langOptionHash[langCode] = {});

// transfer some simple options from datepicker to fc
fcOptions.isRTL = dpOptions.isRTL;
fcOptions.weekNumberTitle = dpOptions.weekHeader;

// compute some more complex options from datepicker
$.each(dpComputableOptions, function(name, func) {
        fcOptions[name] = func(dpOptions);
});

// is jQuery UI Datepicker is on the page?
if ($.datepicker) {

        // Register the language data.
        // FullCalendar and MomentJS use language codes like &quot;pt-br&quot; but Datepicker
        // does it like &quot;pt-BR&quot; or if it doesn&#39;t have the language, maybe just &quot;pt&quot;.
        // Make an alias so the language can be referenced either way.
        $.datepicker.regional[dpLangCode] =
                $.datepicker.regional[langCode] = // alias
                        dpOptions;

        // Alias &#39;en&#39; to the default language data. Do this every time.
        $.datepicker.regional.en = $.datepicker.regional[&#39;&#39;];

        // Set as Datepicker&#39;s global defaults.
        $.datepicker.setDefaults(dpOptions);
}</pre>

<p>};</p>

<p>// Sets FullCalendar-specific translations. Will set the language as the
global default. fc.lang = function(langCode, newFcOptions) {</p>

<pre>var fcOptions;
var momOptions;

// get the FullCalendar internal option hash for this language. create if necessary
fcOptions = langOptionHash[langCode] || (langOptionHash[langCode] = {});

// provided new options for this language? merge them in
if (newFcOptions) {
        mergeOptions(fcOptions, newFcOptions);
}

// compute language options that weren&#39;t defined.
// always do this. newFcOptions can be undefined when initializing from i18n file,
// so no way to tell if this is an initialization or a default-setting.
momOptions = getMomentLocaleData(langCode); // will fall back to en
$.each(momComputableOptions, function(name, func) {
        if (fcOptions[name] === undefined) {
                fcOptions[name] = func(momOptions, fcOptions);
        }
});

// set it as the default language for FullCalendar
defaults.lang = langCode;</pre>

<p>};</p>

<p>// NOTE: can&#39;t guarantee any of these computations will run because not
every language has datepicker // configs, so make sure there are English
fallbacks for these in the defaults file. var dpComputableOptions = {</p>

<pre>defaultButtonText: function(dpOptions) {
        return {
                // the translations sometimes wrongly contain HTML entities
                prev: stripHtmlEntities(dpOptions.prevText),
                next: stripHtmlEntities(dpOptions.nextText),
                today: stripHtmlEntities(dpOptions.currentText)
        };
},

// Produces format strings like &quot;MMMM YYYY&quot; -&gt; &quot;September 2014&quot;
monthYearFormat: function(dpOptions) {
        return dpOptions.showMonthAfterYear ?
                &#39;YYYY[&#39; + dpOptions.yearSuffix + &#39;] MMMM&#39; :
                &#39;MMMM YYYY[&#39; + dpOptions.yearSuffix + &#39;]&#39;;
}</pre>

<p>};</p>

<p>var momComputableOptions = {</p>

<pre>// Produces format strings like &quot;ddd MM/DD&quot; -&gt; &quot;Fri 12/10&quot;
dayOfMonthFormat: function(momOptions, fcOptions) {
        var format = momOptions.longDateFormat(&#39;l&#39;); // for the format like &quot;M/D/YYYY&quot;

        // strip the year off the edge, as well as other misc non-whitespace chars
        format = format.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g, &#39;&#39;);

        if (fcOptions.isRTL) {
                format += &#39; ddd&#39;; // for RTL, add day-of-week to end
        }
        else {
                format = &#39;ddd &#39; + format; // for LTR, add day-of-week to beginning
        }
        return format;
},

// Produces format strings like &quot;H(:mm)a&quot; -&gt; &quot;6pm&quot; or &quot;6:30pm&quot;
smallTimeFormat: function(momOptions) {
        return momOptions.longDateFormat(&#39;LT&#39;)
                .replace(&#39;:mm&#39;, &#39;(:mm)&#39;)
                .replace(/(\Wmm)$/, &#39;($1)&#39;) // like above, but for foreign langs
                .replace(/\s*a$/i, &#39;a&#39;); // convert AM/PM/am/pm to lowercase. remove any spaces beforehand
},

// Produces format strings like &quot;H(:mm)t&quot; -&gt; &quot;6p&quot; or &quot;6:30p&quot;
extraSmallTimeFormat: function(momOptions) {
        return momOptions.longDateFormat(&#39;LT&#39;)
                .replace(&#39;:mm&#39;, &#39;(:mm)&#39;)
                .replace(/(\Wmm)$/, &#39;($1)&#39;) // like above, but for foreign langs
                .replace(/\s*a$/i, &#39;t&#39;); // convert to AM/PM/am/pm to lowercase one-letter. remove any spaces beforehand
},

// Produces format strings like &quot;H:mm&quot; -&gt; &quot;6:30&quot; (with no AM/PM)
noMeridiemTimeFormat: function(momOptions) {
        return momOptions.longDateFormat(&#39;LT&#39;)
                .replace(/\s*a$/i, &#39;&#39;); // remove trailing AM/PM
}</pre>

<p>};</p>

<p>// Returns moment&#39;s internal locale data. If doesn&#39;t exist, returns
English. // Works with moment-pre-2.8 function
getMomentLocaleData(langCode) {</p>

<pre>var func = moment.localeData || moment.langData;
return func.call(moment, langCode) ||
        func.call(moment, &#39;en&#39;); // the newer localData could return null, so fall back to en</pre>

<p>}</p>

<p>// Initialize English by forcing computation of moment-derived options. //
Also, sets it as the default. fc.lang(&#39;en&#39;, englishDefaults);</p>

<p>// exports fc.intersectionToSeg = intersectionToSeg; fc.applyAll =
applyAll; fc.debounce = debounce;</p>

<pre>FullCalendar-specific DOM Utilities</pre>
<hr>

<p>// Given the scrollbar widths of some other container, create
borders/margins on rowEls in order to match the left // and right space
that was offset by the scrollbars. A 1-pixel border first, then margin
beyond that. function compensateScroll(rowEls, scrollbarWidths) {</p>

<pre>if (scrollbarWidths.left) {
        rowEls.css({
                &#39;border-left-width&#39;: 1,
                &#39;margin-left&#39;: scrollbarWidths.left - 1
        });
}
if (scrollbarWidths.right) {
        rowEls.css({
                &#39;border-right-width&#39;: 1,
                &#39;margin-right&#39;: scrollbarWidths.right - 1
        });
}</pre>

<p>}</p>

<p>// Undoes compensateScroll and restores all borders/margins function
uncompensateScroll(rowEls) {</p>

<pre class="ruby"><span class="ruby-identifier">rowEls</span>.<span class="ruby-identifier">css</span>({
        <span class="ruby-value">&#39;margin-left&#39;:</span> <span class="ruby-string">&#39;&#39;</span>,
        <span class="ruby-value">&#39;margin-right&#39;:</span> <span class="ruby-string">&#39;&#39;</span>,
        <span class="ruby-value">&#39;border-left-width&#39;:</span> <span class="ruby-string">&#39;&#39;</span>,
        <span class="ruby-value">&#39;border-right-width&#39;:</span> <span class="ruby-string">&#39;&#39;</span>
});
</pre>

<p>}</p>

<p>// Make the mouse cursor express that an event is not allowed in the
current area function disableCursor() {</p>

<pre>$(&#39;body&#39;).addClass(&#39;fc-not-allowed&#39;);</pre>

<p>}</p>

<p>// Returns the mouse cursor to its original look function enableCursor() {</p>

<pre>$(&#39;body&#39;).removeClass(&#39;fc-not-allowed&#39;);</pre>

<p>}</p>

<p>// Given a total available height to fill, have `els` (essentially child
rows) expand to accomodate. // By default, all elements that are shorter
than the recommended height are expanded uniformly, not considering // any
other els that are already too tall. if `shouldRedistribute` is on, it
considers these tall rows and  // reduces the available height. function
distributeHeight(els, availableHeight, shouldRedistribute) {</p>

<pre>// *FLOORING NOTE*: we floor in certain places because zoom can give inaccurate floating-point dimensions,
// and it is better to be shorter than taller, to avoid creating unnecessary scrollbars.

var minOffset1 = Math.floor(availableHeight / els.length); // for non-last element
var minOffset2 = Math.floor(availableHeight - minOffset1 * (els.length - 1)); // for last element *FLOORING NOTE*
var flexEls = []; // elements that are allowed to expand. array of DOM nodes
var flexOffsets = []; // amount of vertical space it takes up
var flexHeights = []; // actual css height
var usedHeight = 0;

undistributeHeight(els); // give all elements their natural height

// find elements that are below the recommended height (expandable).
// important to query for heights in a single first pass (to avoid reflow oscillation).
els.each(function(i, el) {
        var minOffset = i === els.length - 1 ? minOffset2 : minOffset1;
        var naturalOffset = $(el).outerHeight(true);

        if (naturalOffset &lt; minOffset) {
                flexEls.push(el);
                flexOffsets.push(naturalOffset);
                flexHeights.push($(el).height());
        }
        else {
                // this element stretches past recommended height (non-expandable). mark the space as occupied.
                usedHeight += naturalOffset;
        }
});

// readjust the recommended height to only consider the height available to non-maxed-out rows.
if (shouldRedistribute) {
        availableHeight -= usedHeight;
        minOffset1 = Math.floor(availableHeight / flexEls.length);
        minOffset2 = Math.floor(availableHeight - minOffset1 * (flexEls.length - 1)); // *FLOORING NOTE*
}

// assign heights to all expandable elements
$(flexEls).each(function(i, el) {
        var minOffset = i === flexEls.length - 1 ? minOffset2 : minOffset1;
        var naturalOffset = flexOffsets[i];
        var naturalHeight = flexHeights[i];
        var newHeight = minOffset - (naturalOffset - naturalHeight); // subtract the margin/padding

        if (naturalOffset &lt; minOffset) { // we check this again because redistribution might have changed things
                $(el).height(newHeight);
        }
});</pre>

<p>}</p>

<p>// Undoes distrubuteHeight, restoring all els to their natural height
function undistributeHeight(els) {</p>

<pre class="ruby"><span class="ruby-identifier">els</span>.<span class="ruby-identifier">height</span>(<span class="ruby-string">&#39;&#39;</span>);
</pre>

<p>}</p>

<p>// Given `els`, a jQuery set of &lt;td&gt; cells, find the cell with the
largest natural width and set the widths of all the // cells to be that
width. // PREREQUISITE: if you want a cell to take up width, it needs to
have a single inner element w/ display:inline function matchCellWidths(els)
{</p>

<pre>var maxInnerWidth = 0;

els.find(&#39;&gt; *&#39;).each(function(i, innerEl) {
        var innerWidth = $(innerEl).outerWidth();
        if (innerWidth &gt; maxInnerWidth) {
                maxInnerWidth = innerWidth;
        }
});

maxInnerWidth++; // sometimes not accurate of width the text needs to stay on one line. insurance

els.width(maxInnerWidth);

return maxInnerWidth;</pre>

<p>}</p>

<p>// Turns a container element into a scroller if its contents is taller than
the allotted height. // Returns true if the element is now a scroller,
false otherwise. // NOTE: this method is best because it takes weird
zooming dimensions into account function setPotentialScroller(containerEl,
height) {</p>

<pre>containerEl.height(height).addClass(&#39;fc-scroller&#39;);

// are scrollbars needed?
if (containerEl[0].scrollHeight - 1 &gt; containerEl[0].clientHeight) { // !!! -1 because IE is often off-by-one :(
        return true;
}

unsetScroller(containerEl); // undo
return false;</pre>

<p>}</p>

<p>// Takes an element that might have been a scroller, and turns it back into
a normal element. function unsetScroller(containerEl) {</p>

<pre class="ruby"><span class="ruby-identifier">containerEl</span>.<span class="ruby-identifier">height</span>(<span class="ruby-string">&#39;&#39;</span>).<span class="ruby-identifier">removeClass</span>(<span class="ruby-string">&#39;fc-scroller&#39;</span>);
</pre>

<p>}</p>

<p>/* General DOM Utilities ———————————————————————————————————————-*/</p>

<p>// borrowed from <a
href="https://github.com/jquery/jquery-ui/blob/1.11.0/ui/core.js#L51">github.com/jquery/jquery-ui/blob/1.11.0/ui/core.js#L51</a>
function getScrollParent(el) {</p>

<pre>var position = el.css(&#39;position&#39;),
        scrollParent = el.parents().filter(function() {
                var parent = $(this);
                return (/(auto|scroll)/).test(
                        parent.css(&#39;overflow&#39;) + parent.css(&#39;overflow-y&#39;) + parent.css(&#39;overflow-x&#39;)
                );
        }).eq(0);

return position === &#39;fixed&#39; || !scrollParent.length ? $(el[0].ownerDocument || document) : scrollParent;</pre>

<p>}</p>

<p>// Given a container element, return an object with the pixel values of the
left/right scrollbars. // Left scrollbars might occur on RTL browsers (IE
maybe?) but I have not tested. // PREREQUISITE: container element must have
a single child with display:block function getScrollbarWidths(container) {</p>

<pre class="ruby"><span class="ruby-identifier">var</span> <span class="ruby-identifier">containerLeft</span> = <span class="ruby-identifier">container</span>.<span class="ruby-identifier">offset</span>().<span class="ruby-identifier">left</span>;
<span class="ruby-identifier">var</span> <span class="ruby-identifier">containerRight</span> = <span class="ruby-identifier">containerLeft</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">container</span>.<span class="ruby-identifier">width</span>();
<span class="ruby-identifier">var</span> <span class="ruby-identifier">inner</span> = <span class="ruby-identifier">container</span>.<span class="ruby-identifier">children</span>();
<span class="ruby-identifier">var</span> <span class="ruby-identifier">innerLeft</span> = <span class="ruby-identifier">inner</span>.<span class="ruby-identifier">offset</span>().<span class="ruby-identifier">left</span>;
<span class="ruby-identifier">var</span> <span class="ruby-identifier">innerRight</span> = <span class="ruby-identifier">innerLeft</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">inner</span>.<span class="ruby-identifier">outerWidth</span>();

<span class="ruby-keyword">return</span> {
        <span class="ruby-value">left:</span> <span class="ruby-identifier">innerLeft</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">containerLeft</span>,
        <span class="ruby-value">right:</span> <span class="ruby-identifier">containerRight</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">innerRight</span>
};
</pre>

<p>}</p>

<p>// Returns a boolean whether this was a left mouse click and no ctrl key
(which means right click on Mac) function isPrimaryMouseButton(ev) {</p>

<pre class="ruby"><span class="ruby-keyword">return</span> <span class="ruby-identifier">ev</span>.<span class="ruby-identifier">which</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">ev</span>.<span class="ruby-identifier">ctrlKey</span>;
</pre>

<p>}</p>

<p>/* FullCalendar-specific Misc Utilities
———————————————————————————————————————-*/</p>

<p>// Creates a basic segment with the intersection of the two ranges. Returns
undefined if no intersection. // Expects all dates to be normalized to the
same timezone beforehand. // TODO: move to date section? function
intersectionToSeg(subjectRange, constraintRange) {</p>

<pre>var subjectStart = subjectRange.start;
var subjectEnd = subjectRange.end;
var constraintStart = constraintRange.start;
var constraintEnd = constraintRange.end;
var segStart, segEnd;
var isStart, isEnd;

if (subjectEnd &gt; constraintStart &amp;&amp; subjectStart &lt; constraintEnd) { // in bounds at all?

        if (subjectStart &gt;= constraintStart) {
                segStart = subjectStart.clone();
                isStart = true;
        }
        else {
                segStart = constraintStart.clone();
                isStart =  false;
        }

        if (subjectEnd &lt;= constraintEnd) {
                segEnd = subjectEnd.clone();
                isEnd = true;
        }
        else {
                segEnd = constraintEnd.clone();
                isEnd = false;
        }

        return {
                start: segStart,
                end: segEnd,
                isStart: isStart,
                isEnd: isEnd
        };
}</pre>

<p>}</p>

<p>function smartProperty(obj, name) { // get a camel-cased/namespaced
property of an object</p>

<pre>obj = obj || {};
if (obj[name] !== undefined) {
        return obj[name];
}
var parts = name.split(/(?=[A-Z])/),
        i = parts.length - 1, res;
for (; i&gt;=0; i--) {
        res = obj[parts[i].toLowerCase()];
        if (res !== undefined) {
                return res;
        }
}
return obj[&#39;default&#39;];</pre>

<p>}</p>

<p>/* Date Utilities ———————————————————————————————————————-*/</p>

<p>var dayIDs = [ &#39;sun&#39;, &#39;mon&#39;, &#39;tue&#39;, &#39;wed&#39;,
&#39;thu&#39;, &#39;fri&#39;, &#39;sat&#39; ]; var intervalUnits = [
&#39;year&#39;, &#39;month&#39;, &#39;week&#39;, &#39;day&#39;,
&#39;hour&#39;, &#39;minute&#39;, &#39;second&#39;, &#39;millisecond&#39;
];</p>

<p>// Diffs the two moments into a Duration where full-days are recorded
first, then the remaining time. // Moments will have their timezones
normalized. function diffDayTime(a, b) {</p>

<pre>return moment.duration({
        days: a.clone().stripTime().diff(b.clone().stripTime(), &#39;days&#39;),
        ms: a.time() - b.time() // time-of-day from day start. disregards timezone
});</pre>

<p>}</p>

<p>// Diffs the two moments via their start-of-day (regardless of timezone).
Produces whole-day durations. function diffDay(a, b) {</p>

<pre class="ruby"><span class="ruby-keyword">return</span> <span class="ruby-identifier">moment</span>.<span class="ruby-identifier">duration</span>({
        <span class="ruby-value">days:</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">clone</span>().<span class="ruby-identifier">stripTime</span>().<span class="ruby-identifier">diff</span>(<span class="ruby-identifier">b</span>.<span class="ruby-identifier">clone</span>().<span class="ruby-identifier">stripTime</span>(), <span class="ruby-string">&#39;days&#39;</span>)
});
</pre>

<p>}</p>

<p>// Computes the larges whole-unit period of time, as a duration object. //
For example, 48 hours will be {days:2} whereas 49 hours will be {hours:49}.
// Accepts start/end, a range object, or an original duration object. /*
(never used) function computeIntervalDuration(start, end) {</p>

<pre>var durationInput = {};
var i, unit;
var val;

for (i = 0; i &lt; intervalUnits.length; i++) {
        unit = intervalUnits[i];
        val = computeIntervalAs(unit, start, end);
        if (val) {
                break;
        }
}

durationInput[unit] = val;
return moment.duration(durationInput);</pre>

<p>}</p>

<pre>/</pre>

<p>// Computes the unit name of the largest whole-unit period of time. // For
example, 48 hours will be “days” wherewas 49 hours will be “hours”. //
Accepts start/end, a range object, or an original duration object. function
computeIntervalUnit(start, end) {</p>

<pre>var i, unit;

for (i = 0; i &lt; intervalUnits.length; i++) {
        unit = intervalUnits[i];
        if (computeIntervalAs(unit, start, end)) {
                break;
        }
}

return unit; // will be &quot;milliseconds&quot; if nothing else matches</pre>

<p>}</p>

<p>// Computes the number of units the interval is cleanly comprised of. // If
the given unit does not cleanly divide the interval a whole number of
times, `false` is returned. // Accepts start/end, a range object, or an
original duration object. function computeIntervalAs(unit, start, end) {</p>

<pre>var val;

if (end != null) { // given start, end
        val = end.diff(start, unit, true);
}
else if (moment.isDuration(start)) { // given duration
        val = start.as(unit);
}
else { // given { start, end } range object
        val = start.end.diff(start.start, unit, true);
}

if (val &gt;= 1 &amp;&amp; isInt(val)) {
        return val;
}

return false;</pre>

<p>}</p>

<p>function isNativeDate(input) {</p>

<pre>return  Object.prototype.toString.call(input) === &#39;[object Date]&#39; || input instanceof Date;</pre>

<p>}</p>

<p>// Returns a boolean about whether the given input is a time string, like
“06:40:00” or “06:00” function isTimeString(str) {</p>

<pre class="ruby"><span class="ruby-keyword">return</span> <span class="ruby-regexp">/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/</span>.<span class="ruby-identifier">test</span>(<span class="ruby-identifier">str</span>);
</pre>

<p>}</p>

<p>/* General Utilities ———————————————————————————————————————-*/</p>

<p>var hasOwnPropMethod = {}.hasOwnProperty;</p>

<p>// Create an object that has the given prototype. Just like Object.create
function createObject(proto) {</p>

<pre class="ruby"><span class="ruby-identifier">var</span> <span class="ruby-identifier">f</span> = <span class="ruby-identifier">function</span>() {};
<span class="ruby-identifier">f</span>.<span class="ruby-identifier">prototype</span> = <span class="ruby-identifier">proto</span>;
<span class="ruby-keyword">return</span> <span class="ruby-identifier">new</span> <span class="ruby-identifier">f</span>();
</pre>

<p>}</p>

<p>function copyOwnProps(src, dest) {</p>

<pre>for (var name in src) {
        if (hasOwnProp(src, name)) {
                dest[name] = src[name];
        }
}</pre>

<p>}</p>

<p>function hasOwnProp(obj, name) {</p>

<pre class="ruby"><span class="ruby-keyword">return</span> <span class="ruby-identifier">hasOwnPropMethod</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">obj</span>, <span class="ruby-identifier">name</span>);
</pre>

<p>}</p>

<p>// Is the given value a non-object non-function value? function
isAtomic(val) {</p>

<pre>return /undefined|null|boolean|number|string/.test($.type(val));</pre>

<p>}</p>

<p>function applyAll(functions, thisObj, args) {</p>

<pre>if ($.isFunction(functions)) {
        functions = [ functions ];
}
if (functions) {
        var i;
        var ret;
        for (i=0; i&lt;functions.length; i++) {
                ret = functions[i].apply(thisObj, args) || ret;
        }
        return ret;
}</pre>

<p>}</p>

<p>function firstDefined() {</p>

<pre>for (var i=0; i&lt;arguments.length; i++) {
        if (arguments[i] !== undefined) {
                return arguments[i];
        }
}</pre>

<p>}</p>

<p>function htmlEscape(s) {</p>

<pre>return (s + &#39;&#39;).replace(/&amp;/g, &#39;&amp;amp;&#39;)
        .replace(/&lt;/g, &#39;&amp;lt;&#39;)
        .replace(/&gt;/g, &#39;&amp;gt;&#39;)
        .replace(/&#39;/g, &#39;&amp;#039;&#39;)
        .replace(/&quot;/g, &#39;&amp;quot;&#39;)
        .replace(/\n/g, &#39;&lt;br /&gt;&#39;);</pre>

<p>}</p>

<p>function stripHtmlEntities(text) {</p>

<pre>return text.replace(/&amp;.*?;/g, &#39;&#39;);</pre>

<p>}</p>

<p>function capitaliseFirstLetter(str) {</p>

<pre class="ruby"><span class="ruby-keyword">return</span> <span class="ruby-identifier">str</span>.<span class="ruby-identifier">charAt</span>(<span class="ruby-value">0</span>).<span class="ruby-identifier">toUpperCase</span>() <span class="ruby-operator">+</span> <span class="ruby-identifier">str</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">1</span>);
</pre>

<p>}</p>

<p>function compareNumbers(a, b) { // for .sort()</p>

<pre class="ruby"><span class="ruby-keyword">return</span> <span class="ruby-identifier">a</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">b</span>;
</pre>

<p>}</p>

<p>function isInt(n) {</p>

<pre class="ruby"><span class="ruby-keyword">return</span> <span class="ruby-identifier">n</span> <span class="ruby-operator">%</span> <span class="ruby-value">1</span> <span class="ruby-operator">===</span> <span class="ruby-value">0</span>;
</pre>

<p>}</p>

<p>// Returns a function, that, as long as it continues to be invoked, will
not // be triggered. The function will be called after it stops being
called for // N milliseconds. // <a
href="https://github.com/jashkenas/underscore/blob/1.6.0/underscore.js#L714">github.com/jashkenas/underscore/blob/1.6.0/underscore.js#L714</a>
function debounce(func, wait) {</p>

<pre>var timeoutId;
var args;
var context;
var timestamp; // of most recent call
var later = function() {
        var last = +new Date() - timestamp;
        if (last &lt; wait &amp;&amp; last &gt; 0) {
                timeoutId = setTimeout(later, wait - last);
        }
        else {
                timeoutId = null;
                func.apply(context, args);
                if (!timeoutId) {
                        context = args = null;
                }
        }
};

return function() {
        context = this;
        args = arguments;
        timestamp = +new Date();
        if (!timeoutId) {
                timeoutId = setTimeout(later, wait);
        }
};</pre>

<p>}</p>

<pre class="ruby"><span class="ruby-identifier">var</span> <span class="ruby-identifier">ambigDateOfMonthRegex</span> = <span class="ruby-regexp">/^\s*\d{4}-\d\d$/</span>;
</pre>

<p>var ambigTimeOrZoneRegex =</p>

<pre class="ruby"><span class="ruby-regexp">/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/</span>;
</pre>

<p>var newMomentProto = moment.fn; // where we will attach our new methods var
oldMomentProto = $.extend({}, newMomentProto); // copy of original moment
methods var allowValueOptimization; var setUTCValues; // function defined
below var setLocalValues; // function defined below</p>

<p>// Creating // ————————————————————————————————-</p>

<p>// Creates a new moment, similar to the vanilla moment(…) constructor, but
with // extra features (ambiguous time, enhanced formatting). When given an
existing moment, // it will function as a clone (and retain the zone of the
moment). Anything else will // result in a moment in the local zone.
fc.moment = function() {</p>

<pre class="ruby"><span class="ruby-keyword">return</span> <span class="ruby-identifier">makeMoment</span>(<span class="ruby-identifier">arguments</span>);
</pre>

<p>};</p>

<p>// Sames as fc.moment, but forces the resulting moment to be in the UTC
timezone. fc.moment.utc = function() {</p>

<pre>var mom = makeMoment(arguments, true);

// Force it into UTC because makeMoment doesn&#39;t guarantee it
// (if given a pre-existing moment for example)
if (mom.hasTime()) { // don&#39;t give ambiguously-timed moments a UTC zone
        mom.utc();
}

return mom;</pre>

<p>};</p>

<p>// Same as fc.moment, but when given an ISO8601 string, the timezone offset
is preserved. // ISO8601 strings with no timezone offset will become
ambiguously zoned. fc.moment.parseZone = function() {</p>

<pre class="ruby"><span class="ruby-keyword">return</span> <span class="ruby-identifier">makeMoment</span>(<span class="ruby-identifier">arguments</span>, <span class="ruby-keyword">true</span>, <span class="ruby-keyword">true</span>);
</pre>

<p>};</p>

<p>// Builds an enhanced moment from args. When given an existing moment, it
clones. When given a // native Date, or called with no arguments (the
current time), the resulting moment will be local. // Anything else needs
to be “parsed” (a string or an array), and will be affected by: //   
parseAsUTC - if there is no zone information, should we parse the input in
UTC? //    parseZone - if there is zone information, should we force the
zone of the moment? function makeMoment(args, parseAsUTC, parseZone) {</p>

<pre>var input = args[0];
var isSingleString = args.length == 1 &amp;&amp; typeof input === &#39;string&#39;;
var isAmbigTime;
var isAmbigZone;
var ambigMatch;
var mom;

if (moment.isMoment(input)) {
        mom = moment.apply(null, args); // clone it
        transferAmbigs(input, mom); // the ambig flags weren&#39;t transfered with the clone
}
else if (isNativeDate(input) || input === undefined) {
        mom = moment.apply(null, args); // will be local
}
else { // &quot;parsing&quot; is required
        isAmbigTime = false;
        isAmbigZone = false;

        if (isSingleString) {
                if (ambigDateOfMonthRegex.test(input)) {
                        // accept strings like &#39;2014-05&#39;, but convert to the first of the month
                        input += &#39;-01&#39;;
                        args = [ input ]; // for when we pass it on to moment&#39;s constructor
                        isAmbigTime = true;
                        isAmbigZone = true;
                }
                else if ((ambigMatch = ambigTimeOrZoneRegex.exec(input))) {
                        isAmbigTime = !ambigMatch[5]; // no time part?
                        isAmbigZone = true;
                }
        }
        else if ($.isArray(input)) {
                // arrays have no timezone information, so assume ambiguous zone
                isAmbigZone = true;
        }
        // otherwise, probably a string with a format

        if (parseAsUTC || isAmbigTime) {
                mom = moment.utc.apply(moment, args);
        }
        else {
                mom = moment.apply(null, args);
        }

        if (isAmbigTime) {
                mom._ambigTime = true;
                mom._ambigZone = true; // ambiguous time always means ambiguous zone
        }
        else if (parseZone) { // let&#39;s record the inputted zone somehow
                if (isAmbigZone) {
                        mom._ambigZone = true;
                }
                else if (isSingleString) {
                        mom.zone(input); // if not a valid zone, will assign UTC
                }
        }
}

mom._fullCalendar = true; // flag for extended functionality

return mom;</pre>

<p>}</p>

<p>// A clone method that works with the flags related to our enhanced
functionality. // In the future, use moment.momentProperties
newMomentProto.clone = function() {</p>

<pre>var mom = oldMomentProto.clone.apply(this, arguments);

// these flags weren&#39;t transfered with the clone
transferAmbigs(this, mom);
if (this._fullCalendar) {
        mom._fullCalendar = true;
}

return mom;</pre>

<p>};</p>

<p>// Time-of-day // ————————————————————————————————-</p>

<p>// GETTER // Returns a Duration with the hours/minutes/seconds/ms values of
the moment. // If the moment has an ambiguous time, a duration of 00:00
will be returned. // // SETTER // You can supply a Duration, a Moment, or a
Duration-like argument. // When setting the time, and the moment has an
ambiguous time, it then becomes unambiguous. newMomentProto.time =
function(time) {</p>

<pre>// Fallback to the original method (if there is one) if this moment wasn&#39;t created via FullCalendar.
// `time` is a generic enough method name where this precaution is necessary to avoid collisions w/ other plugins.
if (!this._fullCalendar) {
        return oldMomentProto.time.apply(this, arguments);
}

if (time == null) { // getter
        return moment.duration({
                hours: this.hours(),
                minutes: this.minutes(),
                seconds: this.seconds(),
                milliseconds: this.milliseconds()
        });
}
else { // setter

        this._ambigTime = false; // mark that the moment now has a time

        if (!moment.isDuration(time) &amp;&amp; !moment.isMoment(time)) {
                time = moment.duration(time);
        }

        // The day value should cause overflow (so 24 hours becomes 00:00:00 of next day).
        // Only for Duration times, not Moment times.
        var dayHours = 0;
        if (moment.isDuration(time)) {
                dayHours = Math.floor(time.asDays()) * 24;
        }

        // We need to set the individual fields.
        // Can&#39;t use startOf(&#39;day&#39;) then add duration. In case of DST at start of day.
        return this.hours(dayHours + time.hours())
                .minutes(time.minutes())
                .seconds(time.seconds())
                .milliseconds(time.milliseconds());
}</pre>

<p>};</p>

<p>// Converts the moment to UTC, stripping out its time-of-day and timezone
offset, // but preserving its YMD. A moment with a stripped time will
display no time // nor timezone offset when .format() is called.
newMomentProto.stripTime = function() {</p>

<pre>var a;

if (!this._ambigTime) {

        // get the values before any conversion happens
        a = this.toArray(); // array of y/m/d/h/m/s/ms

        this.utc(); // set the internal UTC flag (will clear the ambig flags)
        setUTCValues(this, a.slice(0, 3)); // set the year/month/date. time will be zero

        // Mark the time as ambiguous. This needs to happen after the .utc() call, which calls .zone(),
        // which clears all ambig flags. Same with setUTCValues with moment-timezone.
        this._ambigTime = true;
        this._ambigZone = true; // if ambiguous time, also ambiguous timezone offset
}

return this; // for chaining</pre>

<p>};</p>

<p>// Returns if the moment has a non-ambiguous time (boolean)
newMomentProto.hasTime = function() {</p>

<pre class="ruby"><span class="ruby-keyword">return</span> <span class="ruby-operator">!</span><span class="ruby-identifier">this</span>.<span class="ruby-identifier">_ambigTime</span>;
</pre>

<p>};</p>

<p>// Timezone // ————————————————————————————————-</p>

<p>// Converts the moment to UTC, stripping out its timezone offset, but
preserving its // YMD and time-of-day. A moment with a stripped timezone
offset will display no // timezone offset when .format() is called.
newMomentProto.stripZone = function() {</p>

<pre>var a, wasAmbigTime;

if (!this._ambigZone) {

        // get the values before any conversion happens
        a = this.toArray(); // array of y/m/d/h/m/s/ms
        wasAmbigTime = this._ambigTime;

        this.utc(); // set the internal UTC flag (will clear the ambig flags)
        setUTCValues(this, a); // will set the year/month/date/hours/minutes/seconds/ms

        if (wasAmbigTime) {
                // the above call to .utc()/.zone() unfortunately clears the ambig flags, so reassign
                this._ambigTime = true;
        }

        // Mark the zone as ambiguous. This needs to happen after the .utc() call, which calls .zone(),
        // which clears all ambig flags. Same with setUTCValues with moment-timezone.
        this._ambigZone = true;
}

return this; // for chaining</pre>

<p>};</p>

<p>// Returns of the moment has a non-ambiguous timezone offset (boolean)
newMomentProto.hasZone = function() {</p>

<pre class="ruby"><span class="ruby-keyword">return</span> <span class="ruby-operator">!</span><span class="ruby-identifier">this</span>.<span class="ruby-identifier">_ambigZone</span>;
</pre>

<p>};</p>

<p>// this method implicitly marks a zone (will get called upon .utc() and
.local()) newMomentProto.zone = function(tzo) {</p>

<pre>if (tzo != null) { // setter
        // these assignments needs to happen before the original zone method is called.
        // I forget why, something to do with a browser crash.
        this._ambigTime = false;
        this._ambigZone = false;
}

return oldMomentProto.zone.apply(this, arguments);</pre>

<p>};</p>

<p>// this method implicitly marks a zone newMomentProto.local = function() {</p>

<pre>var a = this.toArray(); // year,month,date,hours,minutes,seconds,ms as an array
var wasAmbigZone = this._ambigZone;

oldMomentProto.local.apply(this, arguments); // will clear ambig flags

if (wasAmbigZone) {
        // If the moment was ambiguously zoned, the date fields were stored as UTC.
        // We want to preserve these, but in local time.
        setLocalValues(this, a);
}

return this; // for chaining</pre>

<p>};</p>

<p>// Formatting // ————————————————————————————————-</p>

<p>newMomentProto.format = function() {</p>

<pre>if (this._fullCalendar &amp;&amp; arguments[0]) { // an enhanced moment? and a format string provided?
        return formatDate(this, arguments[0]); // our extended formatting
}
if (this._ambigTime) {
        return oldMomentFormat(this, &#39;YYYY-MM-DD&#39;);
}
if (this._ambigZone) {
        return oldMomentFormat(this, &#39;YYYY-MM-DD[T]HH:mm:ss&#39;);
}
return oldMomentProto.format.apply(this, arguments);</pre>

<p>};</p>

<p>newMomentProto.toISOString = function() {</p>

<pre>if (this._ambigTime) {
        return oldMomentFormat(this, &#39;YYYY-MM-DD&#39;);
}
if (this._ambigZone) {
        return oldMomentFormat(this, &#39;YYYY-MM-DD[T]HH:mm:ss&#39;);
}
return oldMomentProto.toISOString.apply(this, arguments);</pre>

<p>};</p>

<p>// Querying // ————————————————————————————————-</p>

<p>// Is the moment within the specified range? `end` is exclusive. // FYI,
this method is not a standard Moment method, so always do our enhanced
logic. newMomentProto.isWithin = function(start, end) {</p>

<pre>var a = commonlyAmbiguate([ this, start, end ]);
return a[0] &gt;= a[1] &amp;&amp; a[0] &lt; a[2];</pre>

<p>};</p>

<p>// When isSame is called with units, timezone ambiguity is normalized
before the comparison happens. // If no units specified, the two moments
must be identically the same, with matching ambig flags.
newMomentProto.isSame = function(input, units) {</p>

<pre>var a;

// only do custom logic if this is an enhanced moment
if (!this._fullCalendar) {
        return oldMomentProto.isSame.apply(this, arguments);
}

if (units) {
        a = commonlyAmbiguate([ this, input ], true); // normalize timezones but don&#39;t erase times
        return oldMomentProto.isSame.call(a[0], a[1], units);
}
else {
        input = fc.moment.parseZone(input); // normalize input
        return oldMomentProto.isSame.call(this, input) &amp;&amp;
                Boolean(this._ambigTime) === Boolean(input._ambigTime) &amp;&amp;
                Boolean(this._ambigZone) === Boolean(input._ambigZone);
}</pre>

<p>};</p>

<p>// Make these query methods work with ambiguous moments $.each([</p>

<pre>&#39;isBefore&#39;,
&#39;isAfter&#39;</pre>

<p>], function(i, methodName) {</p>

<pre>newMomentProto[methodName] = function(input, units) {
        var a;

        // only do custom logic if this is an enhanced moment
        if (!this._fullCalendar) {
                return oldMomentProto[methodName].apply(this, arguments);
        }

        a = commonlyAmbiguate([ this, input ]);
        return oldMomentProto[methodName].call(a[0], a[1], units);
};</pre>

<p>});</p>

<p>// Misc Internals // ————————————————————————————————-</p>

<p>// given an array of moment-like inputs, return a parallel array w/ moments
similarly ambiguated. // for example, of one moment has ambig time, but not
others, all moments will have their time stripped. // set `preserveTime` to
`true` to keep times, but only normalize zone ambiguity. // returns the
original moments if no modifications are necessary. function
commonlyAmbiguate(inputs, preserveTime) {</p>

<pre>var anyAmbigTime = false;
var anyAmbigZone = false;
var len = inputs.length;
var moms = [];
var i, mom;

// parse inputs into real moments and query their ambig flags
for (i = 0; i &lt; len; i++) {
        mom = inputs[i];
        if (!moment.isMoment(mom)) {
                mom = fc.moment.parseZone(mom);
        }
        anyAmbigTime = anyAmbigTime || mom._ambigTime;
        anyAmbigZone = anyAmbigZone || mom._ambigZone;
        moms.push(mom);
}

// strip each moment down to lowest common ambiguity
// use clones to avoid modifying the original moments
for (i = 0; i &lt; len; i++) {
        mom = moms[i];
        if (!preserveTime &amp;&amp; anyAmbigTime &amp;&amp; !mom._ambigTime) {
                moms[i] = mom.clone().stripTime();
        }
        else if (anyAmbigZone &amp;&amp; !mom._ambigZone) {
                moms[i] = mom.clone().stripZone();
        }
}

return moms;</pre>

<p>}</p>

<p>// Transfers all the flags related to ambiguous time/zone from the `src`
moment to the `dest` moment function transferAmbigs(src, dest) {</p>

<pre>if (src._ambigTime) {
        dest._ambigTime = true;
}
else if (dest._ambigTime) {
        dest._ambigTime = false;
}

if (src._ambigZone) {
        dest._ambigZone = true;
}
else if (dest._ambigZone) {
        dest._ambigZone = false;
}</pre>

<p>}</p>

<p>// Sets the year/month/date/etc values of the moment from the given array.
// Inefficient because it calls each individual setter. function
setMomentValues(mom, a) {</p>

<pre class="ruby"><span class="ruby-identifier">mom</span>.<span class="ruby-identifier">year</span>(<span class="ruby-identifier">a</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">||</span> <span class="ruby-value">0</span>)
        .<span class="ruby-identifier">month</span>(<span class="ruby-identifier">a</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">||</span> <span class="ruby-value">0</span>)
        .<span class="ruby-identifier">date</span>(<span class="ruby-identifier">a</span>[<span class="ruby-value">2</span>] <span class="ruby-operator">||</span> <span class="ruby-value">0</span>)
        .<span class="ruby-identifier">hours</span>(<span class="ruby-identifier">a</span>[<span class="ruby-value">3</span>] <span class="ruby-operator">||</span> <span class="ruby-value">0</span>)
        .<span class="ruby-identifier">minutes</span>(<span class="ruby-identifier">a</span>[<span class="ruby-value">4</span>] <span class="ruby-operator">||</span> <span class="ruby-value">0</span>)
        .<span class="ruby-identifier">seconds</span>(<span class="ruby-identifier">a</span>[<span class="ruby-value">5</span>] <span class="ruby-operator">||</span> <span class="ruby-value">0</span>)
        .<span class="ruby-identifier">milliseconds</span>(<span class="ruby-identifier">a</span>[<span class="ruby-value">6</span>] <span class="ruby-operator">||</span> <span class="ruby-value">0</span>);
</pre>

<p>}</p>

<p>// Can we set the moment&#39;s internal date directly?
allowValueOptimization = &#39;_d&#39; in moment() &amp;&amp;
&#39;updateOffset&#39; in moment;</p>

<p>// Utility function. Accepts a moment and an array of the UTC
year/month/date/etc values to set. // Assumes the given moment is already
in UTC mode. setUTCValues = allowValueOptimization ? function(mom, a) {</p>

<pre>// simlate what moment&#39;s accessors do
mom._d.setTime(Date.UTC.apply(Date, a));
moment.updateOffset(mom, false); // keepTime=false</pre>

<p>} : setMomentValues;</p>

<p>// Utility function. Accepts a moment and an array of the local
year/month/date/etc values to set. // Assumes the given moment is already
in local mode. setLocalValues = allowValueOptimization ? function(mom, a) {</p>

<pre>// simlate what moment&#39;s accessors do
mom._d.setTime(+new Date( // FYI, there is now way to apply an array of args to a constructor
        a[0] || 0,
        a[1] || 0,
        a[2] || 0,
        a[3] || 0,
        a[4] || 0,
        a[5] || 0,
        a[6] || 0
));
moment.updateOffset(mom, false); // keepTime=false</pre>

<p>} : setMomentValues;</p>

<p>// Single Date Formatting // ————————————————————————————————-</p>

<p>// call this if you want Moment&#39;s original format method to be used
function oldMomentFormat(mom, formatStr) {</p>

<pre>return oldMomentProto.format.call(mom, formatStr); // oldMomentProto defined in moment-ext.js</pre>

<p>}</p>

<p>// Formats `date` with a Moment formatting string, but allow our non-zero
areas and // additional token. function formatDate(date, formatStr) {</p>

<pre class="ruby"><span class="ruby-keyword">return</span> <span class="ruby-identifier">formatDateWithChunks</span>(<span class="ruby-identifier">date</span>, <span class="ruby-identifier">getFormatStringChunks</span>(<span class="ruby-identifier">formatStr</span>));
</pre>

<p>}</p>

<p>function formatDateWithChunks(date, chunks) {</p>

<pre>var s = &#39;&#39;;
var i;

for (i=0; i&lt;chunks.length; i++) {
        s += formatDateWithChunk(date, chunks[i]);
}

return s;</pre>

<p>}</p>

<p>// addition formatting tokens we want recognized var tokenOverrides = {</p>

<pre>t: function(date) { // &quot;a&quot; or &quot;p&quot;
        return oldMomentFormat(date, &#39;a&#39;).charAt(0);
},
T: function(date) { // &quot;A&quot; or &quot;P&quot;
        return oldMomentFormat(date, &#39;A&#39;).charAt(0);
}</pre>

<p>};</p>

<p>function formatDateWithChunk(date, chunk) {</p>

<pre>var token;
var maybeStr;

if (typeof chunk === &#39;string&#39;) { // a literal string
        return chunk;
}
else if ((token = chunk.token)) { // a token, like &quot;YYYY&quot;
        if (tokenOverrides[token]) {
                return tokenOverrides[token](date); // use our custom token
        }
        return oldMomentFormat(date, token);
}
else if (chunk.maybe) { // a grouping of other chunks that must be non-zero
        maybeStr = formatDateWithChunks(date, chunk.maybe);
        if (maybeStr.match(/[1-9]/)) {
                return maybeStr;
        }
}

return &#39;&#39;;</pre>

<p>}</p>

<p>// Date Range Formatting // ————————————————————————————————- // TODO: make
it work with timezone offset</p>

<p>// Using a formatting string meant for a single date, generate a range
string, like // “Sep 2 - 9 2013”, that intelligently inserts a separator
where the dates differ. // If the dates are the same as far as the format
string is concerned, just return a single // rendering of one date, without
any separator. function formatRange(date1, date2, formatStr, separator,
isRTL) {</p>

<pre>var localeData;

date1 = fc.moment.parseZone(date1);
date2 = fc.moment.parseZone(date2);

localeData = (date1.localeData || date1.lang).call(date1); // works with moment-pre-2.8

// Expand localized format strings, like &quot;LL&quot; -&gt; &quot;MMMM D YYYY&quot;
formatStr = localeData.longDateFormat(formatStr) || formatStr;
// BTW, this is not important for `formatDate` because it is impossible to put custom tokens
// or non-zero areas in Moment&#39;s localized format strings.

separator = separator || &#39; - &#39;;

return formatRangeWithChunks(
        date1,
        date2,
        getFormatStringChunks(formatStr),
        separator,
        isRTL
);</pre>

<p>} fc.formatRange = formatRange; // expose</p>

<p>function formatRangeWithChunks(date1, date2, chunks, separator, isRTL) {</p>

<pre>var chunkStr; // the rendering of the chunk
var leftI;
var leftStr = &#39;&#39;;
var rightI;
var rightStr = &#39;&#39;;
var middleI;
var middleStr1 = &#39;&#39;;
var middleStr2 = &#39;&#39;;
var middleStr = &#39;&#39;;

// Start at the leftmost side of the formatting string and continue until you hit a token
// that is not the same between dates.
for (leftI=0; leftI&lt;chunks.length; leftI++) {
        chunkStr = formatSimilarChunk(date1, date2, chunks[leftI]);
        if (chunkStr === false) {
                break;
        }
        leftStr += chunkStr;
}

// Similarly, start at the rightmost side of the formatting string and move left
for (rightI=chunks.length-1; rightI&gt;leftI; rightI--) {
        chunkStr = formatSimilarChunk(date1, date2, chunks[rightI]);
        if (chunkStr === false) {
                break;
        }
        rightStr = chunkStr + rightStr;
}

// The area in the middle is different for both of the dates.
// Collect them distinctly so we can jam them together later.
for (middleI=leftI; middleI&lt;=rightI; middleI++) {
        middleStr1 += formatDateWithChunk(date1, chunks[middleI]);
        middleStr2 += formatDateWithChunk(date2, chunks[middleI]);
}

if (middleStr1 || middleStr2) {
        if (isRTL) {
                middleStr = middleStr2 + separator + middleStr1;
        }
        else {
                middleStr = middleStr1 + separator + middleStr2;
        }
}

return leftStr + middleStr + rightStr;</pre>

<p>}</p>

<p>var similarUnitMap = {</p>

<pre>Y: &#39;year&#39;,
M: &#39;month&#39;,
D: &#39;day&#39;, // day of month
d: &#39;day&#39;, // day of week
// prevents a separator between anything time-related...
A: &#39;second&#39;, // AM/PM
a: &#39;second&#39;, // am/pm
T: &#39;second&#39;, // A/P
t: &#39;second&#39;, // a/p
H: &#39;second&#39;, // hour (24)
h: &#39;second&#39;, // hour (12)
m: &#39;second&#39;, // minute
s: &#39;second&#39; // second</pre>

<p>}; // TODO: week maybe?</p>

<p>// Given a formatting chunk, and given that both dates are similar in the
regard the // formatting chunk is concerned, format date1 against `chunk`.
Otherwise, return `false`. function formatSimilarChunk(date1, date2, chunk)
{</p>

<pre>var token;
var unit;

if (typeof chunk === &#39;string&#39;) { // a literal string
        return chunk;
}
else if ((token = chunk.token)) {
        unit = similarUnitMap[token.charAt(0)];
        // are the dates the same for this unit of measurement?
        if (unit &amp;&amp; date1.isSame(date2, unit)) {
                return oldMomentFormat(date1, token); // would be the same if we used `date2`
                // BTW, don&#39;t support custom tokens
        }
}

return false; // the chunk is NOT the same for the two dates
// BTW, don&#39;t support splitting on non-zero areas</pre>

<p>}</p>

<p>// Chunking Utils // ————————————————————————————————-</p>

<p>var formatStringChunkCache = {};</p>

<p>function getFormatStringChunks(formatStr) {</p>

<pre>if (formatStr in formatStringChunkCache) {
        return formatStringChunkCache[formatStr];
}
return (formatStringChunkCache[formatStr] = chunkFormatString(formatStr));</pre>

<p>}</p>

<p>// Break the formatting string into an array of chunks function
chunkFormatString(formatStr) {</p>

<pre>var chunks = [];
var chunker = /\[([^\]]*)\]|\(([^\)]*)\)|(LT|(\w)\4*o?)|([^\w\[\(]+)/g; // TODO: more descrimination
var match;

while ((match = chunker.exec(formatStr))) {
        if (match[1]) { // a literal string inside [ ... ]
                chunks.push(match[1]);
        }
        else if (match[2]) { // non-zero formatting inside ( ... )
                chunks.push({ maybe: chunkFormatString(match[2]) });
        }
        else if (match[3]) { // a formatting token
                chunks.push({ token: match[3] });
        }
        else if (match[5]) { // an unenclosed literal string
                chunks.push(match[5]);
        }
}

return chunks;</pre>

<p>}</p>

<pre>fc.Class = Class; // export</pre>

<p>// class that all other classes will inherit from function Class() { }</p>

<p>// called upon a class to create a subclass Class.extend =
function(members) {</p>

<pre>var superClass = this;
var subClass;

members = members || {};

// ensure a constructor for the subclass, forwarding all arguments to the super-constructor if it doesn&#39;t exist
if (hasOwnProp(members, &#39;constructor&#39;)) {
        subClass = members.constructor;
}
if (typeof subClass !== &#39;function&#39;) {
        subClass = members.constructor = function() {
                superClass.apply(this, arguments);
        };
}

// build the base prototype for the subclass, which is an new object chained to the superclass&#39;s prototype
subClass.prototype = createObject(superClass.prototype);

// copy each member variable/method onto the the subclass&#39;s prototype
copyOwnProps(members, subClass.prototype);

// copy over all class variables/methods to the subclass, such as `extend` and `mixin`
copyOwnProps(superClass, subClass);

return subClass;</pre>

<p>};</p>

<p>// adds new member variables/methods to the class&#39;s prototype. // can
be called with another class, or a plain object hash containing new
members. Class.mixin = function(members) {</p>

<pre class="ruby"><span class="ruby-identifier">copyOwnProps</span>(<span class="ruby-identifier">members</span>.<span class="ruby-identifier">prototype</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">members</span>, <span class="ruby-identifier">this</span>.<span class="ruby-identifier">prototype</span>);
</pre>

<p>};</p>

<pre>/* A rectangular panel that is absolutely positioned over other content</pre>
<hr>

<p>Options:</p>

<pre>       - className (string)
       - content (HTML string or jQuery element set)
       - parentEl
       - top
       - left
       - right (the x coord of where the right edge should be. not a &quot;CSS&quot; right)
       - autoHide (boolean)
       - show (callback)
       - hide (callback)
/</pre>

<p>var Popover = Class.extend({</p>

<pre>isHidden: true,
options: null,
el: null, // the container element for the popover. generated by this object
documentMousedownProxy: null, // document mousedown handler bound to `this`
margin: 10, // the space required between the popover and the edges of the scroll container

constructor: function(options) {
        this.options = options || {};
},

// Shows the popover on the specified position. Renders it if not already
show: function() {
        if (this.isHidden) {
                if (!this.el) {
                        this.render();
                }
                this.el.show();
                this.position();
                this.isHidden = false;
                this.trigger(&#39;show&#39;);
        }
},

// Hides the popover, through CSS, but does not remove it from the DOM
hide: function() {
        if (!this.isHidden) {
                this.el.hide();
                this.isHidden = true;
                this.trigger(&#39;hide&#39;);
        }
},

// Creates `this.el` and renders content inside of it
render: function() {
        var _this = this;
        var options = this.options;

        this.el = $(&#39;&lt;div class=&quot;fc-popover&quot;/&gt;&#39;)
                .addClass(options.className || &#39;&#39;)
                .css({
                        // position initially to the top left to avoid creating scrollbars
                        top: 0,
                        left: 0
                })
                .append(options.content)
                .appendTo(options.parentEl);

        // when a click happens on anything inside with a &#39;fc-close&#39; className, hide the popover
        this.el.on(&#39;click&#39;, &#39;.fc-close&#39;, function() {
                _this.hide();
        });

        if (options.autoHide) {
                $(document).on(&#39;mousedown&#39;, this.documentMousedownProxy = $.proxy(this, &#39;documentMousedown&#39;));
        }
},

// Triggered when the user clicks *anywhere* in the document, for the autoHide feature
documentMousedown: function(ev) {
        // only hide the popover if the click happened outside the popover
        if (this.el &amp;&amp; !$(ev.target).closest(this.el).length) {
                this.hide();
        }
},

// Hides and unregisters any handlers
destroy: function() {
        this.hide();

        if (this.el) {
                this.el.remove();
                this.el = null;
        }

        $(document).off(&#39;mousedown&#39;, this.documentMousedownProxy);
},

// Positions the popover optimally, using the top/left/right options
position: function() {
        var options = this.options;
        var origin = this.el.offsetParent().offset();
        var width = this.el.outerWidth();
        var height = this.el.outerHeight();
        var windowEl = $(window);
        var viewportEl = getScrollParent(this.el);
        var viewportTop;
        var viewportLeft;
        var viewportOffset;
        var top; // the &quot;position&quot; (not &quot;offset&quot;) values for the popover
        var left; //

        // compute top and left
        top = options.top || 0;
        if (options.left !== undefined) {
                left = options.left;
        }
        else if (options.right !== undefined) {
                left = options.right - width; // derive the left value from the right value
        }
        else {
                left = 0;
        }

        if (viewportEl.is(window) || viewportEl.is(document)) { // normalize getScrollParent&#39;s result
                viewportEl = windowEl;
                viewportTop = 0; // the window is always at the top left
                viewportLeft = 0; // (and .offset() won&#39;t work if called here)
        }
        else {
                viewportOffset = viewportEl.offset();
                viewportTop = viewportOffset.top;
                viewportLeft = viewportOffset.left;
        }

        // if the window is scrolled, it causes the visible area to be further down
        viewportTop += windowEl.scrollTop();
        viewportLeft += windowEl.scrollLeft();

        // constrain to the view port. if constrained by two edges, give precedence to top/left
        if (options.viewportConstrain !== false) {
                top = Math.min(top, viewportTop + viewportEl.outerHeight() - height - this.margin);
                top = Math.max(top, viewportTop + this.margin);
                left = Math.min(left, viewportLeft + viewportEl.outerWidth() - width - this.margin);
                left = Math.max(left, viewportLeft + this.margin);
        }

        this.el.css({
                top: top - origin.top,
                left: left - origin.left
        });
},

// Triggers a callback. Calls a function in the option hash of the same name.
// Arguments beyond the first `name` are forwarded on.
// TODO: better code reuse for this. Repeat code
trigger: function(name) {
        if (this.options[name]) {
                this.options[name].apply(this, Array.prototype.slice.call(arguments, 1));
        }
}</pre>

<p>});</p>

<pre>/* A &quot;coordinate map&quot; converts pixel coordinates into an associated cell, which has an associated date</pre>
<hr>

<p>Common interface:</p>

<pre>       CoordMap.prototype = {
               build: function() {},
               getCell: function(x, y) {}
       };

/</pre>

<p>/* Coordinate map for a grid component
———————————————————————————————————————-*/</p>

<p>var GridCoordMap = Class.extend({</p>

<pre>grid: null, // reference to the Grid
rowCoords: null, // array of {top,bottom} objects
colCoords: null, // array of {left,right} objects

containerEl: null, // container element that all coordinates are constrained to. optionally assigned
minX: null,
maxX: null, // exclusive
minY: null,
maxY: null, // exclusive

constructor: function(grid) {
        this.grid = grid;
},

// Queries the grid for the coordinates of all the cells
build: function() {
        this.rowCoords = this.grid.computeRowCoords();
        this.colCoords = this.grid.computeColCoords();
        this.computeBounds();
},

// Clears the coordinates data to free up memory
clear: function() {
        this.rowCoords = null;
        this.colCoords = null;
},

// Given a coordinate of the document, gets the associated cell. If no cell is underneath, returns null
getCell: function(x, y) {
        var rowCoords = this.rowCoords;
        var colCoords = this.colCoords;
        var hitRow = null;
        var hitCol = null;
        var i, coords;
        var cell;

        if (this.inBounds(x, y)) {

                for (i = 0; i &lt; rowCoords.length; i++) {
                        coords = rowCoords[i];
                        if (y &gt;= coords.top &amp;&amp; y &lt; coords.bottom) {
                                hitRow = i;
                                break;
                        }
                }

                for (i = 0; i &lt; colCoords.length; i++) {
                        coords = colCoords[i];
                        if (x &gt;= coords.left &amp;&amp; x &lt; coords.right) {
                                hitCol = i;
                                break;
                        }
                }

                if (hitRow !== null &amp;&amp; hitCol !== null) {
                        cell = this.grid.getCell(hitRow, hitCol);
                        cell.grid = this.grid; // for DragListener&#39;s isCellsEqual. dragging between grids
                        return cell;
                }
        }

        return null;
},

// If there is a containerEl, compute the bounds into min/max values
computeBounds: function() {
        var containerOffset;

        if (this.containerEl) {
                containerOffset = this.containerEl.offset();
                this.minX = containerOffset.left;
                this.maxX = containerOffset.left + this.containerEl.outerWidth();
                this.minY = containerOffset.top;
                this.maxY = containerOffset.top + this.containerEl.outerHeight();
        }
},

// Determines if the given coordinates are in bounds. If no `containerEl`, always true
inBounds: function(x, y) {
        if (this.containerEl) {
                return x &gt;= this.minX &amp;&amp; x &lt; this.maxX &amp;&amp; y &gt;= this.minY &amp;&amp; y &lt; this.maxY;
        }
        return true;
}</pre>

<p>});</p>

<p>/* Coordinate map that is a combination of multiple other coordinate maps
———————————————————————————————————————-*/</p>

<p>var ComboCoordMap = Class.extend({</p>

<pre>coordMaps: null, // an array of CoordMaps

constructor: function(coordMaps) {
        this.coordMaps = coordMaps;
},

// Builds all coordMaps
build: function() {
        var coordMaps = this.coordMaps;
        var i;

        for (i = 0; i &lt; coordMaps.length; i++) {
                coordMaps[i].build();
        }
},

// Queries all coordMaps for the cell underneath the given coordinates, returning the first result
getCell: function(x, y) {
        var coordMaps = this.coordMaps;
        var cell = null;
        var i;

        for (i = 0; i &lt; coordMaps.length &amp;&amp; !cell; i++) {
                cell = coordMaps[i].getCell(x, y);
        }

        return cell;
},

// Clears all coordMaps
clear: function() {
        var coordMaps = this.coordMaps;
        var i;

        for (i = 0; i &lt; coordMaps.length; i++) {
                coordMaps[i].clear();
        }
}</pre>

<p>});</p>

<pre>/* Tracks mouse movements over a CoordMap and raises events about which cell the mouse is over.</pre>

<p>———————————————————————————————————————-*/ // TODO: very useful to have a
handler that gets called upon cellOut OR when dragging stops (for cleanup)</p>

<p>var DragListener = Class.extend({</p>

<pre>coordMap: null,
options: null,

isListening: false,
isDragging: false,

// the cell the mouse was over when listening started
origCell: null,

// the cell the mouse is over
cell: null,

// coordinates of the initial mousedown
mouseX0: null,
mouseY0: null,

// handler attached to the document, bound to the DragListener&#39;s `this`
mousemoveProxy: null,
mouseupProxy: null,

scrollEl: null,
scrollBounds: null, // { top, bottom, left, right }
scrollTopVel: null, // pixels per second
scrollLeftVel: null, // pixels per second
scrollIntervalId: null, // ID of setTimeout for scrolling animation loop
scrollHandlerProxy: null, // this-scoped function for handling when scrollEl is scrolled

scrollSensitivity: 30, // pixels from edge for scrolling to start
scrollSpeed: 200, // pixels per second, at maximum speed
scrollIntervalMs: 50, // millisecond wait between scroll increment

constructor: function(coordMap, options) {
        this.coordMap = coordMap;
        this.options = options || {};
},

// Call this when the user does a mousedown. Will probably lead to startListening
mousedown: function(ev) {
        if (isPrimaryMouseButton(ev)) {

                ev.preventDefault(); // prevents native selection in most browsers

                this.startListening(ev);

                // start the drag immediately if there is no minimum distance for a drag start
                if (!this.options.distance) {
                        this.startDrag(ev);
                }
        }
},

// Call this to start tracking mouse movements
startListening: function(ev) {
        var scrollParent;
        var cell;

        if (!this.isListening) {

                // grab scroll container and attach handler
                if (ev &amp;&amp; this.options.scroll) {
                        scrollParent = getScrollParent($(ev.target));
                        if (!scrollParent.is(window) &amp;&amp; !scrollParent.is(document)) {
                                this.scrollEl = scrollParent;

                                // scope to `this`, and use `debounce` to make sure rapid calls don&#39;t happen
                                this.scrollHandlerProxy = debounce($.proxy(this, &#39;scrollHandler&#39;), 100);
                                this.scrollEl.on(&#39;scroll&#39;, this.scrollHandlerProxy);
                        }
                }

                this.computeCoords(); // relies on `scrollEl`

                // get info on the initial cell and its coordinates
                if (ev) {
                        cell = this.getCell(ev);
                        this.origCell = cell;

                        this.mouseX0 = ev.pageX;
                        this.mouseY0 = ev.pageY;
                }

                $(document)
                        .on(&#39;mousemove&#39;, this.mousemoveProxy = $.proxy(this, &#39;mousemove&#39;))
                        .on(&#39;mouseup&#39;, this.mouseupProxy = $.proxy(this, &#39;mouseup&#39;))
                        .on(&#39;selectstart&#39;, this.preventDefault); // prevents native selection in IE&lt;=8

                this.isListening = true;
                this.trigger(&#39;listenStart&#39;, ev);
        }
},

// Recomputes the drag-critical positions of elements
computeCoords: function() {
        this.coordMap.build();
        this.computeScrollBounds();
},

// Called when the user moves the mouse
mousemove: function(ev) {
        var minDistance;
        var distanceSq; // current distance from mouseX0/mouseY0, squared

        if (!this.isDragging) { // if not already dragging...
                // then start the drag if the minimum distance criteria is met
                minDistance = this.options.distance || 1;
                distanceSq = Math.pow(ev.pageX - this.mouseX0, 2) + Math.pow(ev.pageY - this.mouseY0, 2);
                if (distanceSq &gt;= minDistance * minDistance) { // use pythagorean theorem
                        this.startDrag(ev);
                }
        }

        if (this.isDragging) {
                this.drag(ev); // report a drag, even if this mousemove initiated the drag
        }
},

// Call this to initiate a legitimate drag.
// This function is called internally from this class, but can also be called explicitly from outside
startDrag: function(ev) {
        var cell;

        if (!this.isListening) { // startDrag must have manually initiated
                this.startListening();
        }

        if (!this.isDragging) {
                this.isDragging = true;
                this.trigger(&#39;dragStart&#39;, ev);

                // report the initial cell the mouse is over
                // especially important if no min-distance and drag starts immediately
                cell = this.getCell(ev); // this might be different from this.origCell if the min-distance is large
                if (cell) {
                        this.cellOver(cell);
                }
        }
},

// Called while the mouse is being moved and when we know a legitimate drag is taking place
drag: function(ev) {
        var cell;

        if (this.isDragging) {
                cell = this.getCell(ev);

                if (!isCellsEqual(cell, this.cell)) { // a different cell than before?
                        if (this.cell) {
                                this.cellOut();
                        }
                        if (cell) {
                                this.cellOver(cell);
                        }
                }

                this.dragScroll(ev); // will possibly cause scrolling
        }
},

// Called when a the mouse has just moved over a new cell
cellOver: function(cell) {
        this.cell = cell;
        this.trigger(&#39;cellOver&#39;, cell, isCellsEqual(cell, this.origCell));
},

// Called when the mouse has just moved out of a cell
cellOut: function() {
        if (this.cell) {
                this.trigger(&#39;cellOut&#39;, this.cell);
                this.cell = null;
        }
},

// Called when the user does a mouseup
mouseup: function(ev) {
        this.stopDrag(ev);
        this.stopListening(ev);
},

// Called when the drag is over. Will not cause listening to stop however.
// A concluding &#39;cellOut&#39; event will NOT be triggered.
stopDrag: function(ev) {
        if (this.isDragging) {
                this.stopScrolling();
                this.trigger(&#39;dragStop&#39;, ev);
                this.isDragging = false;
        }
},

// Call this to stop listening to the user&#39;s mouse events
stopListening: function(ev) {
        if (this.isListening) {

                // remove the scroll handler if there is a scrollEl
                if (this.scrollEl) {
                        this.scrollEl.off(&#39;scroll&#39;, this.scrollHandlerProxy);
                        this.scrollHandlerProxy = null;
                }

                $(document)
                        .off(&#39;mousemove&#39;, this.mousemoveProxy)
                        .off(&#39;mouseup&#39;, this.mouseupProxy)
                        .off(&#39;selectstart&#39;, this.preventDefault);

                this.mousemoveProxy = null;
                this.mouseupProxy = null;

                this.isListening = false;
                this.trigger(&#39;listenStop&#39;, ev);

                this.origCell = this.cell = null;
                this.coordMap.clear();
        }
},

// Gets the cell underneath the coordinates for the given mouse event
getCell: function(ev) {
        return this.coordMap.getCell(ev.pageX, ev.pageY);
},

// Triggers a callback. Calls a function in the option hash of the same name.
// Arguments beyond the first `name` are forwarded on.
trigger: function(name) {
        if (this.options[name]) {
                this.options[name].apply(this, Array.prototype.slice.call(arguments, 1));
        }
},

// Stops a given mouse event from doing it&#39;s native browser action. In our case, text selection.
preventDefault: function(ev) {
        ev.preventDefault();
},

/* Scrolling
------------------------------------------------------------------------------------------------------------------*/

// Computes and stores the bounding rectangle of scrollEl
computeScrollBounds: function() {
        var el = this.scrollEl;
        var offset;

        if (el) {
                offset = el.offset();
                this.scrollBounds = {
                        top: offset.top,
                        left: offset.left,
                        bottom: offset.top + el.outerHeight(),
                        right: offset.left + el.outerWidth()
                };
        }
},

// Called when the dragging is in progress and scrolling should be updated
dragScroll: function(ev) {
        var sensitivity = this.scrollSensitivity;
        var bounds = this.scrollBounds;
        var topCloseness, bottomCloseness;
        var leftCloseness, rightCloseness;
        var topVel = 0;
        var leftVel = 0;

        if (bounds) { // only scroll if scrollEl exists

                // compute closeness to edges. valid range is from 0.0 - 1.0
                topCloseness = (sensitivity - (ev.pageY - bounds.top)) / sensitivity;
                bottomCloseness = (sensitivity - (bounds.bottom - ev.pageY)) / sensitivity;
                leftCloseness = (sensitivity - (ev.pageX - bounds.left)) / sensitivity;
                rightCloseness = (sensitivity - (bounds.right - ev.pageX)) / sensitivity;

                // translate vertical closeness into velocity.
                // mouse must be completely in bounds for velocity to happen.
                if (topCloseness &gt;= 0 &amp;&amp; topCloseness &lt;= 1) {
                        topVel = topCloseness * this.scrollSpeed * -1; // negative. for scrolling up
                }
                else if (bottomCloseness &gt;= 0 &amp;&amp; bottomCloseness &lt;= 1) {
                        topVel = bottomCloseness * this.scrollSpeed;
                }

                // translate horizontal closeness into velocity
                if (leftCloseness &gt;= 0 &amp;&amp; leftCloseness &lt;= 1) {
                        leftVel = leftCloseness * this.scrollSpeed * -1; // negative. for scrolling left
                }
                else if (rightCloseness &gt;= 0 &amp;&amp; rightCloseness &lt;= 1) {
                        leftVel = rightCloseness * this.scrollSpeed;
                }
        }

        this.setScrollVel(topVel, leftVel);
},

// Sets the speed-of-scrolling for the scrollEl
setScrollVel: function(topVel, leftVel) {

        this.scrollTopVel = topVel;
        this.scrollLeftVel = leftVel;

        this.constrainScrollVel(); // massages into realistic values

        // if there is non-zero velocity, and an animation loop hasn&#39;t already started, then START
        if ((this.scrollTopVel || this.scrollLeftVel) &amp;&amp; !this.scrollIntervalId) {
                this.scrollIntervalId = setInterval(
                        $.proxy(this, &#39;scrollIntervalFunc&#39;), // scope to `this`
                        this.scrollIntervalMs
                );
        }
},

// Forces scrollTopVel and scrollLeftVel to be zero if scrolling has already gone all the way
constrainScrollVel: function() {
        var el = this.scrollEl;

        if (this.scrollTopVel &lt; 0) { // scrolling up?
                if (el.scrollTop() &lt;= 0) { // already scrolled all the way up?
                        this.scrollTopVel = 0;
                }
        }
        else if (this.scrollTopVel &gt; 0) { // scrolling down?
                if (el.scrollTop() + el[0].clientHeight &gt;= el[0].scrollHeight) { // already scrolled all the way down?
                        this.scrollTopVel = 0;
                }
        }

        if (this.scrollLeftVel &lt; 0) { // scrolling left?
                if (el.scrollLeft() &lt;= 0) { // already scrolled all the left?
                        this.scrollLeftVel = 0;
                }
        }
        else if (this.scrollLeftVel &gt; 0) { // scrolling right?
                if (el.scrollLeft() + el[0].clientWidth &gt;= el[0].scrollWidth) { // already scrolled all the way right?
                        this.scrollLeftVel = 0;
                }
        }
},

// This function gets called during every iteration of the scrolling animation loop
scrollIntervalFunc: function() {
        var el = this.scrollEl;
        var frac = this.scrollIntervalMs / 1000; // considering animation frequency, what the vel should be mult&#39;d by

        // change the value of scrollEl&#39;s scroll
        if (this.scrollTopVel) {
                el.scrollTop(el.scrollTop() + this.scrollTopVel * frac);
        }
        if (this.scrollLeftVel) {
                el.scrollLeft(el.scrollLeft() + this.scrollLeftVel * frac);
        }

        this.constrainScrollVel(); // since the scroll values changed, recompute the velocities

        // if scrolled all the way, which causes the vels to be zero, stop the animation loop
        if (!this.scrollTopVel &amp;&amp; !this.scrollLeftVel) {
                this.stopScrolling();
        }
},

// Kills any existing scrolling animation loop
stopScrolling: function() {
        if (this.scrollIntervalId) {
                clearInterval(this.scrollIntervalId);
                this.scrollIntervalId = null;

                // when all done with scrolling, recompute positions since they probably changed
                this.computeCoords();
        }
},

// Get called when the scrollEl is scrolled (NOTE: this is delayed via debounce)
scrollHandler: function() {
        // recompute all coordinates, but *only* if this is *not* part of our scrolling animation
        if (!this.scrollIntervalId) {
                this.computeCoords();
        }
}</pre>

<p>});</p>

<p>// Returns `true` if the cells are identically equal. `false` otherwise. //
They must have the same row, col, and be from the same grid. // Two null
values will be considered equal, as two “out of the grid” states are the
same. function isCellsEqual(cell1, cell2) {</p>

<pre>if (!cell1 &amp;&amp; !cell2) {
        return true;
}

if (cell1 &amp;&amp; cell2) {
        return cell1.grid === cell2.grid &amp;&amp;
                cell1.row === cell2.row &amp;&amp;
                cell1.col === cell2.col;
}

return false;</pre>

<p>}</p>

<pre>/* Creates a clone of an element and lets it track the mouse as it moves</pre>

<p>———————————————————————————————————————-*/</p>

<p>var MouseFollower = Class.extend({</p>

<pre>options: null,

sourceEl: null, // the element that will be cloned and made to look like it is dragging
el: null, // the clone of `sourceEl` that will track the mouse
parentEl: null, // the element that `el` (the clone) will be attached to

// the initial position of el, relative to the offset parent. made to match the initial offset of sourceEl
top0: null,
left0: null,

// the initial position of the mouse
mouseY0: null,
mouseX0: null,

// the number of pixels the mouse has moved from its initial position
topDelta: null,
leftDelta: null,

mousemoveProxy: null, // document mousemove handler, bound to the MouseFollower&#39;s `this`

isFollowing: false,
isHidden: false,
isAnimating: false, // doing the revert animation?

constructor: function(sourceEl, options) {
        this.options = options = options || {};
        this.sourceEl = sourceEl;
        this.parentEl = options.parentEl ? $(options.parentEl) : sourceEl.parent(); // default to sourceEl&#39;s parent
},

// Causes the element to start following the mouse
start: function(ev) {
        if (!this.isFollowing) {
                this.isFollowing = true;

                this.mouseY0 = ev.pageY;
                this.mouseX0 = ev.pageX;
                this.topDelta = 0;
                this.leftDelta = 0;

                if (!this.isHidden) {
                        this.updatePosition();
                }

                $(document).on(&#39;mousemove&#39;, this.mousemoveProxy = $.proxy(this, &#39;mousemove&#39;));
        }
},

// Causes the element to stop following the mouse. If shouldRevert is true, will animate back to original position.
// `callback` gets invoked when the animation is complete. If no animation, it is invoked immediately.
stop: function(shouldRevert, callback) {
        var _this = this;
        var revertDuration = this.options.revertDuration;

        function complete() {
                this.isAnimating = false;
                _this.destroyEl();

                this.top0 = this.left0 = null; // reset state for future updatePosition calls

                if (callback) {
                        callback();
                }
        }

        if (this.isFollowing &amp;&amp; !this.isAnimating) { // disallow more than one stop animation at a time
                this.isFollowing = false;

                $(document).off(&#39;mousemove&#39;, this.mousemoveProxy);

                if (shouldRevert &amp;&amp; revertDuration &amp;&amp; !this.isHidden) { // do a revert animation?
                        this.isAnimating = true;
                        this.el.animate({
                                top: this.top0,
                                left: this.left0
                        }, {
                                duration: revertDuration,
                                complete: complete
                        });
                }
                else {
                        complete();
                }
        }
},

// Gets the tracking element. Create it if necessary
getEl: function() {
        var el = this.el;

        if (!el) {
                this.sourceEl.width(); // hack to force IE8 to compute correct bounding box
                el = this.el = this.sourceEl.clone()
                        .css({
                                position: &#39;absolute&#39;,
                                visibility: &#39;&#39;, // in case original element was hidden (commonly through hideEvents())
                                display: this.isHidden ? &#39;none&#39; : &#39;&#39;, // for when initially hidden
                                margin: 0,
                                right: &#39;auto&#39;, // erase and set width instead
                                bottom: &#39;auto&#39;, // erase and set height instead
                                width: this.sourceEl.width(), // explicit height in case there was a &#39;right&#39; value
                                height: this.sourceEl.height(), // explicit width in case there was a &#39;bottom&#39; value
                                opacity: this.options.opacity || &#39;&#39;,
                                zIndex: this.options.zIndex
                        })
                        .appendTo(this.parentEl);
        }

        return el;
},

// Removes the tracking element if it has already been created
destroyEl: function() {
        if (this.el) {
                this.el.remove();
                this.el = null;
        }
},

// Update the CSS position of the tracking element
updatePosition: function() {
        var sourceOffset;
        var origin;

        this.getEl(); // ensure this.el

        // make sure origin info was computed
        if (this.top0 === null) {
                this.sourceEl.width(); // hack to force IE8 to compute correct bounding box
                sourceOffset = this.sourceEl.offset();
                origin = this.el.offsetParent().offset();
                this.top0 = sourceOffset.top - origin.top;
                this.left0 = sourceOffset.left - origin.left;
        }

        this.el.css({
                top: this.top0 + this.topDelta,
                left: this.left0 + this.leftDelta
        });
},

// Gets called when the user moves the mouse
mousemove: function(ev) {
        this.topDelta = ev.pageY - this.mouseY0;
        this.leftDelta = ev.pageX - this.mouseX0;

        if (!this.isHidden) {
                this.updatePosition();
        }
},

// Temporarily makes the tracking element invisible. Can be called before following starts
hide: function() {
        if (!this.isHidden) {
                this.isHidden = true;
                if (this.el) {
                        this.el.hide();
                }
        }
},

// Show the tracking element after it has been temporarily hidden
show: function() {
        if (this.isHidden) {
                this.isHidden = false;
                this.updatePosition();
                this.getEl().show();
        }
}</pre>

<p>});</p>

<pre>/* A utility class for rendering &lt;tr&gt; rows.</pre>

<p>———————————————————————————————————————-*/ // It leverages methods of the
subclass and the View to determine custom rendering behavior for each row
“type” // (such as highlight rows, day rows, helper rows, etc).</p>

<p>var RowRenderer = Class.extend({</p>

<pre>view: null, // a View object
isRTL: null, // shortcut to the view&#39;s isRTL option
cellHtml: &#39;&lt;td/&gt;&#39;, // plain default HTML used for a cell when no other is available

constructor: function(view) {
        this.view = view;
        this.isRTL = view.opt(&#39;isRTL&#39;);
},

// Renders the HTML for a row, leveraging custom cell-HTML-renderers based on the `rowType`.
// Also applies the &quot;intro&quot; and &quot;outro&quot; cells, which are specified by the subclass and views.
// `row` is an optional row number.
rowHtml: function(rowType, row) {
        var renderCell = this.getHtmlRenderer(&#39;cell&#39;, rowType);
        var rowCellHtml = &#39;&#39;;
        var col;
        var cell;

        row = row || 0;

        for (col = 0; col &lt; this.colCnt; col++) {
                cell = this.getCell(row, col);
                rowCellHtml += renderCell(cell);
        }

        rowCellHtml = this.bookendCells(rowCellHtml, rowType, row); // apply intro and outro

        return &#39;&lt;tr&gt;&#39; + rowCellHtml + &#39;&lt;/tr&gt;&#39;;
},

// Applies the &quot;intro&quot; and &quot;outro&quot; HTML to the given cells.
// Intro means the leftmost cell when the calendar is LTR and the rightmost cell when RTL. Vice-versa for outro.
// `cells` can be an HTML string of &lt;td&gt;&#39;s or a jQuery &lt;tr&gt; element
// `row` is an optional row number.
bookendCells: function(cells, rowType, row) {
        var intro = this.getHtmlRenderer(&#39;intro&#39;, rowType)(row || 0);
        var outro = this.getHtmlRenderer(&#39;outro&#39;, rowType)(row || 0);
        var prependHtml = this.isRTL ? outro : intro;
        var appendHtml = this.isRTL ? intro : outro;

        if (typeof cells === &#39;string&#39;) {
                return prependHtml + cells + appendHtml;
        }
        else { // a jQuery &lt;tr&gt; element
                return cells.prepend(prependHtml).append(appendHtml);
        }
},

// Returns an HTML-rendering function given a specific `rendererName` (like cell, intro, or outro) and a specific
// `rowType` (like day, eventSkeleton, helperSkeleton), which is optional.
// If a renderer for the specific rowType doesn&#39;t exist, it will fall back to a generic renderer.
// We will query the View object first for any custom rendering functions, then the methods of the subclass.
getHtmlRenderer: function(rendererName, rowType) {
        var view = this.view;
        var generalName; // like &quot;cellHtml&quot;
        var specificName; // like &quot;dayCellHtml&quot;. based on rowType
        var provider; // either the View or the RowRenderer subclass, whichever provided the method
        var renderer;

        generalName = rendererName + &#39;Html&#39;;
        if (rowType) {
                specificName = rowType + capitaliseFirstLetter(rendererName) + &#39;Html&#39;;
        }

        if (specificName &amp;&amp; (renderer = view[specificName])) {
                provider = view;
        }
        else if (specificName &amp;&amp; (renderer = this[specificName])) {
                provider = this;
        }
        else if ((renderer = view[generalName])) {
                provider = view;
        }
        else if ((renderer = this[generalName])) {
                provider = this;
        }

        if (typeof renderer === &#39;function&#39;) {
                return function() {
                        return renderer.apply(provider, arguments) || &#39;&#39;; // use correct `this` and always return a string
                };
        }

        // the rendered can be a plain string as well. if not specified, always an empty string.
        return function() {
                return renderer || &#39;&#39;;
        };
}</pre>

<p>});</p>

<pre>/* An abstract class comprised of a &quot;grid&quot; of cells that each represent a specific datetime</pre>

<p>———————————————————————————————————————-*/</p>

<p>var Grid = fc.Grid = RowRenderer.extend({</p>

<pre>start: null, // the date of the first cell
end: null, // the date after the last cell

rowCnt: 0, // number of rows
colCnt: 0, // number of cols
rowData: null, // array of objects, holding misc data for each row
colData: null, // array of objects, holding misc data for each column

el: null, // the containing element
coordMap: null, // a GridCoordMap that converts pixel values to datetimes
elsByFill: null, // a hash of jQuery element sets used for rendering each fill. Keyed by fill name.

documentDragStartProxy: null, // binds the Grid&#39;s scope to documentDragStart (in DayGrid.events)

// derived from options
colHeadFormat: null, // TODO: move to another class. not applicable to all Grids
eventTimeFormat: null,
displayEventEnd: null,

constructor: function() {
        RowRenderer.apply(this, arguments); // call the super-constructor

        this.coordMap = new GridCoordMap(this);
        this.elsByFill = {};
        this.documentDragStartProxy = $.proxy(this, &#39;documentDragStart&#39;);
},

// Renders the grid into the `el` element.
// Subclasses should override and call this super-method when done.
render: function() {
        this.bindHandlers();
},

// Called when the grid&#39;s resources need to be cleaned up
destroy: function() {
        this.unbindHandlers();
},

/* Options
------------------------------------------------------------------------------------------------------------------*/

// Generates the format string used for the text in column headers, if not explicitly defined by &#39;columnFormat&#39;
// TODO: move to another class. not applicable to all Grids
computeColHeadFormat: function() {
        // subclasses must implement if they want to use headHtml()
},

// Generates the format string used for event time text, if not explicitly defined by &#39;timeFormat&#39;
computeEventTimeFormat: function() {
        return this.view.opt(&#39;smallTimeFormat&#39;);
},

// Determines whether events should have their end times displayed, if not explicitly defined by &#39;displayEventEnd&#39;
computeDisplayEventEnd: function() {
        return false;
},

/* Dates
------------------------------------------------------------------------------------------------------------------*/

// Tells the grid about what period of time to display. Grid will subsequently compute dates for cell system.
setRange: function(range) {
        var view = this.view;

        this.start = range.start.clone();
        this.end = range.end.clone();

        this.rowData = [];
        this.colData = [];
        this.updateCells();

        // Populate option-derived settings. Look for override first, then compute if necessary.
        this.colHeadFormat = view.opt(&#39;columnFormat&#39;) || this.computeColHeadFormat();
        this.eventTimeFormat = view.opt(&#39;timeFormat&#39;) || this.computeEventTimeFormat();
        this.displayEventEnd = view.opt(&#39;displayEventEnd&#39;);
        if (this.displayEventEnd == null) {
                this.displayEventEnd = this.computeDisplayEventEnd();
        }
},

// Responsible for setting rowCnt/colCnt and any other row/col data
updateCells: function() {
        // subclasses must implement
},

// Converts a range with an inclusive `start` and an exclusive `end` into an array of segment objects
rangeToSegs: function(range) {
        // subclasses must implement
},

/* Cells
------------------------------------------------------------------------------------------------------------------*/
// NOTE: columns are ordered left-to-right

// Gets an object containing row/col number, misc data, and range information about the cell.
// Accepts row/col values, an object with row/col properties, or a single-number offset from the first cell.
getCell: function(row, col) {
        var cell;

        if (col == null) {
                if (typeof row === &#39;number&#39;) { // a single-number offset
                        col = row % this.colCnt;
                        row = Math.floor(row / this.colCnt);
                }
                else { // an object with row/col properties
                        col = row.col;
                        row = row.row;
                }
        }

        cell = { row: row, col: col };

        $.extend(cell, this.getRowData(row), this.getColData(col));
        $.extend(cell, this.computeCellRange(cell));

        return cell;
},

// Given a cell object with index and misc data, generates a range object
computeCellRange: function(cell) {
        // subclasses must implement
},

// Retrieves misc data about the given row
getRowData: function(row) {
        return this.rowData[row] || {};
},

// Retrieves misc data baout the given column
getColData: function(col) {
        return this.colData[col] || {};
},

// Retrieves the element representing the given row
getRowEl: function(row) {
        // subclasses should implement if leveraging the default getCellDayEl() or computeRowCoords()
},

// Retrieves the element representing the given column
getColEl: function(col) {
        // subclasses should implement if leveraging the default getCellDayEl() or computeColCoords()
},

// Given a cell object, returns the element that represents the cell&#39;s whole-day
getCellDayEl: function(cell) {
        return this.getColEl(cell.col) || this.getRowEl(cell.row);
},

/* Cell Coordinates
------------------------------------------------------------------------------------------------------------------*/

// Computes the top/bottom coordinates of all rows.
// By default, queries the dimensions of the element provided by getRowEl().
computeRowCoords: function() {
        var items = [];
        var i, el;
        var item;

        for (i = 0; i &lt; this.rowCnt; i++) {
                el = this.getRowEl(i);
                item = {
                        top: el.offset().top
                };
                if (i &gt; 0) {
                        items[i - 1].bottom = item.top;
                }
                items.push(item);
        }
        item.bottom = item.top + el.outerHeight();

        return items;
},

// Computes the left/right coordinates of all rows.
// By default, queries the dimensions of the element provided by getColEl().
computeColCoords: function() {
        var items = [];
        var i, el;
        var item;

        for (i = 0; i &lt; this.colCnt; i++) {
                el = this.getColEl(i);
                item = {
                        left: el.offset().left
                };
                if (i &gt; 0) {
                        items[i - 1].right = item.left;
                }
                items.push(item);
        }
        item.right = item.left + el.outerWidth();

        return items;
},

/* Handlers
------------------------------------------------------------------------------------------------------------------*/

// Attaches handlers to DOM
bindHandlers: function() {
        var _this = this;

        // attach a handler to the grid&#39;s root element.
        // we don&#39;t need to clean up in unbindHandlers or destroy, because when jQuery removes the element from the
        // DOM it automatically unregisters the handlers.
        this.el.on(&#39;mousedown&#39;, function(ev) {
                if (
                        !$(ev.target).is(&#39;.fc-event-container *, .fc-more&#39;) &amp;&amp; // not an an event element, or &quot;more..&quot; link
                        !$(ev.target).closest(&#39;.fc-popover&#39;).length // not on a popover (like the &quot;more..&quot; events one)
                ) {
                        _this.dayMousedown(ev);
                }
        });

        // attach event-element-related handlers. in Grid.events
        // same garbage collection note as above.
        this.bindSegHandlers();

        $(document).on(&#39;dragstart&#39;, this.documentDragStartProxy); // jqui drag
},

// Unattaches handlers from the DOM
unbindHandlers: function() {
        $(document).off(&#39;dragstart&#39;, this.documentDragStartProxy); // jqui drag
},

// Process a mousedown on an element that represents a day. For day clicking and selecting.
dayMousedown: function(ev) {
        var _this = this;
        var view = this.view;
        var isSelectable = view.opt(&#39;selectable&#39;);
        var dayClickCell; // null if invalid dayClick
        var selectionRange; // null if invalid selection

        // this listener tracks a mousedown on a day element, and a subsequent drag.
        // if the drag ends on the same day, it is a &#39;dayClick&#39;.
        // if &#39;selectable&#39; is enabled, this listener also detects selections.
        var dragListener = new DragListener(this.coordMap, {
                //distance: 5, // needs more work if we want dayClick to fire correctly
                scroll: view.opt(&#39;dragScroll&#39;),
                dragStart: function() {
                        view.unselect(); // since we could be rendering a new selection, we want to clear any old one
                },
                cellOver: function(cell, isOrig) {
                        var origCell = dragListener.origCell;
                        if (origCell) { // click needs to have started on a cell
                                dayClickCell = isOrig ? cell : null; // single-cell selection is a day click
                                if (isSelectable) {
                                        selectionRange = _this.computeSelection(origCell, cell);
                                        if (selectionRange) {
                                                _this.renderSelection(selectionRange);
                                        }
                                        else {
                                                disableCursor();
                                        }
                                }
                        }
                },
                cellOut: function(cell) {
                        dayClickCell = null;
                        selectionRange = null;
                        _this.destroySelection();
                        enableCursor();
                },
                listenStop: function(ev) {
                        if (dayClickCell) {
                                view.trigger(&#39;dayClick&#39;, _this.getCellDayEl(dayClickCell), dayClickCell.start, ev);
                        }
                        if (selectionRange) {
                                // the selection will already have been rendered. just report it
                                view.reportSelection(selectionRange, ev);
                        }
                        enableCursor();
                }
        });

        dragListener.mousedown(ev); // start listening, which will eventually initiate a dragStart
},

/* Event Helper
------------------------------------------------------------------------------------------------------------------*/
// TODO: should probably move this to Grid.events, like we did event dragging / resizing

// Renders a mock event over the given range.
// The range&#39;s end can be null, in which case the mock event that is rendered will have a null end time.
// `sourceSeg` is the internal segment object involved in the drag. If null, something external is dragging.
renderRangeHelper: function(range, sourceSeg) {
        var fakeEvent;

        fakeEvent = sourceSeg ? createObject(sourceSeg.event) : {}; // mask the original event object if possible
        fakeEvent.start = range.start.clone();
        fakeEvent.end = range.end ? range.end.clone() : null;
        fakeEvent.allDay = null; // force it to be freshly computed by normalizeEventDateProps
        this.view.calendar.normalizeEventDateProps(fakeEvent);

        // this extra className will be useful for differentiating real events from mock events in CSS
        fakeEvent.className = (fakeEvent.className || []).concat(&#39;fc-helper&#39;);

        // if something external is being dragged in, don&#39;t render a resizer
        if (!sourceSeg) {
                fakeEvent.editable = false;
        }

        this.renderHelper(fakeEvent, sourceSeg); // do the actual rendering
},

// Renders a mock event
renderHelper: function(event, sourceSeg) {
        // subclasses must implement
},

// Unrenders a mock event
destroyHelper: function() {
        // subclasses must implement
},

/* Selection
------------------------------------------------------------------------------------------------------------------*/

// Renders a visual indication of a selection. Will highlight by default but can be overridden by subclasses.
renderSelection: function(range) {
        this.renderHighlight(range);
},

// Unrenders any visual indications of a selection. Will unrender a highlight by default.
destroySelection: function() {
        this.destroyHighlight();
},

// Given the first and last cells of a selection, returns a range object.
// Will return something falsy if the selection is invalid (when outside of selectionConstraint for example).
// Subclasses can override and provide additional data in the range object. Will be passed to renderSelection().
computeSelection: function(firstCell, lastCell) {
        var dates = [
                firstCell.start,
                firstCell.end,
                lastCell.start,
                lastCell.end
        ];
        var range;

        dates.sort(compareNumbers); // sorts chronologically. works with Moments

        range = {
                start: dates[0].clone(),
                end: dates[3].clone()
        };

        if (!this.view.calendar.isSelectionRangeAllowed(range)) {
                return null;
        }

        return range;
},

/* Highlight
------------------------------------------------------------------------------------------------------------------*/

// Renders an emphasis on the given date range. `start` is inclusive. `end` is exclusive.
renderHighlight: function(range) {
        this.renderFill(&#39;highlight&#39;, this.rangeToSegs(range));
},

// Unrenders the emphasis on a date range
destroyHighlight: function() {
        this.destroyFill(&#39;highlight&#39;);
},

// Generates an array of classNames for rendering the highlight. Used by the fill system.
highlightSegClasses: function() {
        return [ &#39;fc-highlight&#39; ];
},

/* Fill System (highlight, background events, business hours)
------------------------------------------------------------------------------------------------------------------*/

// Renders a set of rectangles over the given segments of time.
// Returns a subset of segs, the segs that were actually rendered.
// Responsible for populating this.elsByFill. TODO: better API for expressing this requirement
renderFill: function(type, segs) {
        // subclasses must implement
},

// Unrenders a specific type of fill that is currently rendered on the grid
destroyFill: function(type) {
        var el = this.elsByFill[type];

        if (el) {
                el.remove();
                delete this.elsByFill[type];
        }
},

// Renders and assigns an `el` property for each fill segment. Generic enough to work with different types.
// Only returns segments that successfully rendered.
// To be harnessed by renderFill (implemented by subclasses).
// Analagous to renderFgSegEls.
renderFillSegEls: function(type, segs) {
        var _this = this;
        var segElMethod = this[type + &#39;SegEl&#39;];
        var html = &#39;&#39;;
        var renderedSegs = [];
        var i;

        if (segs.length) {

                // build a large concatenation of segment HTML
                for (i = 0; i &lt; segs.length; i++) {
                        html += this.fillSegHtml(type, segs[i]);
                }

                // Grab individual elements from the combined HTML string. Use each as the default rendering.
                // Then, compute the &#39;el&#39; for each segment.
                $(html).each(function(i, node) {
                        var seg = segs[i];
                        var el = $(node);

                        // allow custom filter methods per-type
                        if (segElMethod) {
                                el = segElMethod.call(_this, seg, el);
                        }

                        if (el) { // custom filters did not cancel the render
                                el = $(el); // allow custom filter to return raw DOM node

                                // correct element type? (would be bad if a non-TD were inserted into a table for example)
                                if (el.is(_this.fillSegTag)) {
                                        seg.el = el;
                                        renderedSegs.push(seg);
                                }
                        }
                });
        }

        return renderedSegs;
},

fillSegTag: &#39;div&#39;, // subclasses can override

// Builds the HTML needed for one fill segment. Generic enought o work with different types.
fillSegHtml: function(type, seg) {
        var classesMethod = this[type + &#39;SegClasses&#39;]; // custom hooks per-type
        var stylesMethod = this[type + &#39;SegStyles&#39;]; //
        var classes = classesMethod ? classesMethod.call(this, seg) : [];
        var styles = stylesMethod ? stylesMethod.call(this, seg) : &#39;&#39;; // a semi-colon separated CSS property string

        return &#39;&lt;&#39; + this.fillSegTag +
                (classes.length ? &#39; class=&quot;&#39; + classes.join(&#39; &#39;) + &#39;&quot;&#39; : &#39;&#39;) +
                (styles ? &#39; style=&quot;&#39; + styles + &#39;&quot;&#39; : &#39;&#39;) +
                &#39; /&gt;&#39;;
},

/* Generic rendering utilities for subclasses
------------------------------------------------------------------------------------------------------------------*/

// Renders a day-of-week header row.
// TODO: move to another class. not applicable to all Grids
headHtml: function() {
        return &#39;&#39; +
                &#39;&lt;div class=&quot;fc-row &#39; + this.view.widgetHeaderClass + &#39;&quot;&gt;&#39; +
                        &#39;&lt;table&gt;&#39; +
                                &#39;&lt;thead&gt;&#39; +
                                        this.rowHtml(&#39;head&#39;) + // leverages RowRenderer
                                &#39;&lt;/thead&gt;&#39; +
                        &#39;&lt;/table&gt;&#39; +
                &#39;&lt;/div&gt;&#39;;
},

// Used by the `headHtml` method, via RowRenderer, for rendering the HTML of a day-of-week header cell
// TODO: move to another class. not applicable to all Grids
headCellHtml: function(cell) {
        var view = this.view;
        var date = cell.start;

        return &#39;&#39; +
                &#39;&lt;th class=&quot;fc-day-header &#39; + view.widgetHeaderClass + &#39; fc-&#39; + dayIDs[date.day()] + &#39;&quot;&gt;&#39; +
                        htmlEscape(date.format(this.colHeadFormat)) +
                &#39;&lt;/th&gt;&#39;;
},

// Renders the HTML for a single-day background cell
bgCellHtml: function(cell) {
        var view = this.view;
        var date = cell.start;
        var classes = this.getDayClasses(date);

        classes.unshift(&#39;fc-day&#39;, view.widgetContentClass);

        return &#39;&lt;td class=&quot;&#39; + classes.join(&#39; &#39;) + &#39;&quot;&#39; +
                &#39; data-date=&quot;&#39; + date.format(&#39;YYYY-MM-DD&#39;) + &#39;&quot;&#39; + // if date has a time, won&#39;t format it
                &#39;&gt;&lt;/td&gt;&#39;;
},

// Computes HTML classNames for a single-day cell
getDayClasses: function(date) {
        var view = this.view;
        var today = view.calendar.getNow().stripTime();
        var classes = [ &#39;fc-&#39; + dayIDs[date.day()] ];

        if (
                view.name === &#39;month&#39; &amp;&amp;
                date.month() != view.intervalStart.month()
        ) {
                classes.push(&#39;fc-other-month&#39;);
        }

        if (date.isSame(today, &#39;day&#39;)) {
                classes.push(
                        &#39;fc-today&#39;,
                        view.highlightStateClass
                );
        }
        else if (date &lt; today) {
                classes.push(&#39;fc-past&#39;);
        }
        else {
                classes.push(&#39;fc-future&#39;);
        }

        return classes;
}</pre>

<p>});</p>

<pre>/* Event-rendering and event-interaction methods for the abstract Grid class</pre>

<p>———————————————————————————————————————-*/</p>

<p>Grid.mixin({</p>

<pre>mousedOverSeg: null, // the segment object the user&#39;s mouse is over. null if over nothing
isDraggingSeg: false, // is a segment being dragged? boolean
isResizingSeg: false, // is a segment being resized? boolean
segs: null, // the event segments currently rendered in the grid

// Renders the given events onto the grid
renderEvents: function(events) {
        var segs = this.eventsToSegs(events);
        var bgSegs = [];
        var fgSegs = [];
        var i, seg;

        for (i = 0; i &lt; segs.length; i++) {
                seg = segs[i];

                if (isBgEvent(seg.event)) {
                        bgSegs.push(seg);
                }
                else {
                        fgSegs.push(seg);
                }
        }

        // Render each different type of segment.
        // Each function may return a subset of the segs, segs that were actually rendered.
        bgSegs = this.renderBgSegs(bgSegs) || bgSegs;
        fgSegs = this.renderFgSegs(fgSegs) || fgSegs;

        this.segs = bgSegs.concat(fgSegs);
},

// Unrenders all events currently rendered on the grid
destroyEvents: function() {
        this.triggerSegMouseout(); // trigger an eventMouseout if user&#39;s mouse is over an event

        this.destroyFgSegs();
        this.destroyBgSegs();

        this.segs = null;
},

// Retrieves all rendered segment objects currently rendered on the grid
getEventSegs: function() {
        return this.segs || [];
},

/* Foreground Segment Rendering
------------------------------------------------------------------------------------------------------------------*/

// Renders foreground event segments onto the grid. May return a subset of segs that were rendered.
renderFgSegs: function(segs) {
        // subclasses must implement
},

// Unrenders all currently rendered foreground segments
destroyFgSegs: function() {
        // subclasses must implement
},

// Renders and assigns an `el` property for each foreground event segment.
// Only returns segments that successfully rendered.
// A utility that subclasses may use.
renderFgSegEls: function(segs, disableResizing) {
        var view = this.view;
        var html = &#39;&#39;;
        var renderedSegs = [];
        var i;

        if (segs.length) { // don&#39;t build an empty html string

                // build a large concatenation of event segment HTML
                for (i = 0; i &lt; segs.length; i++) {
                        html += this.fgSegHtml(segs[i], disableResizing);
                }

                // Grab individual elements from the combined HTML string. Use each as the default rendering.
                // Then, compute the &#39;el&#39; for each segment. An el might be null if the eventRender callback returned false.
                $(html).each(function(i, node) {
                        var seg = segs[i];
                        var el = view.resolveEventEl(seg.event, $(node));

                        if (el) {
                                el.data(&#39;fc-seg&#39;, seg); // used by handlers
                                seg.el = el;
                                renderedSegs.push(seg);
                        }
                });
        }

        return renderedSegs;
},

// Generates the HTML for the default rendering of a foreground event segment. Used by renderFgSegEls()
fgSegHtml: function(seg, disableResizing) {
        // subclasses should implement
},

/* Background Segment Rendering
------------------------------------------------------------------------------------------------------------------*/

// Renders the given background event segments onto the grid.
// Returns a subset of the segs that were actually rendered.
renderBgSegs: function(segs) {
        return this.renderFill(&#39;bgEvent&#39;, segs);
},

// Unrenders all the currently rendered background event segments
destroyBgSegs: function() {
        this.destroyFill(&#39;bgEvent&#39;);
},

// Renders a background event element, given the default rendering. Called by the fill system.
bgEventSegEl: function(seg, el) {
        return this.view.resolveEventEl(seg.event, el); // will filter through eventRender
},

// Generates an array of classNames to be used for the default rendering of a background event.
// Called by the fill system.
bgEventSegClasses: function(seg) {
        var event = seg.event;
        var source = event.source || {};

        return [ &#39;fc-bgevent&#39; ].concat(
                event.className,
                source.className || []
        );
},

// Generates a semicolon-separated CSS string to be used for the default rendering of a background event.
// Called by the fill system.
// TODO: consolidate with getEventSkinCss?
bgEventSegStyles: function(seg) {
        var view = this.view;
        var event = seg.event;
        var source = event.source || {};
        var eventColor = event.color;
        var sourceColor = source.color;
        var optionColor = view.opt(&#39;eventColor&#39;);
        var backgroundColor =
                event.backgroundColor ||
                eventColor ||
                source.backgroundColor ||
                sourceColor ||
                view.opt(&#39;eventBackgroundColor&#39;) ||
                optionColor;

        if (backgroundColor) {
                return &#39;background-color:&#39; + backgroundColor;
        }

        return &#39;&#39;;
},

// Generates an array of classNames to be used for the rendering business hours overlay. Called by the fill system.
businessHoursSegClasses: function(seg) {
        return [ &#39;fc-nonbusiness&#39;, &#39;fc-bgevent&#39; ];
},

/* Handlers
------------------------------------------------------------------------------------------------------------------*/

// Attaches event-element-related handlers to the container element and leverage bubbling
bindSegHandlers: function() {
        var _this = this;
        var view = this.view;

        $.each(
                {
                        mouseenter: function(seg, ev) {
                                _this.triggerSegMouseover(seg, ev);
                        },
                        mouseleave: function(seg, ev) {
                                _this.triggerSegMouseout(seg, ev);
                        },
                        click: function(seg, ev) {
                                return view.trigger(&#39;eventClick&#39;, this, seg.event, ev); // can return `false` to cancel
                        },
                        mousedown: function(seg, ev) {
                                if ($(ev.target).is(&#39;.fc-resizer&#39;) &amp;&amp; view.isEventResizable(seg.event)) {
                                        _this.segResizeMousedown(seg, ev);
                                }
                                else if (view.isEventDraggable(seg.event)) {
                                        _this.segDragMousedown(seg, ev);
                                }
                        }
                },
                function(name, func) {
                        // attach the handler to the container element and only listen for real event elements via bubbling
                        _this.el.on(name, &#39;.fc-event-container &gt; *&#39;, function(ev) {
                                var seg = $(this).data(&#39;fc-seg&#39;); // grab segment data. put there by View::renderEvents

                                // only call the handlers if there is not a drag/resize in progress
                                if (seg &amp;&amp; !_this.isDraggingSeg &amp;&amp; !_this.isResizingSeg) {
                                        return func.call(this, seg, ev); // `this` will be the event element
                                }
                        });
                }
        );
},

// Updates internal state and triggers handlers for when an event element is moused over
triggerSegMouseover: function(seg, ev) {
        if (!this.mousedOverSeg) {
                this.mousedOverSeg = seg;
                this.view.trigger(&#39;eventMouseover&#39;, seg.el[0], seg.event, ev);
        }
},

// Updates internal state and triggers handlers for when an event element is moused out.
// Can be given no arguments, in which case it will mouseout the segment that was previously moused over.
triggerSegMouseout: function(seg, ev) {
        ev = ev || {}; // if given no args, make a mock mouse event

        if (this.mousedOverSeg) {
                seg = seg || this.mousedOverSeg; // if given no args, use the currently moused-over segment
                this.mousedOverSeg = null;
                this.view.trigger(&#39;eventMouseout&#39;, seg.el[0], seg.event, ev);
        }
},

/* Event Dragging
------------------------------------------------------------------------------------------------------------------*/

// Called when the user does a mousedown on an event, which might lead to dragging.
// Generic enough to work with any type of Grid.
segDragMousedown: function(seg, ev) {
        var _this = this;
        var view = this.view;
        var el = seg.el;
        var event = seg.event;
        var dropLocation;

        // A clone of the original element that will move with the mouse
        var mouseFollower = new MouseFollower(seg.el, {
                parentEl: view.el,
                opacity: view.opt(&#39;dragOpacity&#39;),
                revertDuration: view.opt(&#39;dragRevertDuration&#39;),
                zIndex: 2 // one above the .fc-view
        });

        // Tracks mouse movement over the *view&#39;s* coordinate map. Allows dragging and dropping between subcomponents
        // of the view.
        var dragListener = new DragListener(view.coordMap, {
                distance: 5,
                scroll: view.opt(&#39;dragScroll&#39;),
                listenStart: function(ev) {
                        mouseFollower.hide(); // don&#39;t show until we know this is a real drag
                        mouseFollower.start(ev);
                },
                dragStart: function(ev) {
                        _this.triggerSegMouseout(seg, ev); // ensure a mouseout on the manipulated event has been reported
                        _this.isDraggingSeg = true;
                        view.hideEvent(event); // hide all event segments. our mouseFollower will take over
                        view.trigger(&#39;eventDragStart&#39;, el[0], event, ev, {}); // last argument is jqui dummy
                },
                cellOver: function(cell, isOrig) {
                        var origCell = seg.cell || dragListener.origCell; // starting cell could be forced (DayGrid.limit)

                        dropLocation = _this.computeEventDrop(origCell, cell, event);
                        if (dropLocation) {
                                if (view.renderDrag(dropLocation, seg)) { // have the subclass render a visual indication
                                        mouseFollower.hide(); // if the subclass is already using a mock event &quot;helper&quot;, hide our own
                                }
                                else {
                                        mouseFollower.show();
                                }
                                if (isOrig) {
                                        dropLocation = null; // needs to have moved cells to be a valid drop
                                }
                        }
                        else {
                                // have the helper follow the mouse (no snapping) with a warning-style cursor
                                mouseFollower.show();
                                disableCursor();
                        }
                },
                cellOut: function() { // called before mouse moves to a different cell OR moved out of all cells
                        dropLocation = null;
                        view.destroyDrag(); // unrender whatever was done in renderDrag
                        mouseFollower.show(); // show in case we are moving out of all cells
                        enableCursor();
                },
                dragStop: function(ev) {
                        // do revert animation if hasn&#39;t changed. calls a callback when finished (whether animation or not)
                        mouseFollower.stop(!dropLocation, function() {
                                _this.isDraggingSeg = false;
                                view.destroyDrag();
                                view.showEvent(event);
                                view.trigger(&#39;eventDragStop&#39;, el[0], event, ev, {}); // last argument is jqui dummy

                                if (dropLocation) {
                                        view.reportEventDrop(event, dropLocation, el, ev);
                                }
                        });
                        enableCursor();
                },
                listenStop: function() {
                        mouseFollower.stop(); // put in listenStop in case there was a mousedown but the drag never started
                }
        });

        dragListener.mousedown(ev); // start listening, which will eventually lead to a dragStart
},

// Given the cell an event drag began, and the cell event was dropped, calculates the new start/end/allDay
// values for the event. Subclasses may override and set additional properties to be used by renderDrag.
// A falsy returned value indicates an invalid drop.
computeEventDrop: function(startCell, endCell, event) {
        var dragStart = startCell.start;
        var dragEnd = endCell.start;
        var delta;
        var newStart;
        var newEnd;
        var newAllDay;
        var dropLocation;

        if (dragStart.hasTime() === dragEnd.hasTime()) {
                delta = diffDayTime(dragEnd, dragStart);
                newStart = event.start.clone().add(delta);
                if (event.end === null) { // do we need to compute an end?
                        newEnd = null;
                }
                else {
                        newEnd = event.end.clone().add(delta);
                }
                newAllDay = event.allDay; // keep it the same
        }
        else {
                // if switching from day &lt;-&gt; timed, start should be reset to the dropped date, and the end cleared
                newStart = dragEnd.clone();
                newEnd = null; // end should be cleared
                newAllDay = !dragEnd.hasTime();
        }

        dropLocation = {
                start: newStart,
                end: newEnd,
                allDay: newAllDay
        };

        if (!this.view.calendar.isEventRangeAllowed(dropLocation, event)) {
                return null;
        }

        return dropLocation;
},

/* External Element Dragging
------------------------------------------------------------------------------------------------------------------*/

// Called when a jQuery UI drag is initiated anywhere in the DOM
documentDragStart: function(ev, ui) {
        var view = this.view;
        var el;
        var accept;

        if (view.opt(&#39;droppable&#39;)) { // only listen if this setting is on
                el = $(ev.target);

                // Test that the dragged element passes the dropAccept selector or filter function.
                // FYI, the default is &quot;*&quot; (matches all)
                accept = view.opt(&#39;dropAccept&#39;);
                if ($.isFunction(accept) ? accept.call(el[0], el) : el.is(accept)) {

                        this.startExternalDrag(el, ev, ui);
                }
        }
},

// Called when a jQuery UI drag starts and it needs to be monitored for cell dropping
startExternalDrag: function(el, ev, ui) {
        var _this = this;
        var meta = getDraggedElMeta(el); // extra data about event drop, including possible event to create
        var dragListener;
        var dropLocation; // a null value signals an unsuccessful drag

        // listener that tracks mouse movement over date-associated pixel regions
        dragListener = new DragListener(this.coordMap, {
                cellOver: function(cell) {
                        dropLocation = _this.computeExternalDrop(cell, meta);
                        if (dropLocation) {
                                _this.renderDrag(dropLocation); // called without a seg parameter
                        }
                        else { // invalid drop cell
                                disableCursor();
                        }
                },
                cellOut: function() {
                        dropLocation = null; // signal unsuccessful
                        _this.destroyDrag();
                        enableCursor();
                }
        });

        // gets called, only once, when jqui drag is finished
        $(document).one(&#39;dragstop&#39;, function(ev, ui) {
                _this.destroyDrag();
                enableCursor();

                if (dropLocation) { // element was dropped on a valid date/time cell
                        _this.view.reportExternalDrop(meta, dropLocation, el, ev, ui);
                }
        });

        dragListener.startDrag(ev); // start listening immediately
},

// Given a cell to be dropped upon, and misc data associated with the jqui drag (guaranteed to be a plain object),
// returns start/end dates for the event that would result from the hypothetical drop. end might be null.
// Returning a null value signals an invalid drop cell.
computeExternalDrop: function(cell, meta) {
        var dropLocation = {
                start: cell.start.clone(),
                end: null
        };

        // if dropped on an all-day cell, and element&#39;s metadata specified a time, set it
        if (meta.startTime &amp;&amp; !dropLocation.start.hasTime()) {
                dropLocation.start.time(meta.startTime);
        }

        if (meta.duration) {
                dropLocation.end = dropLocation.start.clone().add(meta.duration);
        }

        if (!this.view.calendar.isExternalDropRangeAllowed(dropLocation, meta.eventProps)) {
                return null;
        }

        return dropLocation;
},

/* Drag Rendering (for both events and an external elements)
------------------------------------------------------------------------------------------------------------------*/

// Renders a visual indication of an event or external element being dragged.
// `dropLocation` contains hypothetical start/end/allDay values the event would have if dropped. end can be null.
// `seg` is the internal segment object that is being dragged. If dragging an external element, `seg` is null.
// A truthy returned value indicates this method has rendered a helper element.
renderDrag: function(dropLocation, seg) {
        // subclasses must implement
},

// Unrenders a visual indication of an event or external element being dragged
destroyDrag: function() {
        // subclasses must implement
},

/* Resizing
------------------------------------------------------------------------------------------------------------------*/

// Called when the user does a mousedown on an event&#39;s resizer, which might lead to resizing.
// Generic enough to work with any type of Grid.
segResizeMousedown: function(seg, ev) {
        var _this = this;
        var view = this.view;
        var calendar = view.calendar;
        var el = seg.el;
        var event = seg.event;
        var start = event.start;
        var oldEnd = calendar.getEventEnd(event);
        var newEnd; // falsy if invalid resize
        var dragListener;

        function destroy() { // resets the rendering to show the original event
                _this.destroyEventResize();
                view.showEvent(event);
                enableCursor();
        }

        // Tracks mouse movement over the *grid&#39;s* coordinate map
        dragListener = new DragListener(this.coordMap, {
                distance: 5,
                scroll: view.opt(&#39;dragScroll&#39;),
                dragStart: function(ev) {
                        _this.triggerSegMouseout(seg, ev); // ensure a mouseout on the manipulated event has been reported
                        _this.isResizingSeg = true;
                        view.trigger(&#39;eventResizeStart&#39;, el[0], event, ev, {}); // last argument is jqui dummy
                },
                cellOver: function(cell) {
                        newEnd = cell.end;

                        if (!newEnd.isAfter(start)) { // was end moved before start?
                                newEnd = start.clone().add( // make the event span a single slot
                                        diffDayTime(cell.end, cell.start) // assumes all slot durations are the same
                                );
                        }

                        if (newEnd.isSame(oldEnd)) {
                                newEnd = null;
                        }
                        else if (!calendar.isEventRangeAllowed({ start: start, end: newEnd }, event)) {
                                newEnd = null;
                                disableCursor();
                        }
                        else {
                                _this.renderEventResize({ start: start, end: newEnd }, seg);
                                view.hideEvent(event);
                        }
                },
                cellOut: function() { // called before mouse moves to a different cell OR moved out of all cells
                        newEnd = null;
                        destroy();
                },
                dragStop: function(ev) {
                        _this.isResizingSeg = false;
                        destroy();
                        view.trigger(&#39;eventResizeStop&#39;, el[0], event, ev, {}); // last argument is jqui dummy

                        if (newEnd) { // valid date to resize to?
                                view.reportEventResize(event, newEnd, el, ev);
                        }
                }
        });

        dragListener.mousedown(ev); // start listening, which will eventually lead to a dragStart
},

// Renders a visual indication of an event being resized.
// `range` has the updated dates of the event. `seg` is the original segment object involved in the drag.
renderEventResize: function(range, seg) {
        // subclasses must implement
},

// Unrenders a visual indication of an event being resized.
destroyEventResize: function() {
        // subclasses must implement
},

/* Rendering Utils
------------------------------------------------------------------------------------------------------------------*/

// Compute the text that should be displayed on an event&#39;s element.
// `range` can be the Event object itself, or something range-like, with at least a `start`.
// The `timeFormat` options and the grid&#39;s default format is used, but `formatStr` can override.
getEventTimeText: function(range, formatStr) {

        formatStr = formatStr || this.eventTimeFormat;

        if (range.end &amp;&amp; this.displayEventEnd) {
                return this.view.formatRange(range, formatStr);
        }
        else {
                return range.start.format(formatStr);
        }
},

// Generic utility for generating the HTML classNames for an event segment&#39;s element
getSegClasses: function(seg, isDraggable, isResizable) {
        var event = seg.event;
        var classes = [
                &#39;fc-event&#39;,
                seg.isStart ? &#39;fc-start&#39; : &#39;fc-not-start&#39;,
                seg.isEnd ? &#39;fc-end&#39; : &#39;fc-not-end&#39;
        ].concat(
                event.className,
                event.source ? event.source.className : []
        );

        if (isDraggable) {
                classes.push(&#39;fc-draggable&#39;);
        }
        if (isResizable) {
                classes.push(&#39;fc-resizable&#39;);
        }

        return classes;
},

// Utility for generating a CSS string with all the event skin-related properties
getEventSkinCss: function(event) {
        var view = this.view;
        var source = event.source || {};
        var eventColor = event.color;
        var sourceColor = source.color;
        var optionColor = view.opt(&#39;eventColor&#39;);
        var backgroundColor =
                event.backgroundColor ||
                eventColor ||
                source.backgroundColor ||
                sourceColor ||
                view.opt(&#39;eventBackgroundColor&#39;) ||
                optionColor;
        var borderColor =
                event.borderColor ||
                eventColor ||
                source.borderColor ||
                sourceColor ||
                view.opt(&#39;eventBorderColor&#39;) ||
                optionColor;
        var textColor =
                event.textColor ||
                source.textColor ||
                view.opt(&#39;eventTextColor&#39;);
        var statements = [];
        if (backgroundColor) {
                statements.push(&#39;background-color:&#39; + backgroundColor);
        }
        if (borderColor) {
                statements.push(&#39;border-color:&#39; + borderColor);
        }
        if (textColor) {
                statements.push(&#39;color:&#39; + textColor);
        }
        return statements.join(&#39;;&#39;);
},

/* Converting events -&gt; ranges -&gt; segs
------------------------------------------------------------------------------------------------------------------*/

// Converts an array of event objects into an array of event segment objects.
// A custom `rangeToSegsFunc` may be given for arbitrarily slicing up events.
eventsToSegs: function(events, rangeToSegsFunc) {
        var eventRanges = this.eventsToRanges(events);
        var segs = [];
        var i;

        for (i = 0; i &lt; eventRanges.length; i++) {
                segs.push.apply(
                        segs,
                        this.eventRangeToSegs(eventRanges[i], rangeToSegsFunc)
                );
        }

        return segs;
},

// Converts an array of events into an array of &quot;range&quot; objects.
// A &quot;range&quot; object is a plain object with start/end properties denoting the time it covers. Also an event property.
// For &quot;normal&quot; events, this will be identical to the event&#39;s start/end, but for &quot;inverse-background&quot; events,
// will create an array of ranges that span the time *not* covered by the given event.
eventsToRanges: function(events) {
        var _this = this;
        var eventsById = groupEventsById(events);
        var ranges = [];

        // group by ID so that related inverse-background events can be rendered together
        $.each(eventsById, function(id, eventGroup) {
                if (eventGroup.length) {
                        ranges.push.apply(
                                ranges,
                                isInverseBgEvent(eventGroup[0]) ?
                                        _this.eventsToInverseRanges(eventGroup) :
                                        _this.eventsToNormalRanges(eventGroup)
                        );
                }
        });

        return ranges;
},

// Converts an array of &quot;normal&quot; events (not inverted rendering) into a parallel array of ranges
eventsToNormalRanges: function(events) {
        var calendar = this.view.calendar;
        var ranges = [];
        var i, event;
        var eventStart, eventEnd;

        for (i = 0; i &lt; events.length; i++) {
                event = events[i];

                // make copies and normalize by stripping timezone
                eventStart = event.start.clone().stripZone();
                eventEnd = calendar.getEventEnd(event).stripZone();

                ranges.push({
                        event: event,
                        start: eventStart,
                        end: eventEnd,
                        eventStartMS: +eventStart,
                        eventDurationMS: eventEnd - eventStart
                });
        }

        return ranges;
},

// Converts an array of events, with inverse-background rendering, into an array of range objects.
// The range objects will cover all the time NOT covered by the events.
eventsToInverseRanges: function(events) {
        var view = this.view;
        var viewStart = view.start.clone().stripZone(); // normalize timezone
        var viewEnd = view.end.clone().stripZone(); // normalize timezone
        var normalRanges = this.eventsToNormalRanges(events); // will give us normalized dates we can use w/o copies
        var inverseRanges = [];
        var event0 = events[0]; // assign this to each range&#39;s `.event`
        var start = viewStart; // the end of the previous range. the start of the new range
        var i, normalRange;

        // ranges need to be in order. required for our date-walking algorithm
        normalRanges.sort(compareNormalRanges);

        for (i = 0; i &lt; normalRanges.length; i++) {
                normalRange = normalRanges[i];

                // add the span of time before the event (if there is any)
                if (normalRange.start &gt; start) { // compare millisecond time (skip any ambig logic)
                        inverseRanges.push({
                                event: event0,
                                start: start,
                                end: normalRange.start
                        });
                }

                start = normalRange.end;
        }

        // add the span of time after the last event (if there is any)
        if (start &lt; viewEnd) { // compare millisecond time (skip any ambig logic)
                inverseRanges.push({
                        event: event0,
                        start: start,
                        end: viewEnd
                });
        }

        return inverseRanges;
},

// Slices the given event range into one or more segment objects.
// A `rangeToSegsFunc` custom slicing function can be given.
eventRangeToSegs: function(eventRange, rangeToSegsFunc) {
        var segs;
        var i, seg;

        if (rangeToSegsFunc) {
                segs = rangeToSegsFunc(eventRange);
        }
        else {
                segs = this.rangeToSegs(eventRange); // defined by the subclass
        }

        for (i = 0; i &lt; segs.length; i++) {
                seg = segs[i];
                seg.event = eventRange.event;
                seg.eventStartMS = eventRange.eventStartMS;
                seg.eventDurationMS = eventRange.eventDurationMS;
        }

        return segs;
}</pre>

<p>});</p>

<p>/* Utilities ———————————————————————————————————————-*/</p>

<p>function isBgEvent(event) { // returns true if background OR
inverse-background</p>

<pre class="ruby"><span class="ruby-identifier">var</span> <span class="ruby-identifier">rendering</span> = <span class="ruby-identifier">getEventRendering</span>(<span class="ruby-identifier">event</span>);
<span class="ruby-keyword">return</span> <span class="ruby-identifier">rendering</span> <span class="ruby-operator">===</span> <span class="ruby-string">&#39;background&#39;</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">rendering</span> <span class="ruby-operator">===</span> <span class="ruby-string">&#39;inverse-background&#39;</span>;
</pre>

<p>}</p>

<p>function isInverseBgEvent(event) {</p>

<pre class="ruby"><span class="ruby-keyword">return</span> <span class="ruby-identifier">getEventRendering</span>(<span class="ruby-identifier">event</span>) <span class="ruby-operator">===</span> <span class="ruby-string">&#39;inverse-background&#39;</span>;
</pre>

<p>}</p>

<p>function getEventRendering(event) {</p>

<pre class="ruby"><span class="ruby-keyword">return</span> <span class="ruby-identifier">firstDefined</span>((<span class="ruby-identifier">event</span>.<span class="ruby-identifier">source</span> <span class="ruby-operator">||</span> {}).<span class="ruby-identifier">rendering</span>, <span class="ruby-identifier">event</span>.<span class="ruby-identifier">rendering</span>);
</pre>

<p>}</p>

<p>function groupEventsById(events) {</p>

<pre>var eventsById = {};
var i, event;

for (i = 0; i &lt; events.length; i++) {
        event = events[i];
        (eventsById[event._id] || (eventsById[event._id] = [])).push(event);
}

return eventsById;</pre>

<p>}</p>

<p>// A cmp function for determining which non-inverted “ranges” (see above)
happen earlier function compareNormalRanges(range1, range2) {</p>

<pre>return range1.eventStartMS - range2.eventStartMS; // earlier ranges go first</pre>

<p>}</p>

<p>// A cmp function for determining which segments should take visual
priority // DOES NOT WORK ON INVERTED BACKGROUND EVENTS because they have
no eventStartMS/eventDurationMS function compareSegs(seg1, seg2) {</p>

<pre>return seg1.eventStartMS - seg2.eventStartMS || // earlier events go first
        seg2.eventDurationMS - seg1.eventDurationMS || // tie? longer events go first
        seg2.event.allDay - seg1.event.allDay || // tie? put all-day events first (booleans cast to 0/1)
        (seg1.event.title || &#39;&#39;).localeCompare(seg2.event.title); // tie? alphabetically by title</pre>

<p>}</p>

<p>fc.compareSegs = compareSegs; // export</p>

<p>/* External-Dragging-Element Data
———————————————————————————————————————-*/</p>

<p>// Require all HTML5 data-* attributes used by FullCalendar to have this
prefix. // A value of &#39;&#39; will query attributes like data-event. A
value of &#39;fc&#39; will query attributes like data-fc-event.
fc.dataAttrPrefix = &#39;&#39;;</p>

<p>// Given a jQuery element that might represent a dragged FullCalendar
event, returns an intermediate data structure // to be used for Event <a
href="../../../Object.html">Object</a> creation. // A defined
`.eventProps`, even when empty, indicates that an event should be created.
function getDraggedElMeta(el) {</p>

<pre>var prefix = fc.dataAttrPrefix;
var eventProps; // properties for creating the event, not related to date/time
var startTime; // a Duration
var duration;
var stick;

if (prefix) { prefix += &#39;-&#39;; }
eventProps = el.data(prefix + &#39;event&#39;) || null;

if (eventProps) {
        if (typeof eventProps === &#39;object&#39;) {
                eventProps = $.extend({}, eventProps); // make a copy
        }
        else { // something like 1 or true. still signal event creation
                eventProps = {};
        }

        // pluck special-cased date/time properties
        startTime = eventProps.start;
        if (startTime == null) { startTime = eventProps.time; } // accept &#39;time&#39; as well
        duration = eventProps.duration;
        stick = eventProps.stick;
        delete eventProps.start;
        delete eventProps.time;
        delete eventProps.duration;
        delete eventProps.stick;
}

// fallback to standalone attribute values for each of the date/time properties
if (startTime == null) { startTime = el.data(prefix + &#39;start&#39;); }
if (startTime == null) { startTime = el.data(prefix + &#39;time&#39;); } // accept &#39;time&#39; as well
if (duration == null) { duration = el.data(prefix + &#39;duration&#39;); }
if (stick == null) { stick = el.data(prefix + &#39;stick&#39;); }

// massage into correct data types
startTime = startTime != null ? moment.duration(startTime) : null;
duration = duration != null ? moment.duration(duration) : null;
stick = Boolean(stick);

return { eventProps: eventProps, startTime: startTime, duration: duration, stick: stick };</pre>

<p>}</p>

<pre>/* A component that renders a grid of whole-days that runs horizontally. There can be multiple rows, one per week.</pre>

<p>———————————————————————————————————————-*/</p>

<p>var DayGrid = Grid.extend({</p>

<pre>numbersVisible: false, // should render a row for day/week numbers? set by outside view. TODO: make internal
bottomCoordPadding: 0, // hack for extending the hit area for the last row of the coordinate grid
breakOnWeeks: null, // should create a new row for each week? set by outside view

cellDates: null, // flat chronological array of each cell&#39;s dates
dayToCellOffsets: null, // maps days offsets from grid&#39;s start date, to cell offsets

rowEls: null, // set of fake row elements
dayEls: null, // set of whole-day elements comprising the row&#39;s background
helperEls: null, // set of cell skeleton elements for rendering the mock event &quot;helper&quot;

// Renders the rows and columns into the component&#39;s `this.el`, which should already be assigned.
// isRigid determins whether the individual rows should ignore the contents and be a constant height.
// Relies on the view&#39;s colCnt and rowCnt. In the future, this component should probably be self-sufficient.
render: function(isRigid) {
        var view = this.view;
        var rowCnt = this.rowCnt;
        var colCnt = this.colCnt;
        var cellCnt = rowCnt * colCnt;
        var html = &#39;&#39;;
        var row;
        var i, cell;

        for (row = 0; row &lt; rowCnt; row++) {
                html += this.dayRowHtml(row, isRigid);
        }
        this.el.html(html);

        this.rowEls = this.el.find(&#39;.fc-row&#39;);
        this.dayEls = this.el.find(&#39;.fc-day&#39;);

        // trigger dayRender with each cell&#39;s element
        for (i = 0; i &lt; cellCnt; i++) {
                cell = this.getCell(i);
                view.trigger(&#39;dayRender&#39;, null, cell.start, this.dayEls.eq(i));
        }

        Grid.prototype.render.call(this); // call the super-method
},

destroy: function() {
        this.destroySegPopover();
        Grid.prototype.destroy.call(this); // call the super-method
},

// Generates the HTML for a single row. `row` is the row number.
dayRowHtml: function(row, isRigid) {
        var view = this.view;
        var classes = [ &#39;fc-row&#39;, &#39;fc-week&#39;, view.widgetContentClass ];

        if (isRigid) {
                classes.push(&#39;fc-rigid&#39;);
        }

        return &#39;&#39; +
                &#39;&lt;div class=&quot;&#39; + classes.join(&#39; &#39;) + &#39;&quot;&gt;&#39; +
                        &#39;&lt;div class=&quot;fc-bg&quot;&gt;&#39; +
                                &#39;&lt;table&gt;&#39; +
                                        this.rowHtml(&#39;day&#39;, row) + // leverages RowRenderer. calls dayCellHtml()
                                &#39;&lt;/table&gt;&#39; +
                        &#39;&lt;/div&gt;&#39; +
                        &#39;&lt;div class=&quot;fc-content-skeleton&quot;&gt;&#39; +
                                &#39;&lt;table&gt;&#39; +
                                        (this.numbersVisible ?
                                                &#39;&lt;thead&gt;&#39; +
                                                        this.rowHtml(&#39;number&#39;, row) + // leverages RowRenderer. View will define render method
                                                &#39;&lt;/thead&gt;&#39; :
                                                &#39;&#39;
                                                ) +
                                &#39;&lt;/table&gt;&#39; +
                        &#39;&lt;/div&gt;&#39; +
                &#39;&lt;/div&gt;&#39;;
},

// Renders the HTML for a whole-day cell. Will eventually end up in the day-row&#39;s background.
// We go through a &#39;day&#39; row type instead of just doing a &#39;bg&#39; row type so that the View can do custom rendering
// specifically for whole-day rows, whereas a &#39;bg&#39; might also be used for other purposes (TimeGrid bg for example).
dayCellHtml: function(cell) {
        return this.bgCellHtml(cell);
},

/* Options
------------------------------------------------------------------------------------------------------------------*/

// Computes a default column header formatting string if `colFormat` is not explicitly defined
computeColHeadFormat: function() {
        if (this.rowCnt &gt; 1) { // more than one week row. day numbers will be in each cell
                return &#39;ddd&#39;; // &quot;Sat&quot;
        }
        else if (this.colCnt &gt; 1) { // multiple days, so full single date string WON&#39;T be in title text
                return this.view.opt(&#39;dayOfMonthFormat&#39;); // &quot;Sat 12/10&quot;
        }
        else { // single day, so full single date string will probably be in title text
                return &#39;dddd&#39;; // &quot;Saturday&quot;
        }
},

// Computes a default event time formatting string if `timeFormat` is not explicitly defined
computeEventTimeFormat: function() {
        return this.view.opt(&#39;extraSmallTimeFormat&#39;); // like &quot;6p&quot; or &quot;6:30p&quot;
},

// Computes a default `displayEventEnd` value if one is not expliclty defined
computeDisplayEventEnd: function() {
        return this.colCnt == 1; // we&#39;ll likely have space if there&#39;s only one day
},

/* Cell System
------------------------------------------------------------------------------------------------------------------*/

// Initializes row/col information
updateCells: function() {
        var cellDates;
        var firstDay;
        var rowCnt;
        var colCnt;

        this.updateCellDates(); // populates cellDates and dayToCellOffsets
        cellDates = this.cellDates;

        if (this.breakOnWeeks) {
                // count columns until the day-of-week repeats
                firstDay = cellDates[0].day();
                for (colCnt = 1; colCnt &lt; cellDates.length; colCnt++) {
                        if (cellDates[colCnt].day() == firstDay) {
                                break;
                        }
                }
                rowCnt = Math.ceil(cellDates.length / colCnt);
        }
        else {
                rowCnt = 1;
                colCnt = cellDates.length;
        }

        this.rowCnt = rowCnt;
        this.colCnt = colCnt;
},

// Populates cellDates and dayToCellOffsets
updateCellDates: function() {
        var view = this.view;
        var date = this.start.clone();
        var dates = [];
        var offset = -1;
        var offsets = [];

        while (date.isBefore(this.end)) { // loop each day from start to end
                if (view.isHiddenDay(date)) {
                        offsets.push(offset + 0.5); // mark that it&#39;s between offsets
                }
                else {
                        offset++;
                        offsets.push(offset);
                        dates.push(date.clone());
                }
                date.add(1, &#39;days&#39;);
        }

        this.cellDates = dates;
        this.dayToCellOffsets = offsets;
},

// Given a cell object, generates a range object
computeCellRange: function(cell) {
        var colCnt = this.colCnt;
        var index = cell.row * colCnt + (this.isRTL ? colCnt - cell.col - 1 : cell.col);
        var start = this.cellDates[index].clone();
        var end = start.clone().add(1, &#39;day&#39;);

        return { start: start, end: end };
},

// Retrieves the element representing the given row
getRowEl: function(row) {
        return this.rowEls.eq(row);
},

// Retrieves the element representing the given column
getColEl: function(col) {
        return this.dayEls.eq(col);
},

// Gets the whole-day element associated with the cell
getCellDayEl: function(cell) {
        return this.dayEls.eq(cell.row * this.colCnt + cell.col);
},

// Overrides Grid&#39;s method for when row coordinates are computed
computeRowCoords: function() {
        var rowCoords = Grid.prototype.computeRowCoords.call(this); // call the super-method

        // hack for extending last row (used by AgendaView)
        rowCoords[rowCoords.length - 1].bottom += this.bottomCoordPadding;

        return rowCoords;
},

/* Dates
------------------------------------------------------------------------------------------------------------------*/

// Slices up a date range by row into an array of segments
rangeToSegs: function(range) {
        var isRTL = this.isRTL;
        var rowCnt = this.rowCnt;
        var colCnt = this.colCnt;
        var segs = [];
        var first, last; // inclusive cell-offset range for given range
        var row;
        var rowFirst, rowLast; // inclusive cell-offset range for current row
        var isStart, isEnd;
        var segFirst, segLast; // inclusive cell-offset range for segment
        var seg;

        range = this.view.computeDayRange(range); // make whole-day range, considering nextDayThreshold
        first = this.dateToCellOffset(range.start);
        last = this.dateToCellOffset(range.end.subtract(1, &#39;days&#39;)); // offset of inclusive end date

        for (row = 0; row &lt; rowCnt; row++) {
                rowFirst = row * colCnt;
                rowLast = rowFirst + colCnt - 1;

                // intersect segment&#39;s offset range with the row&#39;s
                segFirst = Math.max(rowFirst, first);
                segLast = Math.min(rowLast, last);

                // deal with in-between indices
                segFirst = Math.ceil(segFirst); // in-between starts round to next cell
                segLast = Math.floor(segLast); // in-between ends round to prev cell

                if (segFirst &lt;= segLast) { // was there any intersection with the current row?

                        // must be matching integers to be the segment&#39;s start/end
                        isStart = segFirst === first;
                        isEnd = segLast === last;

                        // translate offsets to be relative to start-of-row
                        segFirst -= rowFirst;
                        segLast -= rowFirst;

                        seg = { row: row, isStart: isStart, isEnd: isEnd };
                        if (isRTL) {
                                seg.leftCol = colCnt - segLast - 1;
                                seg.rightCol = colCnt - segFirst - 1;
                        }
                        else {
                                seg.leftCol = segFirst;
                                seg.rightCol = segLast;
                        }
                        segs.push(seg);
                }
        }

        return segs;
},

// Given a date, returns its chronolocial cell-offset from the first cell of the grid.
// If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.
// If before the first offset, returns a negative number.
// If after the last offset, returns an offset past the last cell offset.
// Only works for *start* dates of cells. Will not work for exclusive end dates for cells.
dateToCellOffset: function(date) {
        var offsets = this.dayToCellOffsets;
        var day = date.diff(this.start, &#39;days&#39;);

        if (day &lt; 0) {
                return offsets[0] - 1;
        }
        else if (day &gt;= offsets.length) {
                return offsets[offsets.length - 1] + 1;
        }
        else {
                return offsets[day];
        }
},

/* Event Drag Visualization
------------------------------------------------------------------------------------------------------------------*/
// TODO: move to DayGrid.event, similar to what we did with Grid&#39;s drag methods

// Renders a visual indication of an event or external element being dragged.
// The dropLocation&#39;s end can be null. seg can be null. See Grid::renderDrag for more info.
renderDrag: function(dropLocation, seg) {
        var opacity;

        // always render a highlight underneath
        this.renderHighlight(
                this.view.calendar.ensureVisibleEventRange(dropLocation) // needs to be a proper range
        );

        // if a segment from the same calendar but another component is being dragged, render a helper event
        if (seg &amp;&amp; !seg.el.closest(this.el).length) {

                this.renderRangeHelper(dropLocation, seg);

                opacity = this.view.opt(&#39;dragOpacity&#39;);
                if (opacity !== undefined) {
                        this.helperEls.css(&#39;opacity&#39;, opacity);
                }

                return true; // a helper has been rendered
        }
},

// Unrenders any visual indication of a hovering event
destroyDrag: function() {
        this.destroyHighlight();
        this.destroyHelper();
},

/* Event Resize Visualization
------------------------------------------------------------------------------------------------------------------*/

// Renders a visual indication of an event being resized
renderEventResize: function(range, seg) {
        this.renderHighlight(range);
        this.renderRangeHelper(range, seg);
},

// Unrenders a visual indication of an event being resized
destroyEventResize: function() {
        this.destroyHighlight();
        this.destroyHelper();
},

/* Event Helper
------------------------------------------------------------------------------------------------------------------*/

// Renders a mock &quot;helper&quot; event. `sourceSeg` is the associated internal segment object. It can be null.
renderHelper: function(event, sourceSeg) {
        var helperNodes = [];
        var segs = this.eventsToSegs([ event ]);
        var rowStructs;

        segs = this.renderFgSegEls(segs); // assigns each seg&#39;s el and returns a subset of segs that were rendered
        rowStructs = this.renderSegRows(segs);

        // inject each new event skeleton into each associated row
        this.rowEls.each(function(row, rowNode) {
                var rowEl = $(rowNode); // the .fc-row
                var skeletonEl = $(&#39;&lt;div class=&quot;fc-helper-skeleton&quot;&gt;&lt;table/&gt;&lt;/div&gt;&#39;); // will be absolutely positioned
                var skeletonTop;

                // If there is an original segment, match the top position. Otherwise, put it at the row&#39;s top level
                if (sourceSeg &amp;&amp; sourceSeg.row === row) {
                        skeletonTop = sourceSeg.el.position().top;
                }
                else {
                        skeletonTop = rowEl.find(&#39;.fc-content-skeleton tbody&#39;).position().top;
                }

                skeletonEl.css(&#39;top&#39;, skeletonTop)
                        .find(&#39;table&#39;)
                                .append(rowStructs[row].tbodyEl);

                rowEl.append(skeletonEl);
                helperNodes.push(skeletonEl[0]);
        });

        this.helperEls = $(helperNodes); // array -&gt; jQuery set
},

// Unrenders any visual indication of a mock helper event
destroyHelper: function() {
        if (this.helperEls) {
                this.helperEls.remove();
                this.helperEls = null;
        }
},

/* Fill System (highlight, background events, business hours)
------------------------------------------------------------------------------------------------------------------*/

fillSegTag: &#39;td&#39;, // override the default tag name

// Renders a set of rectangles over the given segments of days.
// Only returns segments that successfully rendered.
renderFill: function(type, segs) {
        var nodes = [];
        var i, seg;
        var skeletonEl;

        segs = this.renderFillSegEls(type, segs); // assignes `.el` to each seg. returns successfully rendered segs

        for (i = 0; i &lt; segs.length; i++) {
                seg = segs[i];
                skeletonEl = this.renderFillRow(type, seg);
                this.rowEls.eq(seg.row).append(skeletonEl);
                nodes.push(skeletonEl[0]);
        }

        this.elsByFill[type] = $(nodes);

        return segs;
},

// Generates the HTML needed for one row of a fill. Requires the seg&#39;s el to be rendered.
renderFillRow: function(type, seg) {
        var colCnt = this.colCnt;
        var startCol = seg.leftCol;
        var endCol = seg.rightCol + 1;
        var skeletonEl;
        var trEl;

        skeletonEl = $(
                &#39;&lt;div class=&quot;fc-&#39; + type.toLowerCase() + &#39;-skeleton&quot;&gt;&#39; +
                        &#39;&lt;table&gt;&lt;tr/&gt;&lt;/table&gt;&#39; +
                &#39;&lt;/div&gt;&#39;
        );
        trEl = skeletonEl.find(&#39;tr&#39;);

        if (startCol &gt; 0) {
                trEl.append(&#39;&lt;td colspan=&quot;&#39; + startCol + &#39;&quot;/&gt;&#39;);
        }

        trEl.append(
                seg.el.attr(&#39;colspan&#39;, endCol - startCol)
        );

        if (endCol &lt; colCnt) {
                trEl.append(&#39;&lt;td colspan=&quot;&#39; + (colCnt - endCol) + &#39;&quot;/&gt;&#39;);
        }

        this.bookendCells(trEl, type);

        return skeletonEl;
}</pre>

<p>});</p>

<pre>/* Event-rendering methods for the DayGrid class</pre>

<p>———————————————————————————————————————-*/</p>

<p>DayGrid.mixin({</p>

<pre>rowStructs: null, // an array of objects, each holding information about a row&#39;s foreground event-rendering

// Unrenders all events currently rendered on the grid
destroyEvents: function() {
        this.destroySegPopover(); // removes the &quot;more..&quot; events popover
        Grid.prototype.destroyEvents.apply(this, arguments); // calls the super-method
},

// Retrieves all rendered segment objects currently rendered on the grid
getEventSegs: function() {
        return Grid.prototype.getEventSegs.call(this) // get the segments from the super-method
                .concat(this.popoverSegs || []); // append the segments from the &quot;more...&quot; popover
},

// Renders the given background event segments onto the grid
renderBgSegs: function(segs) {

        // don&#39;t render timed background events
        var allDaySegs = $.grep(segs, function(seg) {
                return seg.event.allDay;
        });

        return Grid.prototype.renderBgSegs.call(this, allDaySegs); // call the super-method
},

// Renders the given foreground event segments onto the grid
renderFgSegs: function(segs) {
        var rowStructs;

        // render an `.el` on each seg
        // returns a subset of the segs. segs that were actually rendered
        segs = this.renderFgSegEls(segs);

        rowStructs = this.rowStructs = this.renderSegRows(segs);

        // append to each row&#39;s content skeleton
        this.rowEls.each(function(i, rowNode) {
                $(rowNode).find(&#39;.fc-content-skeleton &gt; table&#39;).append(
                        rowStructs[i].tbodyEl
                );
        });

        return segs; // return only the segs that were actually rendered
},

// Unrenders all currently rendered foreground event segments
destroyFgSegs: function() {
        var rowStructs = this.rowStructs || [];
        var rowStruct;

        while ((rowStruct = rowStructs.pop())) {
                rowStruct.tbodyEl.remove();
        }

        this.rowStructs = null;
},

// Uses the given events array to generate &lt;tbody&gt; elements that should be appended to each row&#39;s content skeleton.
// Returns an array of rowStruct objects (see the bottom of `renderSegRow`).
// PRECONDITION: each segment shoud already have a rendered and assigned `.el`
renderSegRows: function(segs) {
        var rowStructs = [];
        var segRows;
        var row;

        segRows = this.groupSegRows(segs); // group into nested arrays

        // iterate each row of segment groupings
        for (row = 0; row &lt; segRows.length; row++) {
                rowStructs.push(
                        this.renderSegRow(row, segRows[row])
                );
        }

        return rowStructs;
},

// Builds the HTML to be used for the default element for an individual segment
fgSegHtml: function(seg, disableResizing) {
        var view = this.view;
        var event = seg.event;
        var isDraggable = view.isEventDraggable(event);
        var isResizable = !disableResizing &amp;&amp; event.allDay &amp;&amp; seg.isEnd &amp;&amp; view.isEventResizable(event);
        var classes = this.getSegClasses(seg, isDraggable, isResizable);
        var skinCss = this.getEventSkinCss(event);
        var timeHtml = &#39;&#39;;
        var titleHtml;

        classes.unshift(&#39;fc-day-grid-event&#39;);

        // Only display a timed events time if it is the starting segment
        if (!event.allDay &amp;&amp; seg.isStart) {
                timeHtml = &#39;&lt;span class=&quot;fc-time&quot;&gt;&#39; + htmlEscape(this.getEventTimeText(event)) + &#39;&lt;/span&gt;&#39;;
        }

        titleHtml =
                &#39;&lt;span class=&quot;fc-title&quot;&gt;&#39; +
                        (htmlEscape(event.title || &#39;&#39;) || &#39;&amp;nbsp;&#39;) + // we always want one line of height
                &#39;&lt;/span&gt;&#39;;

        return &#39;&lt;a class=&quot;&#39; + classes.join(&#39; &#39;) + &#39;&quot;&#39; +
                        (event.url ?
                                &#39; href=&quot;&#39; + htmlEscape(event.url) + &#39;&quot;&#39; :
                                &#39;&#39;
                                ) +
                        (skinCss ?
                                &#39; style=&quot;&#39; + skinCss + &#39;&quot;&#39; :
                                &#39;&#39;
                                ) +
                &#39;&gt;&#39; +
                        &#39;&lt;div class=&quot;fc-content&quot;&gt;&#39; +
                                (this.isRTL ?
                                        titleHtml + &#39; &#39; + timeHtml : // put a natural space in between
                                        timeHtml + &#39; &#39; + titleHtml   //
                                        ) +
                        &#39;&lt;/div&gt;&#39; +
                        (isResizable ?
                                &#39;&lt;div class=&quot;fc-resizer&quot;/&gt;&#39; :
                                &#39;&#39;
                                ) +
                &#39;&lt;/a&gt;&#39;;
},

// Given a row # and an array of segments all in the same row, render a &lt;tbody&gt; element, a skeleton that contains
// the segments. Returns object with a bunch of internal data about how the render was calculated.
renderSegRow: function(row, rowSegs) {
        var colCnt = this.colCnt;
        var segLevels = this.buildSegLevels(rowSegs); // group into sub-arrays of levels
        var levelCnt = Math.max(1, segLevels.length); // ensure at least one level
        var tbody = $(&#39;&lt;tbody/&gt;&#39;);
        var segMatrix = []; // lookup for which segments are rendered into which level+col cells
        var cellMatrix = []; // lookup for all &lt;td&gt; elements of the level+col matrix
        var loneCellMatrix = []; // lookup for &lt;td&gt; elements that only take up a single column
        var i, levelSegs;
        var col;
        var tr;
        var j, seg;
        var td;

        // populates empty cells from the current column (`col`) to `endCol`
        function emptyCellsUntil(endCol) {
                while (col &lt; endCol) {
                        // try to grab a cell from the level above and extend its rowspan. otherwise, create a fresh cell
                        td = (loneCellMatrix[i - 1] || [])[col];
                        if (td) {
                                td.attr(
                                        &#39;rowspan&#39;,
                                        parseInt(td.attr(&#39;rowspan&#39;) || 1, 10) + 1
                                );
                        }
                        else {
                                td = $(&#39;&lt;td/&gt;&#39;);
                                tr.append(td);
                        }
                        cellMatrix[i][col] = td;
                        loneCellMatrix[i][col] = td;
                        col++;
                }
        }

        for (i = 0; i &lt; levelCnt; i++) { // iterate through all levels
                levelSegs = segLevels[i];
                col = 0;
                tr = $(&#39;&lt;tr/&gt;&#39;);

                segMatrix.push([]);
                cellMatrix.push([]);
                loneCellMatrix.push([]);

                // levelCnt might be 1 even though there are no actual levels. protect against this.
                // this single empty row is useful for styling.
                if (levelSegs) {
                        for (j = 0; j &lt; levelSegs.length; j++) { // iterate through segments in level
                                seg = levelSegs[j];

                                emptyCellsUntil(seg.leftCol);

                                // create a container that occupies or more columns. append the event element.
                                td = $(&#39;&lt;td class=&quot;fc-event-container&quot;/&gt;&#39;).append(seg.el);
                                if (seg.leftCol != seg.rightCol) {
                                        td.attr(&#39;colspan&#39;, seg.rightCol - seg.leftCol + 1);
                                }
                                else { // a single-column segment
                                        loneCellMatrix[i][col] = td;
                                }

                                while (col &lt;= seg.rightCol) {
                                        cellMatrix[i][col] = td;
                                        segMatrix[i][col] = seg;
                                        col++;
                                }

                                tr.append(td);
                        }
                }

                emptyCellsUntil(colCnt); // finish off the row
                this.bookendCells(tr, &#39;eventSkeleton&#39;);
                tbody.append(tr);
        }

        return { // a &quot;rowStruct&quot;
                row: row, // the row number
                tbodyEl: tbody,
                cellMatrix: cellMatrix,
                segMatrix: segMatrix,
                segLevels: segLevels,
                segs: rowSegs
        };
},

// Stacks a flat array of segments, which are all assumed to be in the same row, into subarrays of vertical levels.
buildSegLevels: function(segs) {
        var levels = [];
        var i, seg;
        var j;

        // Give preference to elements with certain criteria, so they have
        // a chance to be closer to the top.
        segs.sort(compareSegs);

        for (i = 0; i &lt; segs.length; i++) {
                seg = segs[i];

                // loop through levels, starting with the topmost, until the segment doesn&#39;t collide with other segments
                for (j = 0; j &lt; levels.length; j++) {
                        if (!isDaySegCollision(seg, levels[j])) {
                                break;
                        }
                }
                // `j` now holds the desired subrow index
                seg.level = j;

                // create new level array if needed and append segment
                (levels[j] || (levels[j] = [])).push(seg);
        }

        // order segments left-to-right. very important if calendar is RTL
        for (j = 0; j &lt; levels.length; j++) {
                levels[j].sort(compareDaySegCols);
        }

        return levels;
},

// Given a flat array of segments, return an array of sub-arrays, grouped by each segment&#39;s row
groupSegRows: function(segs) {
        var segRows = [];
        var i;

        for (i = 0; i &lt; this.rowCnt; i++) {
                segRows.push([]);
        }

        for (i = 0; i &lt; segs.length; i++) {
                segRows[segs[i].row].push(segs[i]);
        }

        return segRows;
}</pre>

<p>});</p>

<p>// Computes whether two segments&#39; columns collide. They are assumed to
be in the same row. function isDaySegCollision(seg, otherSegs) {</p>

<pre>var i, otherSeg;

for (i = 0; i &lt; otherSegs.length; i++) {
        otherSeg = otherSegs[i];

        if (
                otherSeg.leftCol &lt;= seg.rightCol &amp;&amp;
                otherSeg.rightCol &gt;= seg.leftCol
        ) {
                return true;
        }
}

return false;</pre>

<p>}</p>

<p>// A cmp function for determining the leftmost event function
compareDaySegCols(a, b) {</p>

<pre class="ruby"><span class="ruby-keyword">return</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">leftCol</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">b</span>.<span class="ruby-identifier">leftCol</span>;
</pre>

<p>}</p>

<pre>/* Methods relate to limiting the number events for a given day on a DayGrid</pre>

<p>———————————————————————————————————————-*/ // NOTE: all the segs being
passed around in here are foreground segs</p>

<p>DayGrid.mixin({</p>

<pre>segPopover: null, // the Popover that holds events that can&#39;t fit in a cell. null when not visible
popoverSegs: null, // an array of segment objects that the segPopover holds. null when not visible

destroySegPopover: function() {
        if (this.segPopover) {
                this.segPopover.hide(); // will trigger destruction of `segPopover` and `popoverSegs`
        }
},

// Limits the number of &quot;levels&quot; (vertically stacking layers of events) for each row of the grid.
// `levelLimit` can be false (don&#39;t limit), a number, or true (should be computed).
limitRows: function(levelLimit) {
        var rowStructs = this.rowStructs || [];
        var row; // row #
        var rowLevelLimit;

        for (row = 0; row &lt; rowStructs.length; row++) {
                this.unlimitRow(row);

                if (!levelLimit) {
                        rowLevelLimit = false;
                }
                else if (typeof levelLimit === &#39;number&#39;) {
                        rowLevelLimit = levelLimit;
                }
                else {
                        rowLevelLimit = this.computeRowLevelLimit(row);
                }

                if (rowLevelLimit !== false) {
                        this.limitRow(row, rowLevelLimit);
                }
        }
},

// Computes the number of levels a row will accomodate without going outside its bounds.
// Assumes the row is &quot;rigid&quot; (maintains a constant height regardless of what is inside).
// `row` is the row number.
computeRowLevelLimit: function(row) {
        var rowEl = this.rowEls.eq(row); // the containing &quot;fake&quot; row div
        var rowHeight = rowEl.height(); // TODO: cache somehow?
        var trEls = this.rowStructs[row].tbodyEl.children();
        var i, trEl;

        // Reveal one level &lt;tr&gt; at a time and stop when we find one out of bounds
        for (i = 0; i &lt; trEls.length; i++) {
                trEl = trEls.eq(i).removeClass(&#39;fc-limited&#39;); // get and reveal
                if (trEl.position().top + trEl.outerHeight() &gt; rowHeight) {
                        return i;
                }
        }

        return false; // should not limit at all
},

// Limits the given grid row to the maximum number of levels and injects &quot;more&quot; links if necessary.
// `row` is the row number.
// `levelLimit` is a number for the maximum (inclusive) number of levels allowed.
limitRow: function(row, levelLimit) {
        var _this = this;
        var rowStruct = this.rowStructs[row];
        var moreNodes = []; // array of &quot;more&quot; &lt;a&gt; links and &lt;td&gt; DOM nodes
        var col = 0; // col #, left-to-right (not chronologically)
        var cell;
        var levelSegs; // array of segment objects in the last allowable level, ordered left-to-right
        var cellMatrix; // a matrix (by level, then column) of all &lt;td&gt; jQuery elements in the row
        var limitedNodes; // array of temporarily hidden level &lt;tr&gt; and segment &lt;td&gt; DOM nodes
        var i, seg;
        var segsBelow; // array of segment objects below `seg` in the current `col`
        var totalSegsBelow; // total number of segments below `seg` in any of the columns `seg` occupies
        var colSegsBelow; // array of segment arrays, below seg, one for each column (offset from segs&#39;s first column)
        var td, rowspan;
        var segMoreNodes; // array of &quot;more&quot; &lt;td&gt; cells that will stand-in for the current seg&#39;s cell
        var j;
        var moreTd, moreWrap, moreLink;

        // Iterates through empty level cells and places &quot;more&quot; links inside if need be
        function emptyCellsUntil(endCol) { // goes from current `col` to `endCol`
                while (col &lt; endCol) {
                        cell = _this.getCell(row, col);
                        segsBelow = _this.getCellSegs(cell, levelLimit);
                        if (segsBelow.length) {
                                td = cellMatrix[levelLimit - 1][col];
                                moreLink = _this.renderMoreLink(cell, segsBelow);
                                moreWrap = $(&#39;&lt;div/&gt;&#39;).append(moreLink);
                                td.append(moreWrap);
                                moreNodes.push(moreWrap[0]);
                        }
                        col++;
                }
        }

        if (levelLimit &amp;&amp; levelLimit &lt; rowStruct.segLevels.length) { // is it actually over the limit?
                levelSegs = rowStruct.segLevels[levelLimit - 1];
                cellMatrix = rowStruct.cellMatrix;

                limitedNodes = rowStruct.tbodyEl.children().slice(levelLimit) // get level &lt;tr&gt; elements past the limit
                        .addClass(&#39;fc-limited&#39;).get(); // hide elements and get a simple DOM-nodes array

                // iterate though segments in the last allowable level
                for (i = 0; i &lt; levelSegs.length; i++) {
                        seg = levelSegs[i];
                        emptyCellsUntil(seg.leftCol); // process empty cells before the segment

                        // determine *all* segments below `seg` that occupy the same columns
                        colSegsBelow = [];
                        totalSegsBelow = 0;
                        while (col &lt;= seg.rightCol) {
                                cell = this.getCell(row, col);
                                segsBelow = this.getCellSegs(cell, levelLimit);
                                colSegsBelow.push(segsBelow);
                                totalSegsBelow += segsBelow.length;
                                col++;
                        }

                        if (totalSegsBelow) { // do we need to replace this segment with one or many &quot;more&quot; links?
                                td = cellMatrix[levelLimit - 1][seg.leftCol]; // the segment&#39;s parent cell
                                rowspan = td.attr(&#39;rowspan&#39;) || 1;
                                segMoreNodes = [];

                                // make a replacement &lt;td&gt; for each column the segment occupies. will be one for each colspan
                                for (j = 0; j &lt; colSegsBelow.length; j++) {
                                        moreTd = $(&#39;&lt;td class=&quot;fc-more-cell&quot;/&gt;&#39;).attr(&#39;rowspan&#39;, rowspan);
                                        segsBelow = colSegsBelow[j];
                                        cell = this.getCell(row, seg.leftCol + j);
                                        moreLink = this.renderMoreLink(cell, [ seg ].concat(segsBelow)); // count seg as hidden too
                                        moreWrap = $(&#39;&lt;div/&gt;&#39;).append(moreLink);
                                        moreTd.append(moreWrap);
                                        segMoreNodes.push(moreTd[0]);
                                        moreNodes.push(moreTd[0]);
                                }

                                td.addClass(&#39;fc-limited&#39;).after($(segMoreNodes)); // hide original &lt;td&gt; and inject replacements
                                limitedNodes.push(td[0]);
                        }
                }

                emptyCellsUntil(this.colCnt); // finish off the level
                rowStruct.moreEls = $(moreNodes); // for easy undoing later
                rowStruct.limitedEls = $(limitedNodes); // for easy undoing later
        }
},

// Reveals all levels and removes all &quot;more&quot;-related elements for a grid&#39;s row.
// `row` is a row number.
unlimitRow: function(row) {
        var rowStruct = this.rowStructs[row];

        if (rowStruct.moreEls) {
                rowStruct.moreEls.remove();
                rowStruct.moreEls = null;
        }

        if (rowStruct.limitedEls) {
                rowStruct.limitedEls.removeClass(&#39;fc-limited&#39;);
                rowStruct.limitedEls = null;
        }
},

// Renders an &lt;a&gt; element that represents hidden event element for a cell.
// Responsible for attaching click handler as well.
renderMoreLink: function(cell, hiddenSegs) {
        var _this = this;
        var view = this.view;

        return $(&#39;&lt;a class=&quot;fc-more&quot;/&gt;&#39;)
                .text(
                        this.getMoreLinkText(hiddenSegs.length)
                )
                .on(&#39;click&#39;, function(ev) {
                        var clickOption = view.opt(&#39;eventLimitClick&#39;);
                        var date = cell.start;
                        var moreEl = $(this);
                        var dayEl = _this.getCellDayEl(cell);
                        var allSegs = _this.getCellSegs(cell);

                        // rescope the segments to be within the cell&#39;s date
                        var reslicedAllSegs = _this.resliceDaySegs(allSegs, date);
                        var reslicedHiddenSegs = _this.resliceDaySegs(hiddenSegs, date);

                        if (typeof clickOption === &#39;function&#39;) {
                                // the returned value can be an atomic option
                                clickOption = view.trigger(&#39;eventLimitClick&#39;, null, {
                                        date: date,
                                        dayEl: dayEl,
                                        moreEl: moreEl,
                                        segs: reslicedAllSegs,
                                        hiddenSegs: reslicedHiddenSegs
                                }, ev);
                        }

                        if (clickOption === &#39;popover&#39;) {
                                _this.showSegPopover(cell, moreEl, reslicedAllSegs);
                        }
                        else if (typeof clickOption === &#39;string&#39;) { // a view name
                                view.calendar.zoomTo(date, clickOption);
                        }
                });
},

// Reveals the popover that displays all events within a cell
showSegPopover: function(cell, moreLink, segs) {
        var _this = this;
        var view = this.view;
        var moreWrap = moreLink.parent(); // the &lt;div&gt; wrapper around the &lt;a&gt;
        var topEl; // the element we want to match the top coordinate of
        var options;

        if (this.rowCnt == 1) {
                topEl = view.el; // will cause the popover to cover any sort of header
        }
        else {
                topEl = this.rowEls.eq(cell.row); // will align with top of row
        }

        options = {
                className: &#39;fc-more-popover&#39;,
                content: this.renderSegPopoverContent(cell, segs),
                parentEl: this.el,
                top: topEl.offset().top,
                autoHide: true, // when the user clicks elsewhere, hide the popover
                viewportConstrain: view.opt(&#39;popoverViewportConstrain&#39;),
                hide: function() {
                        // destroy everything when the popover is hidden
                        _this.segPopover.destroy();
                        _this.segPopover = null;
                        _this.popoverSegs = null;
                }
        };

        // Determine horizontal coordinate.
        // We use the moreWrap instead of the &lt;td&gt; to avoid border confusion.
        if (this.isRTL) {
                options.right = moreWrap.offset().left + moreWrap.outerWidth() + 1; // +1 to be over cell border
        }
        else {
                options.left = moreWrap.offset().left - 1; // -1 to be over cell border
        }

        this.segPopover = new Popover(options);
        this.segPopover.show();
},

// Builds the inner DOM contents of the segment popover
renderSegPopoverContent: function(cell, segs) {
        var view = this.view;
        var isTheme = view.opt(&#39;theme&#39;);
        var title = cell.start.format(view.opt(&#39;dayPopoverFormat&#39;));
        var content = $(
                &#39;&lt;div class=&quot;fc-header &#39; + view.widgetHeaderClass + &#39;&quot;&gt;&#39; +
                        &#39;&lt;span class=&quot;fc-close &#39; +
                                (isTheme ? &#39;ui-icon ui-icon-closethick&#39; : &#39;fc-icon fc-icon-x&#39;) +
                        &#39;&quot;&gt;&lt;/span&gt;&#39; +
                        &#39;&lt;span class=&quot;fc-title&quot;&gt;&#39; +
                                htmlEscape(title) +
                        &#39;&lt;/span&gt;&#39; +
                        &#39;&lt;div class=&quot;fc-clear&quot;/&gt;&#39; +
                &#39;&lt;/div&gt;&#39; +
                &#39;&lt;div class=&quot;fc-body &#39; + view.widgetContentClass + &#39;&quot;&gt;&#39; +
                        &#39;&lt;div class=&quot;fc-event-container&quot;&gt;&lt;/div&gt;&#39; +
                &#39;&lt;/div&gt;&#39;
        );
        var segContainer = content.find(&#39;.fc-event-container&#39;);
        var i;

        // render each seg&#39;s `el` and only return the visible segs
        segs = this.renderFgSegEls(segs, true); // disableResizing=true
        this.popoverSegs = segs;

        for (i = 0; i &lt; segs.length; i++) {

                // because segments in the popover are not part of a grid coordinate system, provide a hint to any
                // grids that want to do drag-n-drop about which cell it came from
                segs[i].cell = cell;

                segContainer.append(segs[i].el);
        }

        return content;
},

// Given the events within an array of segment objects, reslice them to be in a single day
resliceDaySegs: function(segs, dayDate) {

        // build an array of the original events
        var events = $.map(segs, function(seg) {
                return seg.event;
        });

        var dayStart = dayDate.clone().stripTime();
        var dayEnd = dayStart.clone().add(1, &#39;days&#39;);
        var dayRange = { start: dayStart, end: dayEnd };

        // slice the events with a custom slicing function
        return this.eventsToSegs(
                events,
                function(range) {
                        var seg = intersectionToSeg(range, dayRange); // undefind if no intersection
                        return seg ? [ seg ] : []; // must return an array of segments
                }
        );
},

// Generates the text that should be inside a &quot;more&quot; link, given the number of events it represents
getMoreLinkText: function(num) {
        var opt = this.view.opt(&#39;eventLimitText&#39;);

        if (typeof opt === &#39;function&#39;) {
                return opt(num);
        }
        else {
                return &#39;+&#39; + num + &#39; &#39; + opt;
        }
},

// Returns segments within a given cell.
// If `startLevel` is specified, returns only events including and below that level. Otherwise returns all segs.
getCellSegs: function(cell, startLevel) {
        var segMatrix = this.rowStructs[cell.row].segMatrix;
        var level = startLevel || 0;
        var segs = [];
        var seg;

        while (level &lt; segMatrix.length) {
                seg = segMatrix[level][cell.col];
                if (seg) {
                        segs.push(seg);
                }
                level++;
        }

        return segs;
}</pre>

<p>});</p>

<pre>/* A component that renders one or more columns of vertical time slots</pre>

<p>———————————————————————————————————————-*/</p>

<p>var TimeGrid = Grid.extend({</p>

<pre>slotDuration: null, // duration of a &quot;slot&quot;, a distinct time segment on given day, visualized by lines
snapDuration: null, // granularity of time for dragging and selecting

minTime: null, // Duration object that denotes the first visible time of any given day
maxTime: null, // Duration object that denotes the exclusive visible end time of any given day

axisFormat: null, // formatting string for times running along vertical axis

dayEls: null, // cells elements in the day-row background
slatEls: null, // elements running horizontally across all columns

slatTops: null, // an array of top positions, relative to the container. last item holds bottom of last slot

helperEl: null, // cell skeleton element for rendering the mock event &quot;helper&quot;

businessHourSegs: null,

constructor: function() {
        Grid.apply(this, arguments); // call the super-constructor
        this.processOptions();
},

// Renders the time grid into `this.el`, which should already be assigned.
// Relies on the view&#39;s colCnt. In the future, this component should probably be self-sufficient.
render: function() {
        this.el.html(this.renderHtml());
        this.dayEls = this.el.find(&#39;.fc-day&#39;);
        this.slatEls = this.el.find(&#39;.fc-slats tr&#39;);

        this.computeSlatTops();
        this.renderBusinessHours();
        Grid.prototype.render.call(this); // call the super-method
},

renderBusinessHours: function() {
        var events = this.view.calendar.getBusinessHoursEvents();
        this.businessHourSegs = this.renderFill(&#39;businessHours&#39;, this.eventsToSegs(events), &#39;bgevent&#39;);
},

// Renders the basic HTML skeleton for the grid
renderHtml: function() {
        return &#39;&#39; +
                &#39;&lt;div class=&quot;fc-bg&quot;&gt;&#39; +
                        &#39;&lt;table&gt;&#39; +
                                this.rowHtml(&#39;slotBg&#39;) + // leverages RowRenderer, which will call slotBgCellHtml
                        &#39;&lt;/table&gt;&#39; +
                &#39;&lt;/div&gt;&#39; +
                &#39;&lt;div class=&quot;fc-slats&quot;&gt;&#39; +
                        &#39;&lt;table&gt;&#39; +
                                this.slatRowHtml() +
                        &#39;&lt;/table&gt;&#39; +
                &#39;&lt;/div&gt;&#39;;
},

// Renders the HTML for a vertical background cell behind the slots.
// This method is distinct from &#39;bg&#39; because we wanted a new `rowType` so the View could customize the rendering.
slotBgCellHtml: function(cell) {
        return this.bgCellHtml(cell);
},

// Generates the HTML for the horizontal &quot;slats&quot; that run width-wise. Has a time axis on a side. Depends on RTL.
slatRowHtml: function() {
        var view = this.view;
        var isRTL = this.isRTL;
        var html = &#39;&#39;;
        var slotNormal = this.slotDuration.asMinutes() % 15 === 0;
        var slotTime = moment.duration(+this.minTime); // wish there was .clone() for durations
        var slotDate; // will be on the view&#39;s first day, but we only care about its time
        var minutes;
        var axisHtml;

        // Calculate the time for each slot
        while (slotTime &lt; this.maxTime) {
                slotDate = this.start.clone().time(slotTime); // will be in UTC but that&#39;s good. to avoid DST issues
                minutes = slotDate.minutes();

                axisHtml =
                        &#39;&lt;td class=&quot;fc-axis fc-time &#39; + view.widgetContentClass + &#39;&quot; &#39; + view.axisStyleAttr() + &#39;&gt;&#39; +
                                ((!slotNormal || !minutes) ? // if irregular slot duration, or on the hour, then display the time
                                        &#39;&lt;span&gt;&#39; + // for matchCellWidths
                                                htmlEscape(slotDate.format(this.axisFormat)) +
                                        &#39;&lt;/span&gt;&#39; :
                                        &#39;&#39;
                                        ) +
                        &#39;&lt;/td&gt;&#39;;

                html +=
                        &#39;&lt;tr &#39; + (!minutes ? &#39;&#39; : &#39;class=&quot;fc-minor&quot;&#39;) + &#39;&gt;&#39; +
                                (!isRTL ? axisHtml : &#39;&#39;) +
                                &#39;&lt;td class=&quot;&#39; + view.widgetContentClass + &#39;&quot;/&gt;&#39; +
                                (isRTL ? axisHtml : &#39;&#39;) +
                        &quot;&lt;/tr&gt;&quot;;

                slotTime.add(this.slotDuration);
        }

        return html;
},

/* Options
------------------------------------------------------------------------------------------------------------------*/

// Parses various options into properties of this object
processOptions: function() {
        var view = this.view;
        var slotDuration = view.opt(&#39;slotDuration&#39;);
        var snapDuration = view.opt(&#39;snapDuration&#39;);

        slotDuration = moment.duration(slotDuration);
        snapDuration = snapDuration ? moment.duration(snapDuration) : slotDuration;

        this.slotDuration = slotDuration;
        this.snapDuration = snapDuration;

        this.minTime = moment.duration(view.opt(&#39;minTime&#39;));
        this.maxTime = moment.duration(view.opt(&#39;maxTime&#39;));

        this.axisFormat = view.opt(&#39;axisFormat&#39;) || view.opt(&#39;smallTimeFormat&#39;);
},

// Computes a default column header formatting string if `colFormat` is not explicitly defined
computeColHeadFormat: function() {
        if (this.colCnt &gt; 1) { // multiple days, so full single date string WON&#39;T be in title text
                return this.view.opt(&#39;dayOfMonthFormat&#39;); // &quot;Sat 12/10&quot;
        }
        else { // single day, so full single date string will probably be in title text
                return &#39;dddd&#39;; // &quot;Saturday&quot;
        }
},

// Computes a default event time formatting string if `timeFormat` is not explicitly defined
computeEventTimeFormat: function() {
        return this.view.opt(&#39;noMeridiemTimeFormat&#39;); // like &quot;6:30&quot; (no AM/PM)
},

// Computes a default `displayEventEnd` value if one is not expliclty defined
computeDisplayEventEnd: function() {
        return true;
},

/* Cell System
------------------------------------------------------------------------------------------------------------------*/

// Initializes row/col information
updateCells: function() {
        var view = this.view;
        var colData = [];
        var date;

        date = this.start.clone();
        while (date.isBefore(this.end)) {
                colData.push({
                        day: date.clone()
                });
                date.add(1, &#39;day&#39;);
                date = view.skipHiddenDays(date);
        }

        if (this.isRTL) {
                colData.reverse();
        }

        this.colData = colData;
        this.colCnt = colData.length;
        this.rowCnt = Math.ceil((this.maxTime - this.minTime) / this.snapDuration); // # of vertical snaps
},

// Given a cell object, generates a range object
computeCellRange: function(cell) {
        var time = this.computeSnapTime(cell.row);
        var start = this.view.calendar.rezoneDate(cell.day).time(time);
        var end = start.clone().add(this.snapDuration);

        return { start: start, end: end };
},

// Retrieves the element representing the given column
getColEl: function(col) {
        return this.dayEls.eq(col);
},

/* Dates
------------------------------------------------------------------------------------------------------------------*/

// Given a row number of the grid, representing a &quot;snap&quot;, returns a time (Duration) from its start-of-day
computeSnapTime: function(row) {
        return moment.duration(this.minTime + this.snapDuration * row);
},

// Slices up a date range by column into an array of segments
rangeToSegs: function(range) {
        var colCnt = this.colCnt;
        var segs = [];
        var seg;
        var col;
        var colDate;
        var colRange;

        // normalize :(
        range = {
                start: range.start.clone().stripZone(),
                end: range.end.clone().stripZone()
        };

        for (col = 0; col &lt; colCnt; col++) {
                colDate = this.colData[col].day; // will be ambig time/timezone
                colRange = {
                        start: colDate.clone().time(this.minTime),
                        end: colDate.clone().time(this.maxTime)
                };
                seg = intersectionToSeg(range, colRange); // both will be ambig timezone
                if (seg) {
                        seg.col = col;
                        segs.push(seg);
                }
        }

        return segs;
},

/* Coordinates
------------------------------------------------------------------------------------------------------------------*/

// Called when there is a window resize/zoom and we need to recalculate coordinates for the grid
resize: function() {
        this.computeSlatTops();
        this.updateSegVerticals();
},

// Computes the top/bottom coordinates of each &quot;snap&quot; rows
computeRowCoords: function() {
        var originTop = this.el.offset().top;
        var items = [];
        var i;
        var item;

        for (i = 0; i &lt; this.rowCnt; i++) {
                item = {
                        top: originTop + this.computeTimeTop(this.computeSnapTime(i))
                };
                if (i &gt; 0) {
                        items[i - 1].bottom = item.top;
                }
                items.push(item);
        }
        item.bottom = item.top + this.computeTimeTop(this.computeSnapTime(i));

        return items;
},

// Computes the top coordinate, relative to the bounds of the grid, of the given date.
// A `startOfDayDate` must be given for avoiding ambiguity over how to treat midnight.
computeDateTop: function(date, startOfDayDate) {
        return this.computeTimeTop(
                moment.duration(
                        date.clone().stripZone() - startOfDayDate.clone().stripTime()
                )
        );
},

// Computes the top coordinate, relative to the bounds of the grid, of the given time (a Duration).
computeTimeTop: function(time) {
        var slatCoverage = (time - this.minTime) / this.slotDuration; // floating-point value of # of slots covered
        var slatIndex;
        var slatRemainder;
        var slatTop;
        var slatBottom;

        // constrain. because minTime/maxTime might be customized
        slatCoverage = Math.max(0, slatCoverage);
        slatCoverage = Math.min(this.slatEls.length, slatCoverage);

        slatIndex = Math.floor(slatCoverage); // an integer index of the furthest whole slot
        slatRemainder = slatCoverage - slatIndex;
        slatTop = this.slatTops[slatIndex]; // the top position of the furthest whole slot

        if (slatRemainder) { // time spans part-way into the slot
                slatBottom = this.slatTops[slatIndex + 1];
                return slatTop + (slatBottom - slatTop) * slatRemainder; // part-way between slots
        }
        else {
                return slatTop;
        }
},

// Queries each `slatEl` for its position relative to the grid&#39;s container and stores it in `slatTops`.
// Includes the the bottom of the last slat as the last item in the array.
computeSlatTops: function() {
        var tops = [];
        var top;

        this.slatEls.each(function(i, node) {
                top = $(node).position().top;
                tops.push(top);
        });

        tops.push(top + this.slatEls.last().outerHeight()); // bottom of the last slat

        this.slatTops = tops;
},

/* Event Drag Visualization
------------------------------------------------------------------------------------------------------------------*/

// Renders a visual indication of an event being dragged over the specified date(s).
// dropLocation&#39;s end might be null, as well as `seg`. See Grid::renderDrag for more info.
// A returned value of `true` signals that a mock &quot;helper&quot; event has been rendered.
renderDrag: function(dropLocation, seg) {
        var opacity;

        if (seg) { // if there is event information for this drag, render a helper event
                this.renderRangeHelper(dropLocation, seg);

                opacity = this.view.opt(&#39;dragOpacity&#39;);
                if (opacity !== undefined) {
                        this.helperEl.css(&#39;opacity&#39;, opacity);
                }

                return true; // signal that a helper has been rendered
        }
        else {
                // otherwise, just render a highlight
                this.renderHighlight(
                        this.view.calendar.ensureVisibleEventRange(dropLocation) // needs to be a proper range
                );
        }
},

// Unrenders any visual indication of an event being dragged
destroyDrag: function() {
        this.destroyHelper();
        this.destroyHighlight();
},

/* Event Resize Visualization
------------------------------------------------------------------------------------------------------------------*/

// Renders a visual indication of an event being resized
renderEventResize: function(range, seg) {
        this.renderRangeHelper(range, seg);
},

// Unrenders any visual indication of an event being resized
destroyEventResize: function() {
        this.destroyHelper();
},

/* Event Helper
------------------------------------------------------------------------------------------------------------------*/

// Renders a mock &quot;helper&quot; event. `sourceSeg` is the original segment object and might be null (an external drag)
renderHelper: function(event, sourceSeg) {
        var segs = this.eventsToSegs([ event ]);
        var tableEl;
        var i, seg;
        var sourceEl;

        segs = this.renderFgSegEls(segs); // assigns each seg&#39;s el and returns a subset of segs that were rendered
        tableEl = this.renderSegTable(segs);

        // Try to make the segment that is in the same row as sourceSeg look the same
        for (i = 0; i &lt; segs.length; i++) {
                seg = segs[i];
                if (sourceSeg &amp;&amp; sourceSeg.col === seg.col) {
                        sourceEl = sourceSeg.el;
                        seg.el.css({
                                left: sourceEl.css(&#39;left&#39;),
                                right: sourceEl.css(&#39;right&#39;),
                                &#39;margin-left&#39;: sourceEl.css(&#39;margin-left&#39;),
                                &#39;margin-right&#39;: sourceEl.css(&#39;margin-right&#39;)
                        });
                }
        }

        this.helperEl = $(&#39;&lt;div class=&quot;fc-helper-skeleton&quot;/&gt;&#39;)
                .append(tableEl)
                        .appendTo(this.el);
},

// Unrenders any mock helper event
destroyHelper: function() {
        if (this.helperEl) {
                this.helperEl.remove();
                this.helperEl = null;
        }
},

/* Selection
------------------------------------------------------------------------------------------------------------------*/

// Renders a visual indication of a selection. Overrides the default, which was to simply render a highlight.
renderSelection: function(range) {
        if (this.view.opt(&#39;selectHelper&#39;)) { // this setting signals that a mock helper event should be rendered
                this.renderRangeHelper(range);
        }
        else {
                this.renderHighlight(range);
        }
},

// Unrenders any visual indication of a selection
destroySelection: function() {
        this.destroyHelper();
        this.destroyHighlight();
},

/* Fill System (highlight, background events, business hours)
------------------------------------------------------------------------------------------------------------------*/

// Renders a set of rectangles over the given time segments.
// Only returns segments that successfully rendered.
renderFill: function(type, segs, className) {
        var segCols;
        var skeletonEl;
        var trEl;
        var col, colSegs;
        var tdEl;
        var containerEl;
        var dayDate;
        var i, seg;

        if (segs.length) {

                segs = this.renderFillSegEls(type, segs); // assignes `.el` to each seg. returns successfully rendered segs
                segCols = this.groupSegCols(segs); // group into sub-arrays, and assigns &#39;col&#39; to each seg

                className = className || type.toLowerCase();
                skeletonEl = $(
                        &#39;&lt;div class=&quot;fc-&#39; + className + &#39;-skeleton&quot;&gt;&#39; +
                                &#39;&lt;table&gt;&lt;tr/&gt;&lt;/table&gt;&#39; +
                        &#39;&lt;/div&gt;&#39;
                );
                trEl = skeletonEl.find(&#39;tr&#39;);

                for (col = 0; col &lt; segCols.length; col++) {
                        colSegs = segCols[col];
                        tdEl = $(&#39;&lt;td/&gt;&#39;).appendTo(trEl);

                        if (colSegs.length) {
                                containerEl = $(&#39;&lt;div class=&quot;fc-&#39; + className + &#39;-container&quot;/&gt;&#39;).appendTo(tdEl);
                                dayDate = this.colData[col].day;

                                for (i = 0; i &lt; colSegs.length; i++) {
                                        seg = colSegs[i];
                                        containerEl.append(
                                                seg.el.css({
                                                        top: this.computeDateTop(seg.start, dayDate),
                                                        bottom: -this.computeDateTop(seg.end, dayDate) // the y position of the bottom edge
                                                })
                                        );
                                }
                        }
                }

                this.bookendCells(trEl, type);

                this.el.append(skeletonEl);
                this.elsByFill[type] = skeletonEl;
        }

        return segs;
}</pre>

<p>});</p>

<pre>/* Event-rendering methods for the TimeGrid class</pre>

<p>———————————————————————————————————————-*/</p>

<p>TimeGrid.mixin({</p>

<pre>eventSkeletonEl: null, // has cells with event-containers, which contain absolutely positioned event elements

// Renders the given foreground event segments onto the grid
renderFgSegs: function(segs) {
        segs = this.renderFgSegEls(segs); // returns a subset of the segs. segs that were actually rendered

        this.el.append(
                this.eventSkeletonEl = $(&#39;&lt;div class=&quot;fc-content-skeleton&quot;/&gt;&#39;)
                        .append(this.renderSegTable(segs))
        );

        return segs; // return only the segs that were actually rendered
},

// Unrenders all currently rendered foreground event segments
destroyFgSegs: function(segs) {
        if (this.eventSkeletonEl) {
                this.eventSkeletonEl.remove();
                this.eventSkeletonEl = null;
        }
},

// Renders and returns the &lt;table&gt; portion of the event-skeleton.
// Returns an object with properties &#39;tbodyEl&#39; and &#39;segs&#39;.
renderSegTable: function(segs) {
        var tableEl = $(&#39;&lt;table&gt;&lt;tr/&gt;&lt;/table&gt;&#39;);
        var trEl = tableEl.find(&#39;tr&#39;);
        var segCols;
        var i, seg;
        var col, colSegs;
        var containerEl;

        segCols = this.groupSegCols(segs); // group into sub-arrays, and assigns &#39;col&#39; to each seg

        this.computeSegVerticals(segs); // compute and assign top/bottom

        for (col = 0; col &lt; segCols.length; col++) { // iterate each column grouping
                colSegs = segCols[col];
                placeSlotSegs(colSegs); // compute horizontal coordinates, z-index&#39;s, and reorder the array

                containerEl = $(&#39;&lt;div class=&quot;fc-event-container&quot;/&gt;&#39;);

                // assign positioning CSS and insert into container
                for (i = 0; i &lt; colSegs.length; i++) {
                        seg = colSegs[i];
                        seg.el.css(this.generateSegPositionCss(seg));

                        // if the height is short, add a className for alternate styling
                        if (seg.bottom - seg.top &lt; 30) {
                                seg.el.addClass(&#39;fc-short&#39;);
                        }

                        containerEl.append(seg.el);
                }

                trEl.append($(&#39;&lt;td/&gt;&#39;).append(containerEl));
        }

        this.bookendCells(trEl, &#39;eventSkeleton&#39;);

        return tableEl;
},

// Refreshes the CSS top/bottom coordinates for each segment element. Probably after a window resize/zoom.
// Repositions business hours segs too, so not just for events. Maybe shouldn&#39;t be here.
updateSegVerticals: function() {
        var allSegs = (this.segs || []).concat(this.businessHourSegs || []);
        var i;

        this.computeSegVerticals(allSegs);

        for (i = 0; i &lt; allSegs.length; i++) {
                allSegs[i].el.css(
                        this.generateSegVerticalCss(allSegs[i])
                );
        }
},

// For each segment in an array, computes and assigns its top and bottom properties
computeSegVerticals: function(segs) {
        var i, seg;

        for (i = 0; i &lt; segs.length; i++) {
                seg = segs[i];
                seg.top = this.computeDateTop(seg.start, seg.start);
                seg.bottom = this.computeDateTop(seg.end, seg.start);
        }
},

// Renders the HTML for a single event segment&#39;s default rendering
fgSegHtml: function(seg, disableResizing) {
        var view = this.view;
        var event = seg.event;
        var isDraggable = view.isEventDraggable(event);
        var isResizable = !disableResizing &amp;&amp; seg.isEnd &amp;&amp; view.isEventResizable(event);
        var classes = this.getSegClasses(seg, isDraggable, isResizable);
        var skinCss = this.getEventSkinCss(event);
        var timeText;
        var fullTimeText; // more verbose time text. for the print stylesheet
        var startTimeText; // just the start time text

        classes.unshift(&#39;fc-time-grid-event&#39;);

        if (view.isMultiDayEvent(event)) { // if the event appears to span more than one day...
                // Don&#39;t display time text on segments that run entirely through a day.
                // That would appear as midnight-midnight and would look dumb.
                // Otherwise, display the time text for the *segment&#39;s* times (like 6pm-midnight or midnight-10am)
                if (seg.isStart || seg.isEnd) {
                        timeText = this.getEventTimeText(seg);
                        fullTimeText = this.getEventTimeText(seg, &#39;LT&#39;);
                        startTimeText = this.getEventTimeText({ start: seg.start });
                }
        } else {
                // Display the normal time text for the *event&#39;s* times
                timeText = this.getEventTimeText(event);
                fullTimeText = this.getEventTimeText(event, &#39;LT&#39;);
                startTimeText = this.getEventTimeText({ start: event.start });
        }

        return &#39;&lt;a class=&quot;&#39; + classes.join(&#39; &#39;) + &#39;&quot;&#39; +
                (event.url ?
                        &#39; href=&quot;&#39; + htmlEscape(event.url) + &#39;&quot;&#39; :
                        &#39;&#39;
                        ) +
                (skinCss ?
                        &#39; style=&quot;&#39; + skinCss + &#39;&quot;&#39; :
                        &#39;&#39;
                        ) +
                &#39;&gt;&#39; +
                        &#39;&lt;div class=&quot;fc-content&quot;&gt;&#39; +
                                (timeText ?
                                        &#39;&lt;div class=&quot;fc-time&quot;&#39; +
                                        &#39; data-start=&quot;&#39; + htmlEscape(startTimeText) + &#39;&quot;&#39; +
                                        &#39; data-full=&quot;&#39; + htmlEscape(fullTimeText) + &#39;&quot;&#39; +
                                        &#39;&gt;&#39; +
                                                &#39;&lt;span&gt;&#39; + htmlEscape(timeText) + &#39;&lt;/span&gt;&#39; +
                                        &#39;&lt;/div&gt;&#39; :
                                        &#39;&#39;
                                        ) +
                                (event.title ?
                                        &#39;&lt;div class=&quot;fc-title&quot;&gt;&#39; +
                                                htmlEscape(event.title) +
                                        &#39;&lt;/div&gt;&#39; :
                                        &#39;&#39;
                                        ) +
                        &#39;&lt;/div&gt;&#39; +
                        &#39;&lt;div class=&quot;fc-bg&quot;/&gt;&#39; +
                        (isResizable ?
                                &#39;&lt;div class=&quot;fc-resizer&quot;/&gt;&#39; :
                                &#39;&#39;
                                ) +
                &#39;&lt;/a&gt;&#39;;
},

// Generates an object with CSS properties/values that should be applied to an event segment element.
// Contains important positioning-related properties that should be applied to any event element, customized or not.
generateSegPositionCss: function(seg) {
        var shouldOverlap = this.view.opt(&#39;slotEventOverlap&#39;);
        var backwardCoord = seg.backwardCoord; // the left side if LTR. the right side if RTL. floating-point
        var forwardCoord = seg.forwardCoord; // the right side if LTR. the left side if RTL. floating-point
        var props = this.generateSegVerticalCss(seg); // get top/bottom first
        var left; // amount of space from left edge, a fraction of the total width
        var right; // amount of space from right edge, a fraction of the total width

        if (shouldOverlap) {
                // double the width, but don&#39;t go beyond the maximum forward coordinate (1.0)
                forwardCoord = Math.min(1, backwardCoord + (forwardCoord - backwardCoord) * 2);
        }

        if (this.isRTL) {
                left = 1 - forwardCoord;
                right = backwardCoord;
        }
        else {
                left = backwardCoord;
                right = 1 - forwardCoord;
        }

        props.zIndex = seg.level + 1; // convert from 0-base to 1-based
        props.left = left * 100 + &#39;%&#39;;
        props.right = right * 100 + &#39;%&#39;;

        if (shouldOverlap &amp;&amp; seg.forwardPressure) {
                // add padding to the edge so that forward stacked events don&#39;t cover the resizer&#39;s icon
                props[this.isRTL ? &#39;marginLeft&#39; : &#39;marginRight&#39;] = 10 * 2; // 10 is a guesstimate of the icon&#39;s width
        }

        return props;
},

// Generates an object with CSS properties for the top/bottom coordinates of a segment element
generateSegVerticalCss: function(seg) {
        return {
                top: seg.top,
                bottom: -seg.bottom // flipped because needs to be space beyond bottom edge of event container
        };
},

// Given a flat array of segments, return an array of sub-arrays, grouped by each segment&#39;s col
groupSegCols: function(segs) {
        var segCols = [];
        var i;

        for (i = 0; i &lt; this.colCnt; i++) {
                segCols.push([]);
        }

        for (i = 0; i &lt; segs.length; i++) {
                segCols[segs[i].col].push(segs[i]);
        }

        return segCols;
}</pre>

<p>});</p>

<p>// Given an array of segments that are all in the same column, sets the
backwardCoord and forwardCoord on each. // Also reorders the given array by
date! function placeSlotSegs(segs) {</p>

<pre>var levels;
var level0;
var i;

segs.sort(compareSegs); // order by date
levels = buildSlotSegLevels(segs);
computeForwardSlotSegs(levels);

if ((level0 = levels[0])) {

        for (i = 0; i &lt; level0.length; i++) {
                computeSlotSegPressures(level0[i]);
        }

        for (i = 0; i &lt; level0.length; i++) {
                computeSlotSegCoords(level0[i], 0, 0);
        }
}</pre>

<p>}</p>

<p>// Builds an array of segments “levels”. The first level will be the
leftmost tier of segments if the calendar is // left-to-right, or the
rightmost if the calendar is right-to-left. Assumes the segments are
already ordered by date. function buildSlotSegLevels(segs) {</p>

<pre>var levels = [];
var i, seg;
var j;

for (i=0; i&lt;segs.length; i++) {
        seg = segs[i];

        // go through all the levels and stop on the first level where there are no collisions
        for (j=0; j&lt;levels.length; j++) {
                if (!computeSlotSegCollisions(seg, levels[j]).length) {
                        break;
                }
        }

        seg.level = j;

        (levels[j] || (levels[j] = [])).push(seg);
}

return levels;</pre>

<p>}</p>

<p>// For every segment, figure out the other segments that are in subsequent
// levels that also occupy the same vertical space. Accumulate in
seg.forwardSegs function computeForwardSlotSegs(levels) {</p>

<pre>var i, level;
var j, seg;
var k;

for (i=0; i&lt;levels.length; i++) {
        level = levels[i];

        for (j=0; j&lt;level.length; j++) {
                seg = level[j];

                seg.forwardSegs = [];
                for (k=i+1; k&lt;levels.length; k++) {
                        computeSlotSegCollisions(seg, levels[k], seg.forwardSegs);
                }
        }
}</pre>

<p>}</p>

<p>// Figure out which path forward (via seg.forwardSegs) results in the
longest path until // the furthest edge is reached. The number of segments
in this path will be seg.forwardPressure function
computeSlotSegPressures(seg) {</p>

<pre>var forwardSegs = seg.forwardSegs;
var forwardPressure = 0;
var i, forwardSeg;

if (seg.forwardPressure === undefined) { // not already computed

        for (i=0; i&lt;forwardSegs.length; i++) {
                forwardSeg = forwardSegs[i];

                // figure out the child&#39;s maximum forward path
                computeSlotSegPressures(forwardSeg);

                // either use the existing maximum, or use the child&#39;s forward pressure
                // plus one (for the forwardSeg itself)
                forwardPressure = Math.max(
                        forwardPressure,
                        1 + forwardSeg.forwardPressure
                );
        }

        seg.forwardPressure = forwardPressure;
}</pre>

<p>}</p>

<p>// Calculate seg.forwardCoord and seg.backwardCoord for the segment, where
both values range // from 0 to 1. If the calendar is left-to-right, the
seg.backwardCoord maps to “left” and // seg.forwardCoord maps to “right”
(via percentage). Vice-versa if the calendar is right-to-left. // // The
segment might be part of a “series”, which means consecutive segments with
the same pressure // who&#39;s width is unknown until an edge has been hit.
`seriesBackwardPressure` is the number of // segments behind this one in
the current series, and `seriesBackwardCoord` is the starting // coordinate
of the first segment in the series. function computeSlotSegCoords(seg,
seriesBackwardPressure, seriesBackwardCoord) {</p>

<pre>var forwardSegs = seg.forwardSegs;
var i;

if (seg.forwardCoord === undefined) { // not already computed

        if (!forwardSegs.length) {

                // if there are no forward segments, this segment should butt up against the edge
                seg.forwardCoord = 1;
        }
        else {

                // sort highest pressure first
                forwardSegs.sort(compareForwardSlotSegs);

                // this segment&#39;s forwardCoord will be calculated from the backwardCoord of the
                // highest-pressure forward segment.
                computeSlotSegCoords(forwardSegs[0], seriesBackwardPressure + 1, seriesBackwardCoord);
                seg.forwardCoord = forwardSegs[0].backwardCoord;
        }

        // calculate the backwardCoord from the forwardCoord. consider the series
        seg.backwardCoord = seg.forwardCoord -
                (seg.forwardCoord - seriesBackwardCoord) / // available width for series
                (seriesBackwardPressure + 1); // # of segments in the series

        // use this segment&#39;s coordinates to computed the coordinates of the less-pressurized
        // forward segments
        for (i=0; i&lt;forwardSegs.length; i++) {
                computeSlotSegCoords(forwardSegs[i], 0, seg.forwardCoord);
        }
}</pre>

<p>}</p>

<p>// Find all the segments in `otherSegs` that vertically collide with `seg`.
// Append into an optionally-supplied `results` array and return. function
computeSlotSegCollisions(seg, otherSegs, results) {</p>

<pre>results = results || [];

for (var i=0; i&lt;otherSegs.length; i++) {
        if (isSlotSegCollision(seg, otherSegs[i])) {
                results.push(otherSegs[i]);
        }
}

return results;</pre>

<p>}</p>

<p>// Do these segments occupy the same vertical space? function
isSlotSegCollision(seg1, seg2) {</p>

<pre class="ruby"><span class="ruby-keyword">return</span> <span class="ruby-identifier">seg1</span>.<span class="ruby-identifier">bottom</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">seg2</span>.<span class="ruby-identifier">top</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">seg1</span>.<span class="ruby-identifier">top</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">seg2</span>.<span class="ruby-identifier">bottom</span>;
</pre>

<p>}</p>

<p>// A cmp function for determining which forward segment to rely on more
when computing coordinates. function compareForwardSlotSegs(seg1, seg2) {</p>

<pre>// put higher-pressure first
return seg2.forwardPressure - seg1.forwardPressure ||
        // put segments that are closer to initial edge first (and favor ones with no coords yet)
        (seg1.backwardCoord || 0) - (seg2.backwardCoord || 0) ||
        // do normal sorting...
        compareSegs(seg1, seg2);</pre>

<p>}</p>

<pre>/* An abstract class from which other views inherit from</pre>

<p>———————————————————————————————————————-*/</p>

<p>var View = fc.View = Class.extend({</p>

<pre>type: null, // subclass&#39; view name (string)
name: null, // deprecated. use `type` instead

calendar: null, // owner Calendar object
options: null, // view-specific options
coordMap: null, // a CoordMap object for converting pixel regions to dates
el: null, // the view&#39;s containing element. set by Calendar

// range the view is actually displaying (moments)
start: null,
end: null, // exclusive

// range the view is formally responsible for (moments)
// may be different from start/end. for example, a month view might have 1st-31st, excluding padded dates
intervalStart: null,
intervalEnd: null, // exclusive

intervalDuration: null, // the whole-unit duration that is being displayed
intervalUnit: null, // name of largest unit being displayed, like &quot;month&quot; or &quot;week&quot;

isSelected: false, // boolean whether a range of time is user-selected or not

// subclasses can optionally use a scroll container
scrollerEl: null, // the element that will most likely scroll when content is too tall
scrollTop: null, // cached vertical scroll value

// classNames styled by jqui themes
widgetHeaderClass: null,
widgetContentClass: null,
highlightStateClass: null,

// for date utils, computed from options
nextDayThreshold: null,
isHiddenDayHash: null,

// document handlers, bound to `this` object
documentMousedownProxy: null, // TODO: doesn&#39;t work with touch

constructor: function(calendar, viewOptions, viewType) {
        this.calendar = calendar;
        this.options = viewOptions;
        this.type = this.name = viewType; // .name is deprecated

        this.nextDayThreshold = moment.duration(this.opt(&#39;nextDayThreshold&#39;));
        this.initTheming();
        this.initHiddenDays();

        this.documentMousedownProxy = $.proxy(this, &#39;documentMousedown&#39;);

        this.initialize();
},

// A good place for subclasses to initialize member variables
initialize: function() {
        // subclasses can implement
},

// Retrieves an option with the given name
opt: function(name) {
        var val;

        val = this.options[name]; // look at view-specific options first
        if (val !== undefined) {
                return val;
        }

        val = this.calendar.options[name];
        if ($.isPlainObject(val) &amp;&amp; !isForcedAtomicOption(name)) { // view-option-hashes are deprecated
                return smartProperty(val, this.type);
        }

        return val;
},

// Triggers handlers that are view-related. Modifies args before passing to calendar.
trigger: function(name, thisObj) { // arguments beyond thisObj are passed along
        var calendar = this.calendar;

        return calendar.trigger.apply(
                calendar,
                [name, thisObj || this].concat(
                        Array.prototype.slice.call(arguments, 2), // arguments beyond thisObj
                        [ this ] // always make the last argument a reference to the view. TODO: deprecate
                )
        );
},

/* Dates
------------------------------------------------------------------------------------------------------------------*/

// Updates all internal dates to center around the given current date
setDate: function(date) {
        this.setRange(this.computeRange(date));
},

// Updates all internal dates for displaying the given range.
// Expects all values to be normalized (like what computeRange does).
setRange: function(range) {
        $.extend(this, range);
},

// Given a single current date, produce information about what range to display.
// Subclasses can override. Must return all properties.
computeRange: function(date) {
        var intervalDuration = moment.duration(this.opt(&#39;duration&#39;) || this.constructor.duration || { days: 1 });
        var intervalUnit = computeIntervalUnit(intervalDuration);
        var intervalStart = date.clone().startOf(intervalUnit);
        var intervalEnd = intervalStart.clone().add(intervalDuration);
        var start, end;

        // normalize the range&#39;s time-ambiguity
        if (computeIntervalAs(&#39;days&#39;, intervalDuration)) { // whole-days?
                intervalStart.stripTime();
                intervalEnd.stripTime();
        }
        else { // needs to have a time?
                if (!intervalStart.hasTime()) {
                        intervalStart = this.calendar.rezoneDate(intervalStart); // convert to current timezone, with 00:00
                }
                if (!intervalEnd.hasTime()) {
                        intervalEnd = this.calendar.rezoneDate(intervalEnd); // convert to current timezone, with 00:00
                }
        }

        start = intervalStart.clone();
        start = this.skipHiddenDays(start);
        end = intervalEnd.clone();
        end = this.skipHiddenDays(end, -1, true); // exclusively move backwards

        return {
                intervalDuration: intervalDuration,
                intervalUnit: intervalUnit,
                intervalStart: intervalStart,
                intervalEnd: intervalEnd,
                start: start,
                end: end
        };
},

// Computes the new date when the user hits the prev button, given the current date
computePrevDate: function(date) {
        return this.skipHiddenDays(
                date.clone().startOf(this.intervalUnit).subtract(this.intervalDuration), -1
        );
},

// Computes the new date when the user hits the next button, given the current date
computeNextDate: function(date) {
        return this.skipHiddenDays(
                date.clone().startOf(this.intervalUnit).add(this.intervalDuration)
        );
},

/* Title and Date Formatting
------------------------------------------------------------------------------------------------------------------*/

// Computes what the title at the top of the calendar should be for this view
computeTitle: function() {
        return this.formatRange(
                { start: this.intervalStart, end: this.intervalEnd },
                this.opt(&#39;titleFormat&#39;) || this.computeTitleFormat(),
                this.opt(&#39;titleRangeSeparator&#39;)
        );
},

// Generates the format string that should be used to generate the title for the current date range.
// Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.
computeTitleFormat: function() {
        if (this.intervalUnit == &#39;year&#39;) {
                return &#39;YYYY&#39;;
        }
        else if (this.intervalUnit == &#39;month&#39;) {
                return this.opt(&#39;monthYearFormat&#39;); // like &quot;September 2014&quot;
        }
        else if (this.intervalDuration.as(&#39;days&#39;) &gt; 1) {
                return &#39;ll&#39;; // multi-day range. shorter, like &quot;Sep 9 - 10 2014&quot;
        }
        else {
                return &#39;LL&#39;; // one day. longer, like &quot;September 9 2014&quot;
        }
},

// Utility for formatting a range. Accepts a range object, formatting string, and optional separator.
// Displays all-day ranges naturally, with an inclusive end. Takes the current isRTL into account.
formatRange: function(range, formatStr, separator) {
        var end = range.end;

        if (!end.hasTime()) { // all-day?
                end = end.clone().subtract(1); // convert to inclusive. last ms of previous day
        }

        return formatRange(range.start, end, formatStr, separator, this.opt(&#39;isRTL&#39;));
},

/* Rendering
------------------------------------------------------------------------------------------------------------------*/

// Wraps the basic render() method with more View-specific logic. Called by the owner Calendar.
renderView: function() {
        this.render();
        this.updateSize();
        this.initializeScroll();
        this.trigger(&#39;viewRender&#39;, this, this, this.el);

        // attach handlers to document. do it here to allow for destroy/rerender
        $(document).on(&#39;mousedown&#39;, this.documentMousedownProxy);
},

// Renders the view inside an already-defined `this.el`
render: function() {
        // subclasses should implement
},

// Wraps the basic destroy() method with more View-specific logic. Called by the owner Calendar.
destroyView: function() {
        this.unselect();
        this.destroyViewEvents();
        this.destroy();
        this.trigger(&#39;viewDestroy&#39;, this, this, this.el);

        $(document).off(&#39;mousedown&#39;, this.documentMousedownProxy);
},

// Clears the view&#39;s rendering
destroy: function() {
        this.el.empty(); // removes inner contents but leaves the element intact
},

// Initializes internal variables related to theming
initTheming: function() {
        var tm = this.opt(&#39;theme&#39;) ? &#39;ui&#39; : &#39;fc&#39;;

        this.widgetHeaderClass = tm + &#39;-widget-header&#39;;
        this.widgetContentClass = tm + &#39;-widget-content&#39;;
        this.highlightStateClass = tm + &#39;-state-highlight&#39;;
},

/* Dimensions
------------------------------------------------------------------------------------------------------------------*/

// Refreshes anything dependant upon sizing of the container element of the grid
updateSize: function(isResize) {
        if (isResize) {
                this.recordScroll();
        }
        this.updateHeight();
        this.updateWidth();
},

// Refreshes the horizontal dimensions of the calendar
updateWidth: function() {
        // subclasses should implement
},

// Refreshes the vertical dimensions of the calendar
updateHeight: function() {
        var calendar = this.calendar; // we poll the calendar for height information

        this.setHeight(
                calendar.getSuggestedViewHeight(),
                calendar.isHeightAuto()
        );
},

// Updates the vertical dimensions of the calendar to the specified height.
// if `isAuto` is set to true, height becomes merely a suggestion and the view should use its &quot;natural&quot; height.
setHeight: function(height, isAuto) {
        // subclasses should implement
},

/* Scroller
------------------------------------------------------------------------------------------------------------------*/

// Given the total height of the view, return the number of pixels that should be used for the scroller.
// By default, uses this.scrollerEl, but can pass this in as well.
// Utility for subclasses.
computeScrollerHeight: function(totalHeight, scrollerEl) {
        var both;
        var otherHeight; // cumulative height of everything that is not the scrollerEl in the view (header+borders)

        scrollerEl = scrollerEl || this.scrollerEl;
        both = this.el.add(scrollerEl);

        // fuckin IE8/9/10/11 sometimes returns 0 for dimensions. this weird hack was the only thing that worked
        both.css({
                position: &#39;relative&#39;, // cause a reflow, which will force fresh dimension recalculation
                left: -1 // ensure reflow in case the el was already relative. negative is less likely to cause new scroll
        });
        otherHeight = this.el.outerHeight() - scrollerEl.height(); // grab the dimensions
        both.css({ position: &#39;&#39;, left: &#39;&#39; }); // undo hack

        return totalHeight - otherHeight;
},

// Sets the scroll value of the scroller to the initial pre-configured state prior to allowing the user to change it
initializeScroll: function() {
},

// Called for remembering the current scroll value of the scroller.
// Should be called before there is a destructive operation (like removing DOM elements) that might inadvertently
// change the scroll of the container.
recordScroll: function() {
        if (this.scrollerEl) {
                this.scrollTop = this.scrollerEl.scrollTop();
        }
},

// Set the scroll value of the scroller to the previously recorded value.
// Should be called after we know the view&#39;s dimensions have been restored following some type of destructive
// operation (like temporarily removing DOM elements).
restoreScroll: function() {
        if (this.scrollTop !== null) {
                this.scrollerEl.scrollTop(this.scrollTop);
        }
},

/* Event Elements / Segments
------------------------------------------------------------------------------------------------------------------*/

// Wraps the basic renderEvents() method with more View-specific logic
renderViewEvents: function(events) {
        this.renderEvents(events);

        this.eventSegEach(function(seg) {
                this.trigger(&#39;eventAfterRender&#39;, seg.event, seg.event, seg.el);
        });
        this.trigger(&#39;eventAfterAllRender&#39;);
},

// Renders the events onto the view.
renderEvents: function() {
        // subclasses should implement
},

// Wraps the basic destroyEvents() method with more View-specific logic
destroyViewEvents: function() {
        this.eventSegEach(function(seg) {
                this.trigger(&#39;eventDestroy&#39;, seg.event, seg.event, seg.el);
        });

        this.destroyEvents();
},

// Removes event elements from the view.
destroyEvents: function() {
        // subclasses should implement
},

// Given an event and the default element used for rendering, returns the element that should actually be used.
// Basically runs events and elements through the eventRender hook.
resolveEventEl: function(event, el) {
        var custom = this.trigger(&#39;eventRender&#39;, event, event, el);

        if (custom === false) { // means don&#39;t render at all
                el = null;
        }
        else if (custom &amp;&amp; custom !== true) {
                el = $(custom);
        }

        return el;
},

// Hides all rendered event segments linked to the given event
showEvent: function(event) {
        this.eventSegEach(function(seg) {
                seg.el.css(&#39;visibility&#39;, &#39;&#39;);
        }, event);
},

// Shows all rendered event segments linked to the given event
hideEvent: function(event) {
        this.eventSegEach(function(seg) {
                seg.el.css(&#39;visibility&#39;, &#39;hidden&#39;);
        }, event);
},

// Iterates through event segments. Goes through all by default.
// If the optional `event` argument is specified, only iterates through segments linked to that event.
// The `this` value of the callback function will be the view.
eventSegEach: function(func, event) {
        var segs = this.getEventSegs();
        var i;

        for (i = 0; i &lt; segs.length; i++) {
                if (!event || segs[i].event._id === event._id) {
                        func.call(this, segs[i]);
                }
        }
},

// Retrieves all the rendered segment objects for the view
getEventSegs: function() {
        // subclasses must implement
        return [];
},

/* Event Drag-n-Drop
------------------------------------------------------------------------------------------------------------------*/

// Computes if the given event is allowed to be dragged by the user
isEventDraggable: function(event) {
        var source = event.source || {};

        return firstDefined(
                event.startEditable,
                source.startEditable,
                this.opt(&#39;eventStartEditable&#39;),
                event.editable,
                source.editable,
                this.opt(&#39;editable&#39;)
        );
},

// Must be called when an event in the view is dropped onto new location.
// `dropLocation` is an object that contains the new start/end/allDay values for the event.
reportEventDrop: function(event, dropLocation, el, ev) {
        var calendar = this.calendar;
        var mutateResult = calendar.mutateEvent(event, dropLocation);
        var undoFunc = function() {
                mutateResult.undo();
                calendar.reportEventChange();
        };

        this.triggerEventDrop(event, mutateResult.dateDelta, undoFunc, el, ev);
        calendar.reportEventChange(); // will rerender events
},

// Triggers event-drop handlers that have subscribed via the API
triggerEventDrop: function(event, dateDelta, undoFunc, el, ev) {
        this.trigger(&#39;eventDrop&#39;, el[0], event, dateDelta, undoFunc, ev, {}); // {} = jqui dummy
},

/* External Element Drag-n-Drop
------------------------------------------------------------------------------------------------------------------*/

// Must be called when an external element, via jQuery UI, has been dropped onto the calendar.
// `meta` is the parsed data that has been embedded into the dragging event.
// `dropLocation` is an object that contains the new start/end/allDay values for the event.
reportExternalDrop: function(meta, dropLocation, el, ev, ui) {
        var eventProps = meta.eventProps;
        var eventInput;
        var event;

        // Try to build an event object and render it. TODO: decouple the two
        if (eventProps) {
                eventInput = $.extend({}, eventProps, dropLocation);
                event = this.calendar.renderEvent(eventInput, meta.stick)[0]; // renderEvent returns an array
        }

        this.triggerExternalDrop(event, dropLocation, el, ev, ui);
},

// Triggers external-drop handlers that have subscribed via the API
triggerExternalDrop: function(event, dropLocation, el, ev, ui) {

        // trigger &#39;drop&#39; regardless of whether element represents an event
        this.trigger(&#39;drop&#39;, el[0], dropLocation.start, ev, ui);

        if (event) {
                this.trigger(&#39;eventReceive&#39;, null, event); // signal an external event landed
        }
},

/* Drag-n-Drop Rendering (for both events and external elements)
------------------------------------------------------------------------------------------------------------------*/

// Renders a visual indication of a event or external-element drag over the given drop zone.
// If an external-element, seg will be `null`
renderDrag: function(dropLocation, seg) {
        // subclasses must implement
},

// Unrenders a visual indication of an event or external-element being dragged.
destroyDrag: function() {
        // subclasses must implement
},

/* Event Resizing
------------------------------------------------------------------------------------------------------------------*/

// Computes if the given event is allowed to be resize by the user
isEventResizable: function(event) {
        var source = event.source || {};

        return firstDefined(
                event.durationEditable,
                source.durationEditable,
                this.opt(&#39;eventDurationEditable&#39;),
                event.editable,
                source.editable,
                this.opt(&#39;editable&#39;)
        );
},

// Must be called when an event in the view has been resized to a new length
reportEventResize: function(event, newEnd, el, ev) {
        var calendar = this.calendar;
        var mutateResult = calendar.mutateEvent(event, { end: newEnd });
        var undoFunc = function() {
                mutateResult.undo();
                calendar.reportEventChange();
        };

        this.triggerEventResize(event, mutateResult.durationDelta, undoFunc, el, ev);
        calendar.reportEventChange(); // will rerender events
},

// Triggers event-resize handlers that have subscribed via the API
triggerEventResize: function(event, durationDelta, undoFunc, el, ev) {
        this.trigger(&#39;eventResize&#39;, el[0], event, durationDelta, undoFunc, ev, {}); // {} = jqui dummy
},

/* Selection
------------------------------------------------------------------------------------------------------------------*/

// Selects a date range on the view. `start` and `end` are both Moments.
// `ev` is the native mouse event that begin the interaction.
select: function(range, ev) {
        this.unselect(ev);
        this.renderSelection(range);
        this.reportSelection(range, ev);
},

// Renders a visual indication of the selection
renderSelection: function(range) {
        // subclasses should implement
},

// Called when a new selection is made. Updates internal state and triggers handlers.
reportSelection: function(range, ev) {
        this.isSelected = true;
        this.trigger(&#39;select&#39;, null, range.start, range.end, ev);
},

// Undoes a selection. updates in the internal state and triggers handlers.
// `ev` is the native mouse event that began the interaction.
unselect: function(ev) {
        if (this.isSelected) {
                this.isSelected = false;
                this.destroySelection();
                this.trigger(&#39;unselect&#39;, null, ev);
        }
},

// Unrenders a visual indication of selection
destroySelection: function() {
        // subclasses should implement
},

// Handler for unselecting when the user clicks something and the &#39;unselectAuto&#39; setting is on
documentMousedown: function(ev) {
        var ignore;

        // is there a selection, and has the user made a proper left click?
        if (this.isSelected &amp;&amp; this.opt(&#39;unselectAuto&#39;) &amp;&amp; isPrimaryMouseButton(ev)) {

                // only unselect if the clicked element is not identical to or inside of an &#39;unselectCancel&#39; element
                ignore = this.opt(&#39;unselectCancel&#39;);
                if (!ignore || !$(ev.target).closest(ignore).length) {
                        this.unselect(ev);
                }
        }
},

/* Date Utils
------------------------------------------------------------------------------------------------------------------*/

// Initializes internal variables related to calculating hidden days-of-week
initHiddenDays: function() {
        var hiddenDays = this.opt(&#39;hiddenDays&#39;) || []; // array of day-of-week indices that are hidden
        var isHiddenDayHash = []; // is the day-of-week hidden? (hash with day-of-week-index -&gt; bool)
        var dayCnt = 0;
        var i;

        if (this.opt(&#39;weekends&#39;) === false) {
                hiddenDays.push(0, 6); // 0=sunday, 6=saturday
        }

        for (i = 0; i &lt; 7; i++) {
                if (
                        !(isHiddenDayHash[i] = $.inArray(i, hiddenDays) !== -1)
                ) {
                        dayCnt++;
                }
        }

        if (!dayCnt) {
                throw &#39;invalid hiddenDays&#39;; // all days were hidden? bad.
        }

        this.isHiddenDayHash = isHiddenDayHash;
},

// Is the current day hidden?
// `day` is a day-of-week index (0-6), or a Moment
isHiddenDay: function(day) {
        if (moment.isMoment(day)) {
                day = day.day();
        }
        return this.isHiddenDayHash[day];
},

// Incrementing the current day until it is no longer a hidden day, returning a copy.
// If the initial value of `date` is not a hidden day, don&#39;t do anything.
// Pass `isExclusive` as `true` if you are dealing with an end date.
// `inc` defaults to `1` (increment one day forward each time)
skipHiddenDays: function(date, inc, isExclusive) {
        var out = date.clone();
        inc = inc || 1;
        while (
                this.isHiddenDayHash[(out.day() + (isExclusive ? inc : 0) + 7) % 7]
        ) {
                out.add(inc, &#39;days&#39;);
        }
        return out;
},

// Returns the date range of the full days the given range visually appears to occupy.
// Returns a new range object.
computeDayRange: function(range) {
        var startDay = range.start.clone().stripTime(); // the beginning of the day the range starts
        var end = range.end;
        var endDay = null;
        var endTimeMS;

        if (end) {
                endDay = end.clone().stripTime(); // the beginning of the day the range exclusively ends
                endTimeMS = +end.time(); // # of milliseconds into `endDay`

                // If the end time is actually inclusively part of the next day and is equal to or
                // beyond the next day threshold, adjust the end to be the exclusive end of `endDay`.
                // Otherwise, leaving it as inclusive will cause it to exclude `endDay`.
                if (endTimeMS &amp;&amp; endTimeMS &gt;= this.nextDayThreshold) {
                        endDay.add(1, &#39;days&#39;);
                }
        }

        // If no end was specified, or if it is within `startDay` but not past nextDayThreshold,
        // assign the default duration of one day.
        if (!end || endDay &lt;= startDay) {
                endDay = startDay.clone().add(1, &#39;days&#39;);
        }

        return { start: startDay, end: endDay };
},

// Does the given event visually appear to occupy more than one day?
isMultiDayEvent: function(event) {
        var range = this.computeDayRange(event); // event is range-ish

        return range.end.diff(range.start, &#39;days&#39;) &gt; 1;
}</pre>

<p>});</p>

<pre>function Calendar(element, instanceOptions) {
    var t = this;

    // Build options object
    // -----------------------------------------------------------------------------------
    // Precedence (lowest to highest): defaults, rtlDefaults, langOptions, instanceOptions

    instanceOptions = instanceOptions || {};

    var options = mergeOptions({}, defaults, instanceOptions);
    var langOptions;

    // determine language options
    if (options.lang in langOptionHash) {
            langOptions = langOptionHash[options.lang];
    }
    else {
            langOptions = langOptionHash[defaults.lang];
    }

    if (langOptions) { // if language options exist, rebuild...
            options = mergeOptions({}, defaults, langOptions, instanceOptions);
    }

    if (options.isRTL) { // is isRTL, rebuild...
            options = mergeOptions({}, defaults, rtlDefaults, langOptions || {}, instanceOptions);
    }

    // Exports
    // -----------------------------------------------------------------------------------

    t.options = options;
    t.render = render;
    t.destroy = destroy;
    t.refetchEvents = refetchEvents;
    t.reportEvents = reportEvents;
    t.reportEventChange = reportEventChange;
    t.rerenderEvents = renderEvents; // `renderEvents` serves as a rerender. an API method
    t.changeView = changeView;
    t.select = select;
    t.unselect = unselect;
    t.prev = prev;
    t.next = next;
    t.prevYear = prevYear;
    t.nextYear = nextYear;
    t.today = today;
    t.gotoDate = gotoDate;
    t.incrementDate = incrementDate;
    t.zoomTo = zoomTo;
    t.getDate = getDate;
    t.getCalendar = getCalendar;
    t.getView = getView;
    t.option = option;
    t.trigger = trigger;
    t.isValidViewType = isValidViewType;
    t.getViewButtonText = getViewButtonText;

    // Language-data Internals
    // -----------------------------------------------------------------------------------
    // Apply overrides to the current language&#39;s data

    var localeData = createObject( // make a cheap copy
            getMomentLocaleData(options.lang) // will fall back to en
    );

    if (options.monthNames) {
            localeData._months = options.monthNames;
    }
    if (options.monthNamesShort) {
            localeData._monthsShort = options.monthNamesShort;
    }
    if (options.dayNames) {
            localeData._weekdays = options.dayNames;
    }
    if (options.dayNamesShort) {
            localeData._weekdaysShort = options.dayNamesShort;
    }
    if (options.firstDay != null) {
            var _week = createObject(localeData._week); // _week: { dow: # }
            _week.dow = options.firstDay;
            localeData._week = _week;
    }

    // Calendar-specific Date Utilities
    // -----------------------------------------------------------------------------------

    t.defaultAllDayEventDuration = moment.duration(options.defaultAllDayEventDuration);
    t.defaultTimedEventDuration = moment.duration(options.defaultTimedEventDuration);

    // Builds a moment using the settings of the current calendar: timezone and language.
    // Accepts anything the vanilla moment() constructor accepts.
    t.moment = function() {
            var mom;

            if (options.timezone === &#39;local&#39;) {
                    mom = fc.moment.apply(null, arguments);

                    // Force the moment to be local, because fc.moment doesn&#39;t guarantee it.
                    if (mom.hasTime()) { // don&#39;t give ambiguously-timed moments a local zone
                            mom.local();
                    }
            }
            else if (options.timezone === &#39;UTC&#39;) {
                    mom = fc.moment.utc.apply(null, arguments); // process as UTC
            }
            else {
                    mom = fc.moment.parseZone.apply(null, arguments); // let the input decide the zone
            }

            if (&#39;_locale&#39; in mom) { // moment 2.8 and above
                    mom._locale = localeData;
            }
            else { // pre-moment-2.8
                    mom._lang = localeData;
            }

            return mom;
    };

    // Returns a boolean about whether or not the calendar knows how to calculate
    // the timezone offset of arbitrary dates in the current timezone.
    t.getIsAmbigTimezone = function() {
            return options.timezone !== &#39;local&#39; &amp;&amp; options.timezone !== &#39;UTC&#39;;
    };

    // Returns a copy of the given date in the current timezone of it is ambiguously zoned.
    // This will also give the date an unambiguous time.
    t.rezoneDate = function(date) {
            return t.moment(date.toArray());
    };

    // Returns a moment for the current date, as defined by the client&#39;s computer,
    // or overridden by the `now` option.
    t.getNow = function() {
            var now = options.now;
            if (typeof now === &#39;function&#39;) {
                    now = now();
            }
            return t.moment(now);
    };

    // Calculates the week number for a moment according to the calendar&#39;s
    // `weekNumberCalculation` setting.
    t.calculateWeekNumber = function(mom) {
            var calc = options.weekNumberCalculation;

            if (typeof calc === &#39;function&#39;) {
                    return calc(mom);
            }
            else if (calc === &#39;local&#39;) {
                    return mom.week();
            }
            else if (calc.toUpperCase() === &#39;ISO&#39;) {
                    return mom.isoWeek();
            }
    };

    // Get an event&#39;s normalized end date. If not present, calculate it from the defaults.
    t.getEventEnd = function(event) {
            if (event.end) {
                    return event.end.clone();
            }
            else {
                    return t.getDefaultEventEnd(event.allDay, event.start);
            }
    };

    // Given an event&#39;s allDay status and start date, return swhat its fallback end date should be.
    t.getDefaultEventEnd = function(allDay, start) { // TODO: rename to computeDefaultEventEnd
            var end = start.clone();

            if (allDay) {
                    end.stripTime().add(t.defaultAllDayEventDuration);
            }
            else {
                    end.add(t.defaultTimedEventDuration);
            }

            if (t.getIsAmbigTimezone()) {
                    end.stripZone(); // we don&#39;t know what the tzo should be
            }

            return end;
    };

    // Produces a human-readable string for the given duration.
    // Side-effect: changes the locale of the given duration.
    function humanizeDuration(duration) {
            return (duration.locale || duration.lang).call(duration, options.lang) // works moment-pre-2.8
                    .humanize();
    }

    // Imports
    // -----------------------------------------------------------------------------------

    EventManager.call(t, options);
    var isFetchNeeded = t.isFetchNeeded;
    var fetchEvents = t.fetchEvents;

    // Locals
    // -----------------------------------------------------------------------------------

    var _element = element[0];
    var header;
    var headerElement;
    var content;
    var tm; // for making theme classes
    var viewSpecCache = {};
    var currentView;
    var suggestedViewHeight;
    var windowResizeProxy; // wraps the windowResize function
    var ignoreWindowResize = 0;
    var date;
    var events = [];

    // Main Rendering
    // -----------------------------------------------------------------------------------

    if (options.defaultDate != null) {
            date = t.moment(options.defaultDate);
    }
    else {
            date = t.getNow();
    }

    function render(inc) {
            if (!content) {
                    initialRender();
            }
            else if (elementVisible()) {
                    // mainly for the public API
                    calcSize();
                    renderView(inc);
            }
    }

    function initialRender() {
            tm = options.theme ? &#39;ui&#39; : &#39;fc&#39;;
            element.addClass(&#39;fc&#39;);

            if (options.isRTL) {
                    element.addClass(&#39;fc-rtl&#39;);
            }
            else {
                    element.addClass(&#39;fc-ltr&#39;);
            }

            if (options.theme) {
                    element.addClass(&#39;ui-widget&#39;);
            }
            else {
                    element.addClass(&#39;fc-unthemed&#39;);
            }

            content = $(&quot;&lt;div class=&#39;fc-view-container&#39;/&gt;&quot;).prependTo(element);

            header = new Header(t, options);
            headerElement = header.render();
            if (headerElement) {
                    element.prepend(headerElement);
            }

            changeView(options.defaultView);

            if (options.handleWindowResize) {
                    windowResizeProxy = debounce(windowResize, options.windowResizeDelay); // prevents rapid calls
                    $(window).resize(windowResizeProxy);
            }
    }

    function destroy() {

            if (currentView) {
                    currentView.destroyView();
            }

            header.destroy();
            content.remove();
            element.removeClass(&#39;fc fc-ltr fc-rtl fc-unthemed ui-widget&#39;);

            $(window).unbind(&#39;resize&#39;, windowResizeProxy);
    }

    function elementVisible() {
            return element.is(&#39;:visible&#39;);
    }

    // View Rendering
    // -----------------------------------------------------------------------------------

    function changeView(viewType) {
            renderView(0, viewType);
    }

    // Renders a view because of a date change, view-type change, or for the first time
    function renderView(delta, viewType) {
            ignoreWindowResize++;

            // if viewType is changing, destroy the old view
            if (currentView &amp;&amp; viewType &amp;&amp; currentView.type !== viewType) {
                    header.deactivateButton(currentView.type);
                    freezeContentHeight(); // prevent a scroll jump when view element is removed
                    if (currentView.start) { // rendered before?
                            currentView.destroyView();
                    }
                    currentView.el.remove();
                    currentView = null;
            }

            // if viewType changed, or the view was never created, create a fresh view
            if (!currentView &amp;&amp; viewType) {
                    currentView = instantiateView(viewType);
                    currentView.el =  $(&quot;&lt;div class=&#39;fc-view fc-&quot; + viewType + &quot;-view&#39; /&gt;&quot;).appendTo(content);
                    header.activateButton(viewType);
            }

            if (currentView) {

                    // let the view determine what the delta means
                    if (delta &lt; 0) {
                            date = currentView.computePrevDate(date);
                    }
                    else if (delta &gt; 0) {
                            date = currentView.computeNextDate(date);
                    }

                    // render or rerender the view
                    if (
                            !currentView.start || // never rendered before
                            delta || // explicit date window change
                            !date.isWithin(currentView.intervalStart, currentView.intervalEnd) // implicit date window change
                    ) {
                            if (elementVisible()) {

                                    freezeContentHeight();
                                    if (currentView.start) { // rendered before?
                                            currentView.destroyView();
                                    }
                                    currentView.setDate(date);
                                    currentView.renderView();
                                    unfreezeContentHeight();

                                    // need to do this after View::render, so dates are calculated
                                    updateTitle();
                                    updateTodayButton();

                                    getAndRenderEvents();
                            }
                    }
            }

            unfreezeContentHeight(); // undo any lone freezeContentHeight calls
            ignoreWindowResize--;
    }

    // View Instantiation
    // -----------------------------------------------------------------------------------

    // Given a view name for a custom view or a standard view, creates a ready-to-go View object
    function instantiateView(viewType) {
            var spec = getViewSpec(viewType);

            return new spec[&#39;class&#39;](t, spec.options, viewType);
    }

    // Gets information about how to create a view
    function getViewSpec(requestedViewType) {
            var allDefaultButtonText = options.defaultButtonText || {};
            var allButtonText = options.buttonText || {};
            var hash = options.views || {}; // the `views` option object
            var viewType = requestedViewType;
            var viewOptionsChain = [];
            var viewOptions;
            var viewClass;
            var duration, unit, unitIsSingle = false;
            var buttonText;

            if (viewSpecCache[requestedViewType]) {
                    return viewSpecCache[requestedViewType];
            }

            function processSpecInput(input) {
                    if (typeof input === &#39;function&#39;) {
                            viewClass = input;
                    }
                    else if (typeof input === &#39;object&#39;) {
                            $.extend(viewOptions, input);
                    }
            }

            // iterate up a view&#39;s spec ancestor chain util we find a class to instantiate
            while (viewType &amp;&amp; !viewClass) {
                    viewOptions = {}; // only for this specific view in the ancestry
                    processSpecInput(fcViews[viewType]); // $.fullCalendar.views, lower precedence
                    processSpecInput(hash[viewType]); // options at initialization, higher precedence
                    viewOptionsChain.unshift(viewOptions); // record older ancestors first
                    viewType = viewOptions.type;
            }

            viewOptionsChain.unshift({}); // jQuery&#39;s extend needs at least one arg
            viewOptions = $.extend.apply($, viewOptionsChain); // combine all, newer ancestors overwritting old

            if (viewClass) {

                    duration = viewOptions.duration || viewClass.duration;
                    if (duration) {
                            duration = moment.duration(duration);
                            unit = computeIntervalUnit(duration);
                            unitIsSingle = computeIntervalAs(unit, duration) === 1;
                    }

                    // options that are specified per the view&#39;s duration, like &quot;week&quot; or &quot;day&quot;
                    if (unitIsSingle &amp;&amp; hash[unit]) {
                            viewOptions = $.extend({}, hash[unit], viewOptions); // lowest priority
                    }

                    // compute the final text for the button representing this view
                    buttonText =
                            allButtonText[requestedViewType] || // init options, like &quot;agendaWeek&quot;
                            (unitIsSingle ? allButtonText[unit] : null) || // init options, like &quot;week&quot;
                            allDefaultButtonText[requestedViewType] || // lang data, like &quot;agendaWeek&quot;
                            (unitIsSingle ? allDefaultButtonText[unit] : null) || // lang data, like &quot;week&quot;
                            viewOptions.buttonText ||
                            viewClass.buttonText ||
                            (duration ? humanizeDuration(duration) : null) ||
                            requestedViewType;

                    return (viewSpecCache[requestedViewType] = {
                            &#39;class&#39;: viewClass,
                            options: viewOptions,
                            buttonText: buttonText
                    });
            }
    }

    // Returns a boolean about whether the view is okay to instantiate at some point
    function isValidViewType(viewType) {
            return Boolean(getViewSpec(viewType));
    }

    // Gets the text that should be displayed on a view&#39;s button in the header
    function getViewButtonText(viewType) {
            var spec = getViewSpec(viewType);

            if (spec) {
                    return spec.buttonText;
            }
    }

    // Resizing
    // -----------------------------------------------------------------------------------

    t.getSuggestedViewHeight = function() {
            if (suggestedViewHeight === undefined) {
                    calcSize();
            }
            return suggestedViewHeight;
    };

    t.isHeightAuto = function() {
            return options.contentHeight === &#39;auto&#39; || options.height === &#39;auto&#39;;
    };

    function updateSize(shouldRecalc) {
            if (elementVisible()) {

                    if (shouldRecalc) {
                            _calcSize();
                    }

                    ignoreWindowResize++;
                    currentView.updateSize(true); // isResize=true. will poll getSuggestedViewHeight() and isHeightAuto()
                    ignoreWindowResize--;

                    return true; // signal success
            }
    }

    function calcSize() {
            if (elementVisible()) {
                    _calcSize();
            }
    }

    function _calcSize() { // assumes elementVisible
            if (typeof options.contentHeight === &#39;number&#39;) { // exists and not &#39;auto&#39;
                    suggestedViewHeight = options.contentHeight;
            }
            else if (typeof options.height === &#39;number&#39;) { // exists and not &#39;auto&#39;
                    suggestedViewHeight = options.height - (headerElement ? headerElement.outerHeight(true) : 0);
            }
            else {
                    suggestedViewHeight = Math.round(content.width() / Math.max(options.aspectRatio, .5));
            }
    }

    function windowResize(ev) {
            if (
                    !ignoreWindowResize &amp;&amp;
                    ev.target === window &amp;&amp; // so we don&#39;t process jqui &quot;resize&quot; events that have bubbled up
                    currentView.start // view has already been rendered
            ) {
                    if (updateSize(true)) {
                            currentView.trigger(&#39;windowResize&#39;, _element);
                    }
            }
    }

    /* Event Fetching/Rendering
    -----------------------------------------------------------------------------*/
    // TODO: going forward, most of this stuff should be directly handled by the view

    function refetchEvents() { // can be called as an API method
            destroyEvents(); // so that events are cleared before user starts waiting for AJAX
            fetchAndRenderEvents();
    }

    function renderEvents() { // destroys old events if previously rendered
            if (elementVisible()) {
                    freezeContentHeight();
                    currentView.destroyViewEvents(); // no performance cost if never rendered
                    currentView.renderViewEvents(events);
                    unfreezeContentHeight();
            }
    }

    function destroyEvents() {
            freezeContentHeight();
            currentView.destroyViewEvents();
            unfreezeContentHeight();
    }

    function getAndRenderEvents() {
            if (!options.lazyFetching || isFetchNeeded(currentView.start, currentView.end)) {
                    fetchAndRenderEvents();
            }
            else {
                    renderEvents();
            }
    }

    function fetchAndRenderEvents() {
            fetchEvents(currentView.start, currentView.end);
                    // ... will call reportEvents
                    // ... which will call renderEvents
    }

    // called when event data arrives
    function reportEvents(_events) {
            events = _events;
            renderEvents();
    }

    // called when a single event&#39;s data has been changed
    function reportEventChange() {
            renderEvents();
    }

    /* Header Updating
    -----------------------------------------------------------------------------*/

    function updateTitle() {
            header.updateTitle(currentView.computeTitle());
    }

    function updateTodayButton() {
            var now = t.getNow();
            if (now.isWithin(currentView.intervalStart, currentView.intervalEnd)) {
                    header.disableButton(&#39;today&#39;);
            }
            else {
                    header.enableButton(&#39;today&#39;);
            }
    }

    /* Selection
    -----------------------------------------------------------------------------*/

    function select(start, end) {

            start = t.moment(start);
            if (end) {
                    end = t.moment(end);
            }
            else if (start.hasTime()) {
                    end = start.clone().add(t.defaultTimedEventDuration);
            }
            else {
                    end = start.clone().add(t.defaultAllDayEventDuration);
            }

            currentView.select({ start: start, end: end }); // accepts a range
    }

    function unselect() { // safe to be called before renderView
            if (currentView) {
                    currentView.unselect();
            }
    }

    /* Date
    -----------------------------------------------------------------------------*/

    function prev() {
            renderView(-1);
    }

    function next() {
            renderView(1);
    }

    function prevYear() {
            date.add(-1, &#39;years&#39;);
            renderView();
    }

    function nextYear() {
            date.add(1, &#39;years&#39;);
            renderView();
    }

    function today() {
            date = t.getNow();
            renderView();
    }

    function gotoDate(dateInput) {
            date = t.moment(dateInput);
            renderView();
    }

    function incrementDate(delta) {
            date.add(moment.duration(delta));
            renderView();
    }

    // Forces navigation to a view for the given date.
    // `viewType` can be a specific view name or a generic one like &quot;week&quot; or &quot;day&quot;.
    function zoomTo(newDate, viewType) {
            var viewStr;
            var match;

            if (!viewType || !isValidViewType(viewType)) { // a general view name, or &quot;auto&quot;
                    viewType = viewType || &#39;day&#39;;
                    viewStr = header.getViewsWithButtons().join(&#39; &#39;); // space-separated string of all the views in the header

                    // try to match a general view name, like &quot;week&quot;, against a specific one, like &quot;agendaWeek&quot;
                    match = viewStr.match(new RegExp(&#39;\\w+&#39; + capitaliseFirstLetter(viewType)));

                    // fall back to the day view being used in the header
                    if (!match) {
                            match = viewStr.match(/\w+Day/);
                    }

                    viewType = match ? match[0] : &#39;agendaDay&#39;; // fall back to agendaDay
            }

            date = newDate;
            changeView(viewType);
    }

    function getDate() {
            return date.clone();
    }

    /* Height &quot;Freezing&quot;
    -----------------------------------------------------------------------------*/

    function freezeContentHeight() {
            content.css({
                    width: &#39;100%&#39;,
                    height: content.height(),
                    overflow: &#39;hidden&#39;
            });
    }

    function unfreezeContentHeight() {
            content.css({
                    width: &#39;&#39;,
                    height: &#39;&#39;,
                    overflow: &#39;&#39;
            });
    }

    /* Misc
    -----------------------------------------------------------------------------*/

    function getCalendar() {
            return t;
    }

    function getView() {
            return currentView;
    }

    function option(name, value) {
            if (value === undefined) {
                    return options[name];
            }
            if (name == &#39;height&#39; || name == &#39;contentHeight&#39; || name == &#39;aspectRatio&#39;) {
                    options[name] = value;
                    updateSize(true); // true = allow recalculation of height
            }
    }

    function trigger(name, thisObj) {
            if (options[name]) {
                    return options[name].apply(
                            thisObj || _element,
                            Array.prototype.slice.call(arguments, 2)
                    );
            }
    }</pre>

<p>}</p>

<pre>/* Top toolbar area with buttons and title</pre>

<p>———————————————————————————————————————-*/ // TODO: rename all
header-related things to “toolbar”</p>

<p>function Header(calendar, options) {</p>

<pre>var t = this;

// exports
t.render = render;
t.destroy = destroy;
t.updateTitle = updateTitle;
t.activateButton = activateButton;
t.deactivateButton = deactivateButton;
t.disableButton = disableButton;
t.enableButton = enableButton;
t.getViewsWithButtons = getViewsWithButtons;

// locals
var el = $();
var viewsWithButtons = [];
var tm;

function render() {
        var sections = options.header;

        tm = options.theme ? &#39;ui&#39; : &#39;fc&#39;;

        if (sections) {
                el = $(&quot;&lt;div class=&#39;fc-toolbar&#39;/&gt;&quot;)
                        .append(renderSection(&#39;left&#39;))
                        .append(renderSection(&#39;right&#39;))
                        .append(renderSection(&#39;center&#39;))
                        .append(&#39;&lt;div class=&quot;fc-clear&quot;/&gt;&#39;);

                return el;
        }
}

function destroy() {
        el.remove();
}

function renderSection(position) {
        var sectionEl = $(&#39;&lt;div class=&quot;fc-&#39; + position + &#39;&quot;/&gt;&#39;);
        var buttonStr = options.header[position];

        if (buttonStr) {
                $.each(buttonStr.split(&#39; &#39;), function(i) {
                        var groupChildren = $();
                        var isOnlyButtons = true;
                        var groupEl;

                        $.each(this.split(&#39;,&#39;), function(j, buttonName) {
                                var buttonClick;
                                var themeIcon;
                                var normalIcon;
                                var defaultText;
                                var viewText; // highest priority
                                var customText;
                                var innerHtml;
                                var classes;
                                var button;

                                if (buttonName == &#39;title&#39;) {
                                        groupChildren = groupChildren.add($(&#39;&lt;h2&gt;&amp;nbsp;&lt;/h2&gt;&#39;)); // we always want it to take up height
                                        isOnlyButtons = false;
                                }
                                else {
                                        if (calendar[buttonName]) { // a calendar method
                                                buttonClick = function() {
                                                        calendar[buttonName]();
                                                };
                                        }
                                        else if (calendar.isValidViewType(buttonName)) { // a view type
                                                buttonClick = function() {
                                                        calendar.changeView(buttonName);
                                                };
                                                viewsWithButtons.push(buttonName);
                                                viewText = calendar.getViewButtonText(buttonName);
                                        }
                                        if (buttonClick) {

                                                // smartProperty allows different text per view button (ex: &quot;Agenda Week&quot; vs &quot;Basic Week&quot;)
                                                themeIcon = smartProperty(options.themeButtonIcons, buttonName);
                                                normalIcon = smartProperty(options.buttonIcons, buttonName);
                                                defaultText = smartProperty(options.defaultButtonText, buttonName); // from languages
                                                customText = smartProperty(options.buttonText, buttonName);

                                                if (viewText || customText) {
                                                        innerHtml = htmlEscape(viewText || customText);
                                                }
                                                else if (themeIcon &amp;&amp; options.theme) {
                                                        innerHtml = &quot;&lt;span class=&#39;ui-icon ui-icon-&quot; + themeIcon + &quot;&#39;&gt;&lt;/span&gt;&quot;;
                                                }
                                                else if (normalIcon &amp;&amp; !options.theme) {
                                                        innerHtml = &quot;&lt;span class=&#39;fc-icon fc-icon-&quot; + normalIcon + &quot;&#39;&gt;&lt;/span&gt;&quot;;
                                                }
                                                else {
                                                        innerHtml = htmlEscape(defaultText || buttonName);
                                                }

                                                classes = [
                                                        &#39;fc-&#39; + buttonName + &#39;-button&#39;,
                                                        tm + &#39;-button&#39;,
                                                        tm + &#39;-state-default&#39;
                                                ];

                                                button = $( // type=&quot;button&quot; so that it doesn&#39;t submit a form
                                                        &#39;&lt;button type=&quot;button&quot; class=&quot;&#39; + classes.join(&#39; &#39;) + &#39;&quot;&gt;&#39; +
                                                                innerHtml +
                                                        &#39;&lt;/button&gt;&#39;
                                                        )
                                                        .click(function() {
                                                                // don&#39;t process clicks for disabled buttons
                                                                if (!button.hasClass(tm + &#39;-state-disabled&#39;)) {

                                                                        buttonClick();

                                                                        // after the click action, if the button becomes the &quot;active&quot; tab, or disabled,
                                                                        // it should never have a hover class, so remove it now.
                                                                        if (
                                                                                button.hasClass(tm + &#39;-state-active&#39;) ||
                                                                                button.hasClass(tm + &#39;-state-disabled&#39;)
                                                                        ) {
                                                                                button.removeClass(tm + &#39;-state-hover&#39;);
                                                                        }
                                                                }
                                                        })
                                                        .mousedown(function() {
                                                                // the *down* effect (mouse pressed in).
                                                                // only on buttons that are not the &quot;active&quot; tab, or disabled
                                                                button
                                                                        .not(&#39;.&#39; + tm + &#39;-state-active&#39;)
                                                                        .not(&#39;.&#39; + tm + &#39;-state-disabled&#39;)
                                                                        .addClass(tm + &#39;-state-down&#39;);
                                                        })
                                                        .mouseup(function() {
                                                                // undo the *down* effect
                                                                button.removeClass(tm + &#39;-state-down&#39;);
                                                        })
                                                        .hover(
                                                                function() {
                                                                        // the *hover* effect.
                                                                        // only on buttons that are not the &quot;active&quot; tab, or disabled
                                                                        button
                                                                                .not(&#39;.&#39; + tm + &#39;-state-active&#39;)
                                                                                .not(&#39;.&#39; + tm + &#39;-state-disabled&#39;)
                                                                                .addClass(tm + &#39;-state-hover&#39;);
                                                                },
                                                                function() {
                                                                        // undo the *hover* effect
                                                                        button
                                                                                .removeClass(tm + &#39;-state-hover&#39;)
                                                                                .removeClass(tm + &#39;-state-down&#39;); // if mouseleave happens before mouseup
                                                                }
                                                        );

                                                groupChildren = groupChildren.add(button);
                                        }
                                }
                        });

                        if (isOnlyButtons) {
                                groupChildren
                                        .first().addClass(tm + &#39;-corner-left&#39;).end()
                                        .last().addClass(tm + &#39;-corner-right&#39;).end();
                        }

                        if (groupChildren.length &gt; 1) {
                                groupEl = $(&#39;&lt;div/&gt;&#39;);
                                if (isOnlyButtons) {
                                        groupEl.addClass(&#39;fc-button-group&#39;);
                                }
                                groupEl.append(groupChildren);
                                sectionEl.append(groupEl);
                        }
                        else {
                                sectionEl.append(groupChildren); // 1 or 0 children
                        }
                });
        }

        return sectionEl;
}

function updateTitle(text) {
        el.find(&#39;h2&#39;).text(text);
}

function activateButton(buttonName) {
        el.find(&#39;.fc-&#39; + buttonName + &#39;-button&#39;)
                .addClass(tm + &#39;-state-active&#39;);
}

function deactivateButton(buttonName) {
        el.find(&#39;.fc-&#39; + buttonName + &#39;-button&#39;)
                .removeClass(tm + &#39;-state-active&#39;);
}

function disableButton(buttonName) {
        el.find(&#39;.fc-&#39; + buttonName + &#39;-button&#39;)
                .attr(&#39;disabled&#39;, &#39;disabled&#39;)
                .addClass(tm + &#39;-state-disabled&#39;);
}

function enableButton(buttonName) {
        el.find(&#39;.fc-&#39; + buttonName + &#39;-button&#39;)
                .removeAttr(&#39;disabled&#39;)
                .removeClass(tm + &#39;-state-disabled&#39;);
}

function getViewsWithButtons() {
        return viewsWithButtons;
}</pre>

<p>}</p>

<pre class="ruby"><span class="ruby-identifier">fc</span>.<span class="ruby-identifier">sourceNormalizers</span> = [];
</pre>

<p>fc.sourceFetchers = [];</p>

<p>var ajaxDefaults = {</p>

<pre>dataType: &#39;json&#39;,
cache: false</pre>

<p>};</p>

<p>var eventGUID = 1;</p>

<p>function EventManager(options) { // assumed to be a calendar</p>

<pre>var t = this;

// exports
t.isFetchNeeded = isFetchNeeded;
t.fetchEvents = fetchEvents;
t.addEventSource = addEventSource;
t.removeEventSource = removeEventSource;
t.updateEvent = updateEvent;
t.renderEvent = renderEvent;
t.removeEvents = removeEvents;
t.clientEvents = clientEvents;
t.mutateEvent = mutateEvent;
t.normalizeEventDateProps = normalizeEventDateProps;
t.ensureVisibleEventRange = ensureVisibleEventRange;

// imports
var trigger = t.trigger;
var getView = t.getView;
var reportEvents = t.reportEvents;

// locals
var stickySource = { events: [] };
var sources = [ stickySource ];
var rangeStart, rangeEnd;
var currentFetchID = 0;
var pendingSourceCnt = 0;
var loadingLevel = 0;
var cache = []; // holds events that have already been expanded

$.each(
        (options.events ? [ options.events ] : []).concat(options.eventSources || []),
        function(i, sourceInput) {
                var source = buildEventSource(sourceInput);
                if (source) {
                        sources.push(source);
                }
        }
);

/* Fetching
-----------------------------------------------------------------------------*/

function isFetchNeeded(start, end) {
        return !rangeStart || // nothing has been fetched yet?
                // or, a part of the new range is outside of the old range? (after normalizing)
                start.clone().stripZone() &lt; rangeStart.clone().stripZone() ||
                end.clone().stripZone() &gt; rangeEnd.clone().stripZone();
}

function fetchEvents(start, end) {
        rangeStart = start;
        rangeEnd = end;
        cache = [];
        var fetchID = ++currentFetchID;
        var len = sources.length;
        pendingSourceCnt = len;
        for (var i=0; i&lt;len; i++) {
                fetchEventSource(sources[i], fetchID);
        }
}

function fetchEventSource(source, fetchID) {
        _fetchEventSource(source, function(eventInputs) {
                var isArraySource = $.isArray(source.events);
                var i, eventInput;
                var abstractEvent;

                if (fetchID == currentFetchID) {

                        if (eventInputs) {
                                for (i = 0; i &lt; eventInputs.length; i++) {
                                        eventInput = eventInputs[i];

                                        if (isArraySource) { // array sources have already been convert to Event Objects
                                                abstractEvent = eventInput;
                                        }
                                        else {
                                                abstractEvent = buildEventFromInput(eventInput, source);
                                        }

                                        if (abstractEvent) { // not false (an invalid event)
                                                cache.push.apply(
                                                        cache,
                                                        expandEvent(abstractEvent) // add individual expanded events to the cache
                                                );
                                        }
                                }
                        }

                        pendingSourceCnt--;
                        if (!pendingSourceCnt) {
                                reportEvents(cache);
                        }
                }
        });
}

function _fetchEventSource(source, callback) {
        var i;
        var fetchers = fc.sourceFetchers;
        var res;

        for (i=0; i&lt;fetchers.length; i++) {
                res = fetchers[i].call(
                        t, // this, the Calendar object
                        source,
                        rangeStart.clone(),
                        rangeEnd.clone(),
                        options.timezone,
                        callback
                );

                if (res === true) {
                        // the fetcher is in charge. made its own async request
                        return;
                }
                else if (typeof res == &#39;object&#39;) {
                        // the fetcher returned a new source. process it
                        _fetchEventSource(res, callback);
                        return;
                }
        }

        var events = source.events;
        if (events) {
                if ($.isFunction(events)) {
                        pushLoading();
                        events.call(
                                t, // this, the Calendar object
                                rangeStart.clone(),
                                rangeEnd.clone(),
                                options.timezone,
                                function(events) {
                                        callback(events);
                                        popLoading();
                                }
                        );
                }
                else if ($.isArray(events)) {
                        callback(events);
                }
                else {
                        callback();
                }
        }else{
                var url = source.url;
                if (url) {
                        var success = source.success;
                        var error = source.error;
                        var complete = source.complete;

                        // retrieve any outbound GET/POST $.ajax data from the options
                        var customData;
                        if ($.isFunction(source.data)) {
                                // supplied as a function that returns a key/value object
                                customData = source.data();
                        }
                        else {
                                // supplied as a straight key/value object
                                customData = source.data;
                        }

                        // use a copy of the custom data so we can modify the parameters
                        // and not affect the passed-in object.
                        var data = $.extend({}, customData || {});

                        var startParam = firstDefined(source.startParam, options.startParam);
                        var endParam = firstDefined(source.endParam, options.endParam);
                        var timezoneParam = firstDefined(source.timezoneParam, options.timezoneParam);

                        if (startParam) {
                                data[startParam] = rangeStart.format();
                        }
                        if (endParam) {
                                data[endParam] = rangeEnd.format();
                        }
                        if (options.timezone &amp;&amp; options.timezone != &#39;local&#39;) {
                                data[timezoneParam] = options.timezone;
                        }

                        pushLoading();
                        $.ajax($.extend({}, ajaxDefaults, source, {
                                data: data,
                                success: function(events) {
                                        events = events || [];
                                        var res = applyAll(success, this, arguments);
                                        if ($.isArray(res)) {
                                                events = res;
                                        }
                                        callback(events);
                                },
                                error: function() {
                                        applyAll(error, this, arguments);
                                        callback();
                                },
                                complete: function() {
                                        applyAll(complete, this, arguments);
                                        popLoading();
                                }
                        }));
                }else{
                        callback();
                }
        }
}

/* Sources
-----------------------------------------------------------------------------*/

function addEventSource(sourceInput) {
        var source = buildEventSource(sourceInput);
        if (source) {
                sources.push(source);
                pendingSourceCnt++;
                fetchEventSource(source, currentFetchID); // will eventually call reportEvents
        }
}

function buildEventSource(sourceInput) { // will return undefined if invalid source
        var normalizers = fc.sourceNormalizers;
        var source;
        var i;

        if ($.isFunction(sourceInput) || $.isArray(sourceInput)) {
                source = { events: sourceInput };
        }
        else if (typeof sourceInput === &#39;string&#39;) {
                source = { url: sourceInput };
        }
        else if (typeof sourceInput === &#39;object&#39;) {
                source = $.extend({}, sourceInput); // shallow copy
        }

        if (source) {

                // TODO: repeat code, same code for event classNames
                if (source.className) {
                        if (typeof source.className === &#39;string&#39;) {
                                source.className = source.className.split(/\s+/);
                        }
                        // otherwise, assumed to be an array
                }
                else {
                        source.className = [];
                }

                // for array sources, we convert to standard Event Objects up front
                if ($.isArray(source.events)) {
                        source.origArray = source.events; // for removeEventSource
                        source.events = $.map(source.events, function(eventInput) {
                                return buildEventFromInput(eventInput, source);
                        });
                }

                for (i=0; i&lt;normalizers.length; i++) {
                        normalizers[i].call(t, source);
                }

                return source;
        }
}

function removeEventSource(source) {
        sources = $.grep(sources, function(src) {
                return !isSourcesEqual(src, source);
        });
        // remove all client events from that source
        cache = $.grep(cache, function(e) {
                return !isSourcesEqual(e.source, source);
        });
        reportEvents(cache);
}

function isSourcesEqual(source1, source2) {
        return source1 &amp;&amp; source2 &amp;&amp; getSourcePrimitive(source1) == getSourcePrimitive(source2);
}

function getSourcePrimitive(source) {
        return (
                (typeof source === &#39;object&#39;) ? // a normalized event source?
                        (source.origArray || source.googleCalendarId || source.url || source.events) : // get the primitive
                        null
        ) ||
        source; // the given argument *is* the primitive
}

/* Manipulation
-----------------------------------------------------------------------------*/

// Only ever called from the externally-facing API
function updateEvent(event) {

        // massage start/end values, even if date string values
        event.start = t.moment(event.start);
        if (event.end) {
                event.end = t.moment(event.end);
        }
        else {
                event.end = null;
        }

        mutateEvent(event, getMiscEventProps(event)); // will handle start/end/allDay normalization
        reportEvents(cache); // reports event modifications (so we can redraw)
}

// Returns a hash of misc event properties that should be copied over to related events.
function getMiscEventProps(event) {
        var props = {};

        $.each(event, function(name, val) {
                if (isMiscEventPropName(name)) {
                        if (val !== undefined &amp;&amp; isAtomic(val)) { // a defined non-object
                                props[name] = val;
                        }
                }
        });

        return props;
}

// non-date-related, non-id-related, non-secret
function isMiscEventPropName(name) {
        return !/^_|^(id|allDay|start|end)$/.test(name);
}

// returns the expanded events that were created
function renderEvent(eventInput, stick) {
        var abstractEvent = buildEventFromInput(eventInput);
        var events;
        var i, event;

        if (abstractEvent) { // not false (a valid input)
                events = expandEvent(abstractEvent);

                for (i = 0; i &lt; events.length; i++) {
                        event = events[i];

                        if (!event.source) {
                                if (stick) {
                                        stickySource.events.push(event);
                                        event.source = stickySource;
                                }
                                cache.push(event);
                        }
                }

                reportEvents(cache);

                return events;
        }

        return [];
}

function removeEvents(filter) {
        var eventID;
        var i;

        if (filter == null) { // null or undefined. remove all events
                filter = function() { return true; }; // will always match
        }
        else if (!$.isFunction(filter)) { // an event ID
                eventID = filter + &#39;&#39;;
                filter = function(event) {
                        return event._id == eventID;
                };
        }

        // Purge event(s) from our local cache
        cache = $.grep(cache, filter, true); // inverse=true

        // Remove events from array sources.
        // This works because they have been converted to official Event Objects up front.
        // (and as a result, event._id has been calculated).
        for (i=0; i&lt;sources.length; i++) {
                if ($.isArray(sources[i].events)) {
                        sources[i].events = $.grep(sources[i].events, filter, true);
                }
        }

        reportEvents(cache);
}

function clientEvents(filter) {
        if ($.isFunction(filter)) {
                return $.grep(cache, filter);
        }
        else if (filter != null) { // not null, not undefined. an event ID
                filter += &#39;&#39;;
                return $.grep(cache, function(e) {
                        return e._id == filter;
                });
        }
        return cache; // else, return all
}

/* Loading State
-----------------------------------------------------------------------------*/

function pushLoading() {
        if (!(loadingLevel++)) {
                trigger(&#39;loading&#39;, null, true, getView());
        }
}

function popLoading() {
        if (!(--loadingLevel)) {
                trigger(&#39;loading&#39;, null, false, getView());
        }
}

/* Event Normalization
-----------------------------------------------------------------------------*/

// Given a raw object with key/value properties, returns an &quot;abstract&quot; Event object.
// An &quot;abstract&quot; event is an event that, if recurring, will not have been expanded yet.
// Will return `false` when input is invalid.
// `source` is optional
function buildEventFromInput(input, source) {
        var out = {};
        var start, end;
        var allDay;

        if (options.eventDataTransform) {
                input = options.eventDataTransform(input);
        }
        if (source &amp;&amp; source.eventDataTransform) {
                input = source.eventDataTransform(input);
        }

        // Copy all properties over to the resulting object.
        // The special-case properties will be copied over afterwards.
        $.extend(out, input);

        if (source) {
                out.source = source;
        }

        out._id = input._id || (input.id === undefined ? &#39;_fc&#39; + eventGUID++ : input.id + &#39;&#39;);

        if (input.className) {
                if (typeof input.className == &#39;string&#39;) {
                        out.className = input.className.split(/\s+/);
                }
                else { // assumed to be an array
                        out.className = input.className;
                }
        }
        else {
                out.className = [];
        }

        start = input.start || input.date; // &quot;date&quot; is an alias for &quot;start&quot;
        end = input.end;

        // parse as a time (Duration) if applicable
        if (isTimeString(start)) {
                start = moment.duration(start);
        }
        if (isTimeString(end)) {
                end = moment.duration(end);
        }

        if (input.dow || moment.isDuration(start) || moment.isDuration(end)) {

                // the event is &quot;abstract&quot; (recurring) so don&#39;t calculate exact start/end dates just yet
                out.start = start ? moment.duration(start) : null; // will be a Duration or null
                out.end = end ? moment.duration(end) : null; // will be a Duration or null
                out._recurring = true; // our internal marker
        }
        else {

                if (start) {
                        start = t.moment(start);
                        if (!start.isValid()) {
                                return false;
                        }
                }

                if (end) {
                        end = t.moment(end);
                        if (!end.isValid()) {
                                end = null; // let defaults take over
                        }
                }

                allDay = input.allDay;
                if (allDay === undefined) { // still undefined? fallback to default
                        allDay = firstDefined(
                                source ? source.allDayDefault : undefined,
                                options.allDayDefault
                        );
                        // still undefined? normalizeEventDateProps will calculate it
                }

                assignDatesToEvent(start, end, allDay, out);
        }

        return out;
}

// Normalizes and assigns the given dates to the given partially-formed event object.
// NOTE: mutates the given start/end moments. does not make a copy.
function assignDatesToEvent(start, end, allDay, event) {
        event.start = start;
        event.end = end;
        event.allDay = allDay;
        normalizeEventDateProps(event);
        backupEventDates(event);
}

// Ensures the allDay property exists.
// Ensures the start/end dates are consistent with allDay and forceEventDuration.
// Accepts an Event object, or a plain object with event-ish properties.
// NOTE: Will modify the given object.
function normalizeEventDateProps(props) {

        if (props.allDay == null) {
                props.allDay = !(props.start.hasTime() || (props.end &amp;&amp; props.end.hasTime()));
        }

        if (props.allDay) {
                props.start.stripTime();
                if (props.end) {
                        props.end.stripTime();
                }
        }
        else {
                if (!props.start.hasTime()) {
                        props.start = t.rezoneDate(props.start); // will also give it a 00:00 time
                }
                if (props.end &amp;&amp; !props.end.hasTime()) {
                        props.end = t.rezoneDate(props.end); // will also give it a 00:00 time
                }
        }

        if (props.end &amp;&amp; !props.end.isAfter(props.start)) {
                props.end = null;
        }

        if (!props.end) {
                if (options.forceEventDuration) {
                        props.end = t.getDefaultEventEnd(props.allDay, props.start);
                }
                else {
                        props.end = null;
                }
        }
}

// If `range` is a proper range with a start and end, returns the original object.
// If missing an end, computes a new range with an end, computing it as if it were an event.
// TODO: make this a part of the event -&gt; eventRange system
function ensureVisibleEventRange(range) {
        var allDay;

        if (!range.end) {

                allDay = range.allDay; // range might be more event-ish than we think
                if (allDay == null) {
                        allDay = !range.start.hasTime();
                }

                range = {
                        start: range.start,
                        end: t.getDefaultEventEnd(allDay, range.start)
                };
        }
        return range;
}

// If the given event is a recurring event, break it down into an array of individual instances.
// If not a recurring event, return an array with the single original event.
// If given a falsy input (probably because of a failed buildEventFromInput call), returns an empty array.
// HACK: can override the recurring window by providing custom rangeStart/rangeEnd (for businessHours).
function expandEvent(abstractEvent, _rangeStart, _rangeEnd) {
        var events = [];
        var dowHash;
        var dow;
        var i;
        var date;
        var startTime, endTime;
        var start, end;
        var event;

        _rangeStart = _rangeStart || rangeStart;
        _rangeEnd = _rangeEnd || rangeEnd;

        if (abstractEvent) {
                if (abstractEvent._recurring) {

                        // make a boolean hash as to whether the event occurs on each day-of-week
                        if ((dow = abstractEvent.dow)) {
                                dowHash = {};
                                for (i = 0; i &lt; dow.length; i++) {
                                        dowHash[dow[i]] = true;
                                }
                        }

                        // iterate through every day in the current range
                        date = _rangeStart.clone().stripTime(); // holds the date of the current day
                        while (date.isBefore(_rangeEnd)) {

                                if (!dowHash || dowHash[date.day()]) { // if everyday, or this particular day-of-week

                                        startTime = abstractEvent.start; // the stored start and end properties are times (Durations)
                                        endTime = abstractEvent.end; // &quot;
                                        start = date.clone();
                                        end = null;

                                        if (startTime) {
                                                start = start.time(startTime);
                                        }
                                        if (endTime) {
                                                end = date.clone().time(endTime);
                                        }

                                        event = $.extend({}, abstractEvent); // make a copy of the original
                                        assignDatesToEvent(
                                                start, end,
                                                !startTime &amp;&amp; !endTime, // allDay?
                                                event
                                        );
                                        events.push(event);
                                }

                                date.add(1, &#39;days&#39;);
                        }
                }
                else {
                        events.push(abstractEvent); // return the original event. will be a one-item array
                }
        }

        return events;
}

/* Event Modification Math
-----------------------------------------------------------------------------------------*/

// Modifies an event and all related events by applying the given properties.
// Special date-diffing logic is used for manipulation of dates.
// If `props` does not contain start/end dates, the updated values are assumed to be the event&#39;s current start/end.
// All date comparisons are done against the event&#39;s pristine _start and _end dates.
// Returns an object with delta information and a function to undo all operations.
//
function mutateEvent(event, props) {
        var miscProps = {};
        var clearEnd;
        var dateDelta;
        var durationDelta;
        var undoFunc;

        props = props || {};

        // ensure new date-related values to compare against
        if (!props.start) {
                props.start = event.start.clone();
        }
        if (props.end === undefined) {
                props.end = event.end ? event.end.clone() : null;
        }
        if (props.allDay == null) { // is null or undefined?
                props.allDay = event.allDay;
        }

        normalizeEventDateProps(props); // massages start/end/allDay

        // clear the end date if explicitly changed to null
        clearEnd = event._end !== null &amp;&amp; props.end === null;

        // compute the delta for moving the start and end dates together
        if (props.allDay) {
                dateDelta = diffDay(props.start, event._start); // whole-day diff from start-of-day
        }
        else {
                dateDelta = diffDayTime(props.start, event._start);
        }

        // compute the delta for moving the end date (after applying dateDelta)
        if (!clearEnd &amp;&amp; props.end) {
                durationDelta = diffDayTime(
                        // new duration
                        props.end,
                        props.start
                ).subtract(diffDayTime(
                        // subtract old duration
                        event._end || t.getDefaultEventEnd(event._allDay, event._start),
                        event._start
                ));
        }

        // gather all non-date-related properties
        $.each(props, function(name, val) {
                if (isMiscEventPropName(name)) {
                        if (val !== undefined) {
                                miscProps[name] = val;
                        }
                }
        });

        // apply the operations to the event and all related events
        undoFunc = mutateEvents(
                clientEvents(event._id), // get events with this ID
                clearEnd,
                props.allDay,
                dateDelta,
                durationDelta,
                miscProps
        );

        return {
                dateDelta: dateDelta,
                durationDelta: durationDelta,
                undo: undoFunc
        };
}

// Modifies an array of events in the following ways (operations are in order):
// - clear the event&#39;s `end`
// - convert the event to allDay
// - add `dateDelta` to the start and end
// - add `durationDelta` to the event&#39;s duration
// - assign `miscProps` to the event
//
// Returns a function that can be called to undo all the operations.
//
// TODO: don&#39;t use so many closures. possible memory issues when lots of events with same ID.
//
function mutateEvents(events, clearEnd, allDay, dateDelta, durationDelta, miscProps) {
        var isAmbigTimezone = t.getIsAmbigTimezone();
        var undoFunctions = [];

        // normalize zero-length deltas to be null
        if (dateDelta &amp;&amp; !dateDelta.valueOf()) { dateDelta = null; }
        if (durationDelta &amp;&amp; !durationDelta.valueOf()) { durationDelta = null; }

        $.each(events, function(i, event) {
                var oldProps;
                var newProps;

                // build an object holding all the old values, both date-related and misc.
                // for the undo function.
                oldProps = {
                        start: event.start.clone(),
                        end: event.end ? event.end.clone() : null,
                        allDay: event.allDay
                };
                $.each(miscProps, function(name) {
                        oldProps[name] = event[name];
                });

                // new date-related properties. work off the original date snapshot.
                // ok to use references because they will be thrown away when backupEventDates is called.
                newProps = {
                        start: event._start,
                        end: event._end,
                        allDay: event._allDay
                };

                if (clearEnd) {
                        newProps.end = null;
                }

                newProps.allDay = allDay;

                normalizeEventDateProps(newProps); // massages start/end/allDay

                if (dateDelta) {
                        newProps.start.add(dateDelta);
                        if (newProps.end) {
                                newProps.end.add(dateDelta);
                        }
                }

                if (durationDelta) {
                        if (!newProps.end) {
                                newProps.end = t.getDefaultEventEnd(newProps.allDay, newProps.start);
                        }
                        newProps.end.add(durationDelta);
                }

                // if the dates have changed, and we know it is impossible to recompute the
                // timezone offsets, strip the zone.
                if (
                        isAmbigTimezone &amp;&amp;
                        !newProps.allDay &amp;&amp;
                        (dateDelta || durationDelta)
                ) {
                        newProps.start.stripZone();
                        if (newProps.end) {
                                newProps.end.stripZone();
                        }
                }

                $.extend(event, miscProps, newProps); // copy over misc props, then date-related props
                backupEventDates(event); // regenerate internal _start/_end/_allDay

                undoFunctions.push(function() {
                        $.extend(event, oldProps);
                        backupEventDates(event); // regenerate internal _start/_end/_allDay
                });
        });

        return function() {
                for (var i = 0; i &lt; undoFunctions.length; i++) {
                        undoFunctions[i]();
                }
        };
}

/* Business Hours
-----------------------------------------------------------------------------------------*/

t.getBusinessHoursEvents = getBusinessHoursEvents;

// Returns an array of events as to when the business hours occur in the given view.
// Abuse of our event system :(
function getBusinessHoursEvents() {
        var optionVal = options.businessHours;
        var defaultVal = {
                className: &#39;fc-nonbusiness&#39;,
                start: &#39;09:00&#39;,
                end: &#39;17:00&#39;,
                dow: [ 1, 2, 3, 4, 5 ], // monday - friday
                rendering: &#39;inverse-background&#39;
        };
        var view = t.getView();
        var eventInput;

        if (optionVal) {
                if (typeof optionVal === &#39;object&#39;) {
                        // option value is an object that can override the default business hours
                        eventInput = $.extend({}, defaultVal, optionVal);
                }
                else {
                        // option value is `true`. use default business hours
                        eventInput = defaultVal;
                }
        }

        if (eventInput) {
                return expandEvent(
                        buildEventFromInput(eventInput),
                        view.start,
                        view.end
                );
        }

        return [];
}

/* Overlapping / Constraining
-----------------------------------------------------------------------------------------*/

t.isEventRangeAllowed = isEventRangeAllowed;
t.isSelectionRangeAllowed = isSelectionRangeAllowed;
t.isExternalDropRangeAllowed = isExternalDropRangeAllowed;

function isEventRangeAllowed(range, event) {
        var source = event.source || {};
        var constraint = firstDefined(
                event.constraint,
                source.constraint,
                options.eventConstraint
        );
        var overlap = firstDefined(
                event.overlap,
                source.overlap,
                options.eventOverlap
        );

        range = ensureVisibleEventRange(range); // ensure a proper range with an end for isRangeAllowed

        return isRangeAllowed(range, constraint, overlap, event);
}

function isSelectionRangeAllowed(range) {
        return isRangeAllowed(range, options.selectConstraint, options.selectOverlap);
}

// when `eventProps` is defined, consider this an event.
// `eventProps` can contain misc non-date-related info about the event.
function isExternalDropRangeAllowed(range, eventProps) {
        var eventInput;
        var event;

        // note: very similar logic is in View&#39;s reportExternalDrop
        if (eventProps) {
                eventInput = $.extend({}, eventProps, range);
                event = expandEvent(buildEventFromInput(eventInput))[0];
        }

        if (event) {
                return isEventRangeAllowed(range, event);
        }
        else { // treat it as a selection

                range = ensureVisibleEventRange(range); // ensure a proper range with an end for isSelectionRangeAllowed

                return isSelectionRangeAllowed(range);
        }
}

// Returns true if the given range (caused by an event drop/resize or a selection) is allowed to exist
// according to the constraint/overlap settings.
// `event` is not required if checking a selection.
function isRangeAllowed(range, constraint, overlap, event) {
        var constraintEvents;
        var anyContainment;
        var i, otherEvent;
        var otherOverlap;

        // normalize. fyi, we&#39;re normalizing in too many places :(
        range = {
                start: range.start.clone().stripZone(),
                end: range.end.clone().stripZone()
        };

        // the range must be fully contained by at least one of produced constraint events
        if (constraint != null) {

                // not treated as an event! intermediate data structure
                // TODO: use ranges in the future
                constraintEvents = constraintToEvents(constraint);

                anyContainment = false;
                for (i = 0; i &lt; constraintEvents.length; i++) {
                        if (eventContainsRange(constraintEvents[i], range)) {
                                anyContainment = true;
                                break;
                        }
                }

                if (!anyContainment) {
                        return false;
                }
        }

        for (i = 0; i &lt; cache.length; i++) { // loop all events and detect overlap
                otherEvent = cache[i];

                // don&#39;t compare the event to itself or other related [repeating] events
                if (event &amp;&amp; event._id === otherEvent._id) {
                        continue;
                }

                // there needs to be an actual intersection before disallowing anything
                if (eventIntersectsRange(otherEvent, range)) {

                        // evaluate overlap for the given range and short-circuit if necessary
                        if (overlap === false) {
                                return false;
                        }
                        else if (typeof overlap === &#39;function&#39; &amp;&amp; !overlap(otherEvent, event)) {
                                return false;
                        }

                        // if we are computing if the given range is allowable for an event, consider the other event&#39;s
                        // EventObject-specific or Source-specific `overlap` property
                        if (event) {
                                otherOverlap = firstDefined(
                                        otherEvent.overlap,
                                        (otherEvent.source || {}).overlap
                                        // we already considered the global `eventOverlap`
                                );
                                if (otherOverlap === false) {
                                        return false;
                                }
                                if (typeof otherOverlap === &#39;function&#39; &amp;&amp; !otherOverlap(event, otherEvent)) {
                                        return false;
                                }
                        }
                }
        }

        return true;
}

// Given an event input from the API, produces an array of event objects. Possible event inputs:
// &#39;businessHours&#39;
// An event ID (number or string)
// An object with specific start/end dates or a recurring event (like what businessHours accepts)
function constraintToEvents(constraintInput) {

        if (constraintInput === &#39;businessHours&#39;) {
                return getBusinessHoursEvents();
        }

        if (typeof constraintInput === &#39;object&#39;) {
                return expandEvent(buildEventFromInput(constraintInput));
        }

        return clientEvents(constraintInput); // probably an ID
}

// Does the event&#39;s date range fully contain the given range?
// start/end already assumed to have stripped zones :(
function eventContainsRange(event, range) {
        var eventStart = event.start.clone().stripZone();
        var eventEnd = t.getEventEnd(event).stripZone();

        return range.start &gt;= eventStart &amp;&amp; range.end &lt;= eventEnd;
}

// Does the event&#39;s date range intersect with the given range?
// start/end already assumed to have stripped zones :(
function eventIntersectsRange(event, range) {
        var eventStart = event.start.clone().stripZone();
        var eventEnd = t.getEventEnd(event).stripZone();

        return range.start &lt; eventEnd &amp;&amp; range.end &gt; eventStart;
}</pre>

<p>}</p>

<p>// updates the “backup” properties, which are preserved in order to compute
diffs later on. function backupEventDates(event) {</p>

<pre class="ruby"><span class="ruby-identifier">event</span>.<span class="ruby-identifier">_allDay</span> = <span class="ruby-identifier">event</span>.<span class="ruby-identifier">allDay</span>;
<span class="ruby-identifier">event</span>.<span class="ruby-identifier">_start</span> = <span class="ruby-identifier">event</span>.<span class="ruby-identifier">start</span>.<span class="ruby-identifier">clone</span>();
<span class="ruby-identifier">event</span>.<span class="ruby-identifier">_end</span> = <span class="ruby-identifier">event</span>.<span class="ruby-identifier">end</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">event</span>.<span class="ruby-identifier">end</span>.<span class="ruby-identifier">clone</span>() <span class="ruby-operator">:</span> <span class="ruby-identifier">null</span>;
</pre>

<p>}</p>

<pre>/* An abstract class for the &quot;basic&quot; views, as well as month view. Renders one or more rows of day cells.</pre>

<p>———————————————————————————————————————-*/ // It is a manager for a DayGrid
subcomponent, which does most of the heavy lifting. // It is responsible
for managing width/height.</p>

<p>var BasicView = fcViews.basic = View.extend({</p>

<pre>dayGrid: null, // the main subcomponent that does most of the heavy lifting

dayNumbersVisible: false, // display day numbers on each day cell?
weekNumbersVisible: false, // display week numbers along the side?

weekNumberWidth: null, // width of all the week-number cells running down the side

headRowEl: null, // the fake row element of the day-of-week header

initialize: function() {
        this.dayGrid = new DayGrid(this);
        this.coordMap = this.dayGrid.coordMap; // the view&#39;s date-to-cell mapping is identical to the subcomponent&#39;s
},

// Sets the display range and computes all necessary dates
setRange: function(range) {
        View.prototype.setRange.call(this, range); // call the super-method

        this.dayGrid.breakOnWeeks = /year|month|week/.test(this.intervalUnit); // do before setRange
        this.dayGrid.setRange(range);
},

// Compute the value to feed into setRange. Overrides superclass.
computeRange: function(date) {
        var range = View.prototype.computeRange.call(this, date); // get value from the super-method

        // year and month views should be aligned with weeks. this is already done for week
        if (/year|month/.test(range.intervalUnit)) {
                range.start.startOf(&#39;week&#39;);
                range.start = this.skipHiddenDays(range.start);

                // make end-of-week if not already
                if (range.end.weekday()) {
                        range.end.add(1, &#39;week&#39;).startOf(&#39;week&#39;);
                        range.end = this.skipHiddenDays(range.end, -1, true); // exclusively move backwards
                }
        }

        return range;
},

// Renders the view into `this.el`, which should already be assigned
render: function() {

        this.dayNumbersVisible = this.dayGrid.rowCnt &gt; 1; // TODO: make grid responsible
        this.weekNumbersVisible = this.opt(&#39;weekNumbers&#39;);
        this.dayGrid.numbersVisible = this.dayNumbersVisible || this.weekNumbersVisible;

        this.el.addClass(&#39;fc-basic-view&#39;).html(this.renderHtml());

        this.headRowEl = this.el.find(&#39;thead .fc-row&#39;);

        this.scrollerEl = this.el.find(&#39;.fc-day-grid-container&#39;);
        this.dayGrid.coordMap.containerEl = this.scrollerEl; // constrain clicks/etc to the dimensions of the scroller

        this.dayGrid.el = this.el.find(&#39;.fc-day-grid&#39;);
        this.dayGrid.render(this.hasRigidRows());
},

// Make subcomponents ready for cleanup
destroy: function() {
        this.dayGrid.destroy();
        View.prototype.destroy.call(this); // call the super-method
},

// Builds the HTML skeleton for the view.
// The day-grid component will render inside of a container defined by this HTML.
renderHtml: function() {
        return &#39;&#39; +
                &#39;&lt;table&gt;&#39; +
                        &#39;&lt;thead&gt;&#39; +
                                &#39;&lt;tr&gt;&#39; +
                                        &#39;&lt;td class=&quot;&#39; + this.widgetHeaderClass + &#39;&quot;&gt;&#39; +
                                                this.dayGrid.headHtml() + // render the day-of-week headers
                                        &#39;&lt;/td&gt;&#39; +
                                &#39;&lt;/tr&gt;&#39; +
                        &#39;&lt;/thead&gt;&#39; +
                        &#39;&lt;tbody&gt;&#39; +
                                &#39;&lt;tr&gt;&#39; +
                                        &#39;&lt;td class=&quot;&#39; + this.widgetContentClass + &#39;&quot;&gt;&#39; +
                                                &#39;&lt;div class=&quot;fc-day-grid-container&quot;&gt;&#39; +
                                                        &#39;&lt;div class=&quot;fc-day-grid&quot;/&gt;&#39; +
                                                &#39;&lt;/div&gt;&#39; +
                                        &#39;&lt;/td&gt;&#39; +
                                &#39;&lt;/tr&gt;&#39; +
                        &#39;&lt;/tbody&gt;&#39; +
                &#39;&lt;/table&gt;&#39;;
},

// Generates the HTML that will go before the day-of week header cells.
// Queried by the DayGrid subcomponent when generating rows. Ordering depends on isRTL.
headIntroHtml: function() {
        if (this.weekNumbersVisible) {
                return &#39;&#39; +
                        &#39;&lt;th class=&quot;fc-week-number &#39; + this.widgetHeaderClass + &#39;&quot; &#39; + this.weekNumberStyleAttr() + &#39;&gt;&#39; +
                                &#39;&lt;span&gt;&#39; + // needed for matchCellWidths
                                        htmlEscape(this.opt(&#39;weekNumberTitle&#39;)) +
                                &#39;&lt;/span&gt;&#39; +
                        &#39;&lt;/th&gt;&#39;;
        }
},

// Generates the HTML that will go before content-skeleton cells that display the day/week numbers.
// Queried by the DayGrid subcomponent. Ordering depends on isRTL.
numberIntroHtml: function(row) {
        if (this.weekNumbersVisible) {
                return &#39;&#39; +
                        &#39;&lt;td class=&quot;fc-week-number&quot; &#39; + this.weekNumberStyleAttr() + &#39;&gt;&#39; +
                                &#39;&lt;span&gt;&#39; + // needed for matchCellWidths
                                        this.calendar.calculateWeekNumber(this.dayGrid.getCell(row, 0).start) +
                                &#39;&lt;/span&gt;&#39; +
                        &#39;&lt;/td&gt;&#39;;
        }
},

// Generates the HTML that goes before the day bg cells for each day-row.
// Queried by the DayGrid subcomponent. Ordering depends on isRTL.
dayIntroHtml: function() {
        if (this.weekNumbersVisible) {
                return &#39;&lt;td class=&quot;fc-week-number &#39; + this.widgetContentClass + &#39;&quot; &#39; +
                        this.weekNumberStyleAttr() + &#39;&gt;&lt;/td&gt;&#39;;
        }
},

// Generates the HTML that goes before every other type of row generated by DayGrid. Ordering depends on isRTL.
// Affects helper-skeleton and highlight-skeleton rows.
introHtml: function() {
        if (this.weekNumbersVisible) {
                return &#39;&lt;td class=&quot;fc-week-number&quot; &#39; + this.weekNumberStyleAttr() + &#39;&gt;&lt;/td&gt;&#39;;
        }
},

// Generates the HTML for the &lt;td&gt;s of the &quot;number&quot; row in the DayGrid&#39;s content skeleton.
// The number row will only exist if either day numbers or week numbers are turned on.
numberCellHtml: function(cell) {
        var date = cell.start;
        var classes;

        if (!this.dayNumbersVisible) { // if there are week numbers but not day numbers
                return &#39;&lt;td/&gt;&#39;; //  will create an empty space above events :(
        }

        classes = this.dayGrid.getDayClasses(date);
        classes.unshift(&#39;fc-day-number&#39;);

        return &#39;&#39; +
                &#39;&lt;td class=&quot;&#39; + classes.join(&#39; &#39;) + &#39;&quot; data-date=&quot;&#39; + date.format() + &#39;&quot;&gt;&#39; +
                        date.date() +
                &#39;&lt;/td&gt;&#39;;
},

// Generates an HTML attribute string for setting the width of the week number column, if it is known
weekNumberStyleAttr: function() {
        if (this.weekNumberWidth !== null) {
                return &#39;style=&quot;width:&#39; + this.weekNumberWidth + &#39;px&quot;&#39;;
        }
        return &#39;&#39;;
},

// Determines whether each row should have a constant height
hasRigidRows: function() {
        var eventLimit = this.opt(&#39;eventLimit&#39;);
        return eventLimit &amp;&amp; typeof eventLimit !== &#39;number&#39;;
},

/* Dimensions
------------------------------------------------------------------------------------------------------------------*/

// Refreshes the horizontal dimensions of the view
updateWidth: function() {
        if (this.weekNumbersVisible) {
                // Make sure all week number cells running down the side have the same width.
                // Record the width for cells created later.
                this.weekNumberWidth = matchCellWidths(
                        this.el.find(&#39;.fc-week-number&#39;)
                );
        }
},

// Adjusts the vertical dimensions of the view to the specified values
setHeight: function(totalHeight, isAuto) {
        var eventLimit = this.opt(&#39;eventLimit&#39;);
        var scrollerHeight;

        // reset all heights to be natural
        unsetScroller(this.scrollerEl);
        uncompensateScroll(this.headRowEl);

        this.dayGrid.destroySegPopover(); // kill the &quot;more&quot; popover if displayed

        // is the event limit a constant level number?
        if (eventLimit &amp;&amp; typeof eventLimit === &#39;number&#39;) {
                this.dayGrid.limitRows(eventLimit); // limit the levels first so the height can redistribute after
        }

        scrollerHeight = this.computeScrollerHeight(totalHeight);
        this.setGridHeight(scrollerHeight, isAuto);

        // is the event limit dynamically calculated?
        if (eventLimit &amp;&amp; typeof eventLimit !== &#39;number&#39;) {
                this.dayGrid.limitRows(eventLimit); // limit the levels after the grid&#39;s row heights have been set
        }

        if (!isAuto &amp;&amp; setPotentialScroller(this.scrollerEl, scrollerHeight)) { // using scrollbars?

                compensateScroll(this.headRowEl, getScrollbarWidths(this.scrollerEl));

                // doing the scrollbar compensation might have created text overflow which created more height. redo
                scrollerHeight = this.computeScrollerHeight(totalHeight);
                this.scrollerEl.height(scrollerHeight);

                this.restoreScroll();
        }
},

// Sets the height of just the DayGrid component in this view
setGridHeight: function(height, isAuto) {
        if (isAuto) {
                undistributeHeight(this.dayGrid.rowEls); // let the rows be their natural height with no expanding
        }
        else {
                distributeHeight(this.dayGrid.rowEls, height, true); // true = compensate for height-hogging rows
        }
},

/* Events
------------------------------------------------------------------------------------------------------------------*/

// Renders the given events onto the view and populates the segments array
renderEvents: function(events) {
        this.dayGrid.renderEvents(events);

        this.updateHeight(); // must compensate for events that overflow the row
},

// Retrieves all segment objects that are rendered in the view
getEventSegs: function() {
        return this.dayGrid.getEventSegs();
},

// Unrenders all event elements and clears internal segment data
destroyEvents: function() {
        this.recordScroll(); // removing events will reduce height and mess with the scroll, so record beforehand
        this.dayGrid.destroyEvents();

        // we DON&#39;T need to call updateHeight() because:
        // A) a renderEvents() call always happens after this, which will eventually call updateHeight()
        // B) in IE8, this causes a flash whenever events are rerendered
},

/* Dragging (for both events and external elements)
------------------------------------------------------------------------------------------------------------------*/

// A returned value of `true` signals that a mock &quot;helper&quot; event has been rendered.
renderDrag: function(dropLocation, seg) {
        return this.dayGrid.renderDrag(dropLocation, seg);
},

destroyDrag: function() {
        this.dayGrid.destroyDrag();
},

/* Selection
------------------------------------------------------------------------------------------------------------------*/

// Renders a visual indication of a selection
renderSelection: function(range) {
        this.dayGrid.renderSelection(range);
},

// Unrenders a visual indications of a selection
destroySelection: function() {
        this.dayGrid.destroySelection();
}</pre>

<p>});</p>

<pre>/* A month view with day cells running in rows (one-per-week) and columns</pre>

<p>———————————————————————————————————————-*/</p>

<p>setDefaults({</p>

<pre>fixedWeekCount: true</pre>

<p>});</p>

<p>var MonthView = fcViews.month = BasicView.extend({</p>

<pre>// Produces information about what range to display
computeRange: function(date) {
        var range = BasicView.prototype.computeRange.call(this, date); // get value from super-method

        if (this.isFixedWeeks()) {
                // ensure 6 weeks
                range.end.add(
                        6 - range.end.diff(range.start, &#39;weeks&#39;),
                        &#39;weeks&#39;
                );
        }

        return range;
},

// Overrides the default BasicView behavior to have special multi-week auto-height logic
setGridHeight: function(height, isAuto) {

        isAuto = isAuto || this.opt(&#39;weekMode&#39;) === &#39;variable&#39;; // LEGACY: weekMode is deprecated

        // if auto, make the height of each row the height that it would be if there were 6 weeks
        if (isAuto) {
                height *= this.rowCnt / 6;
        }

        distributeHeight(this.dayGrid.rowEls, height, !isAuto); // if auto, don&#39;t compensate for height-hogging rows
},

isFixedWeeks: function() {
        var weekMode = this.opt(&#39;weekMode&#39;); // LEGACY: weekMode is deprecated
        if (weekMode) {
                return weekMode === &#39;fixed&#39;; // if any other type of weekMode, assume NOT fixed
        }

        return this.opt(&#39;fixedWeekCount&#39;);
}</pre>

<p>});</p>

<p>MonthView.duration = { months: 1 };</p>

<pre>/* A week view with simple day cells running horizontally</pre>

<p>———————————————————————————————————————-*/</p>

<p>fcViews.basicWeek = {</p>

<pre>type: &#39;basic&#39;,
duration: { weeks: 1 }</pre>

<p>};</p>

<pre>/* A view with a single simple day cell</pre>

<p>———————————————————————————————————————-*/</p>

<p>fcViews.basicDay = {</p>

<pre>type: &#39;basic&#39;,
duration: { days: 1 }</pre>

<p>};</p>

<pre>/* An abstract class for all agenda-related views. Displays one more columns with time slots running vertically.</pre>

<p>———————————————————————————————————————-*/ // Is a manager for the TimeGrid
subcomponent and possibly the DayGrid subcomponent (if allDaySlot is on).
// Responsible for managing width/height.</p>

<p>setDefaults({</p>

<pre>allDaySlot: true,
allDayText: &#39;all-day&#39;,
scrollTime: &#39;06:00:00&#39;,
slotDuration: &#39;00:30:00&#39;,
minTime: &#39;00:00:00&#39;,
maxTime: &#39;24:00:00&#39;,
slotEventOverlap: true</pre>

<p>});</p>

<p>var AGENDA_ALL_DAY_EVENT_LIMIT = 5;</p>

<p>fcViews.agenda = View.extend({ // AgendaView</p>

<pre>timeGrid: null, // the main time-grid subcomponent of this view
dayGrid: null, // the &quot;all-day&quot; subcomponent. if all-day is turned off, this will be null

axisWidth: null, // the width of the time axis running down the side

noScrollRowEls: null, // set of fake row elements that must compensate when scrollerEl has scrollbars

// when the time-grid isn&#39;t tall enough to occupy the given height, we render an &lt;hr&gt; underneath
bottomRuleEl: null,
bottomRuleHeight: null,

initialize: function() {
        this.timeGrid = new TimeGrid(this);

        if (this.opt(&#39;allDaySlot&#39;)) { // should we display the &quot;all-day&quot; area?
                this.dayGrid = new DayGrid(this); // the all-day subcomponent of this view

                // the coordinate grid will be a combination of both subcomponents&#39; grids
                this.coordMap = new ComboCoordMap([
                        this.dayGrid.coordMap,
                        this.timeGrid.coordMap
                ]);
        }
        else {
                this.coordMap = this.timeGrid.coordMap;
        }
},

/* Rendering
------------------------------------------------------------------------------------------------------------------*/

// Sets the display range and computes all necessary dates
setRange: function(range) {
        View.prototype.setRange.call(this, range); // call the super-method

        this.timeGrid.setRange(range);
        if (this.dayGrid) {
                this.dayGrid.setRange(range);
        }
},

// Renders the view into `this.el`, which has already been assigned
render: function() {

        this.el.addClass(&#39;fc-agenda-view&#39;).html(this.renderHtml());

        // the element that wraps the time-grid that will probably scroll
        this.scrollerEl = this.el.find(&#39;.fc-time-grid-container&#39;);
        this.timeGrid.coordMap.containerEl = this.scrollerEl; // don&#39;t accept clicks/etc outside of this

        this.timeGrid.el = this.el.find(&#39;.fc-time-grid&#39;);
        this.timeGrid.render();

        // the &lt;hr&gt; that sometimes displays under the time-grid
        this.bottomRuleEl = $(&#39;&lt;hr class=&quot;&#39; + this.widgetHeaderClass + &#39;&quot;/&gt;&#39;)
                .appendTo(this.timeGrid.el); // inject it into the time-grid

        if (this.dayGrid) {
                this.dayGrid.el = this.el.find(&#39;.fc-day-grid&#39;);
                this.dayGrid.render();

                // have the day-grid extend it&#39;s coordinate area over the &lt;hr&gt; dividing the two grids
                this.dayGrid.bottomCoordPadding = this.dayGrid.el.next(&#39;hr&#39;).outerHeight();
        }

        this.noScrollRowEls = this.el.find(&#39;.fc-row:not(.fc-scroller *)&#39;); // fake rows not within the scroller
},

// Make subcomponents ready for cleanup
destroy: function() {
        this.timeGrid.destroy();
        if (this.dayGrid) {
                this.dayGrid.destroy();
        }
        View.prototype.destroy.call(this); // call the super-method
},

// Builds the HTML skeleton for the view.
// The day-grid and time-grid components will render inside containers defined by this HTML.
renderHtml: function() {
        return &#39;&#39; +
                &#39;&lt;table&gt;&#39; +
                        &#39;&lt;thead&gt;&#39; +
                                &#39;&lt;tr&gt;&#39; +
                                        &#39;&lt;td class=&quot;&#39; + this.widgetHeaderClass + &#39;&quot;&gt;&#39; +
                                                this.timeGrid.headHtml() + // render the day-of-week headers
                                        &#39;&lt;/td&gt;&#39; +
                                &#39;&lt;/tr&gt;&#39; +
                        &#39;&lt;/thead&gt;&#39; +
                        &#39;&lt;tbody&gt;&#39; +
                                &#39;&lt;tr&gt;&#39; +
                                        &#39;&lt;td class=&quot;&#39; + this.widgetContentClass + &#39;&quot;&gt;&#39; +
                                                (this.dayGrid ?
                                                        &#39;&lt;div class=&quot;fc-day-grid&quot;/&gt;&#39; +
                                                        &#39;&lt;hr class=&quot;&#39; + this.widgetHeaderClass + &#39;&quot;/&gt;&#39; :
                                                        &#39;&#39;
                                                        ) +
                                                &#39;&lt;div class=&quot;fc-time-grid-container&quot;&gt;&#39; +
                                                        &#39;&lt;div class=&quot;fc-time-grid&quot;/&gt;&#39; +
                                                &#39;&lt;/div&gt;&#39; +
                                        &#39;&lt;/td&gt;&#39; +
                                &#39;&lt;/tr&gt;&#39; +
                        &#39;&lt;/tbody&gt;&#39; +
                &#39;&lt;/table&gt;&#39;;
},

// Generates the HTML that will go before the day-of week header cells.
// Queried by the TimeGrid subcomponent when generating rows. Ordering depends on isRTL.
headIntroHtml: function() {
        var date;
        var weekNumber;
        var weekTitle;
        var weekText;

        if (this.opt(&#39;weekNumbers&#39;)) {
                date = this.timeGrid.getCell(0).start;
                weekNumber = this.calendar.calculateWeekNumber(date);
                weekTitle = this.opt(&#39;weekNumberTitle&#39;);

                if (this.opt(&#39;isRTL&#39;)) {
                        weekText = weekNumber + weekTitle;
                }
                else {
                        weekText = weekTitle + weekNumber;
                }

                return &#39;&#39; +
                        &#39;&lt;th class=&quot;fc-axis fc-week-number &#39; + this.widgetHeaderClass + &#39;&quot; &#39; + this.axisStyleAttr() + &#39;&gt;&#39; +
                                &#39;&lt;span&gt;&#39; + // needed for matchCellWidths
                                        htmlEscape(weekText) +
                                &#39;&lt;/span&gt;&#39; +
                        &#39;&lt;/th&gt;&#39;;
        }
        else {
                return &#39;&lt;th class=&quot;fc-axis &#39; + this.widgetHeaderClass + &#39;&quot; &#39; + this.axisStyleAttr() + &#39;&gt;&lt;/th&gt;&#39;;
        }
},

// Generates the HTML that goes before the all-day cells.
// Queried by the DayGrid subcomponent when generating rows. Ordering depends on isRTL.
dayIntroHtml: function() {
        return &#39;&#39; +
                &#39;&lt;td class=&quot;fc-axis &#39; + this.widgetContentClass + &#39;&quot; &#39; + this.axisStyleAttr() + &#39;&gt;&#39; +
                        &#39;&lt;span&gt;&#39; + // needed for matchCellWidths
                                (this.opt(&#39;allDayHtml&#39;) || htmlEscape(this.opt(&#39;allDayText&#39;))) +
                        &#39;&lt;/span&gt;&#39; +
                &#39;&lt;/td&gt;&#39;;
},

// Generates the HTML that goes before the bg of the TimeGrid slot area. Long vertical column.
slotBgIntroHtml: function() {
        return &#39;&lt;td class=&quot;fc-axis &#39; + this.widgetContentClass + &#39;&quot; &#39; + this.axisStyleAttr() + &#39;&gt;&lt;/td&gt;&#39;;
},

// Generates the HTML that goes before all other types of cells.
// Affects content-skeleton, helper-skeleton, highlight-skeleton for both the time-grid and day-grid.
// Queried by the TimeGrid and DayGrid subcomponents when generating rows. Ordering depends on isRTL.
introHtml: function() {
        return &#39;&lt;td class=&quot;fc-axis&quot; &#39; + this.axisStyleAttr() + &#39;&gt;&lt;/td&gt;&#39;;
},

// Generates an HTML attribute string for setting the width of the axis, if it is known
axisStyleAttr: function() {
        if (this.axisWidth !== null) {
                 return &#39;style=&quot;width:&#39; + this.axisWidth + &#39;px&quot;&#39;;
        }
        return &#39;&#39;;
},

/* Dimensions
------------------------------------------------------------------------------------------------------------------*/

updateSize: function(isResize) {
        if (isResize) {
                this.timeGrid.resize();
        }
        View.prototype.updateSize.call(this, isResize);
},

// Refreshes the horizontal dimensions of the view
updateWidth: function() {
        // make all axis cells line up, and record the width so newly created axis cells will have it
        this.axisWidth = matchCellWidths(this.el.find(&#39;.fc-axis&#39;));
},

// Adjusts the vertical dimensions of the view to the specified values
setHeight: function(totalHeight, isAuto) {
        var eventLimit;
        var scrollerHeight;

        if (this.bottomRuleHeight === null) {
                // calculate the height of the rule the very first time
                this.bottomRuleHeight = this.bottomRuleEl.outerHeight();
        }
        this.bottomRuleEl.hide(); // .show() will be called later if this &lt;hr&gt; is necessary

        // reset all dimensions back to the original state
        this.scrollerEl.css(&#39;overflow&#39;, &#39;&#39;);
        unsetScroller(this.scrollerEl);
        uncompensateScroll(this.noScrollRowEls);

        // limit number of events in the all-day area
        if (this.dayGrid) {
                this.dayGrid.destroySegPopover(); // kill the &quot;more&quot; popover if displayed

                eventLimit = this.opt(&#39;eventLimit&#39;);
                if (eventLimit &amp;&amp; typeof eventLimit !== &#39;number&#39;) {
                        eventLimit = AGENDA_ALL_DAY_EVENT_LIMIT; // make sure &quot;auto&quot; goes to a real number
                }
                if (eventLimit) {
                        this.dayGrid.limitRows(eventLimit);
                }
        }

        if (!isAuto) { // should we force dimensions of the scroll container, or let the contents be natural height?

                scrollerHeight = this.computeScrollerHeight(totalHeight);
                if (setPotentialScroller(this.scrollerEl, scrollerHeight)) { // using scrollbars?

                        // make the all-day and header rows lines up
                        compensateScroll(this.noScrollRowEls, getScrollbarWidths(this.scrollerEl));

                        // the scrollbar compensation might have changed text flow, which might affect height, so recalculate
                        // and reapply the desired height to the scroller.
                        scrollerHeight = this.computeScrollerHeight(totalHeight);
                        this.scrollerEl.height(scrollerHeight);

                        this.restoreScroll();
                }
                else { // no scrollbars
                        // still, force a height and display the bottom rule (marks the end of day)
                        this.scrollerEl.height(scrollerHeight).css(&#39;overflow&#39;, &#39;hidden&#39;); // in case &lt;hr&gt; goes outside
                        this.bottomRuleEl.show();
                }
        }
},

// Sets the scroll value of the scroller to the initial pre-configured state prior to allowing the user to change it
initializeScroll: function() {
        var _this = this;
        var scrollTime = moment.duration(this.opt(&#39;scrollTime&#39;));
        var top = this.timeGrid.computeTimeTop(scrollTime);

        // zoom can give weird floating-point values. rather scroll a little bit further
        top = Math.ceil(top);

        if (top) {
                top++; // to overcome top border that slots beyond the first have. looks better
        }

        function scroll() {
                _this.scrollerEl.scrollTop(top);
        }

        scroll();
        setTimeout(scroll, 0); // overrides any previous scroll state made by the browser
},

/* Events
------------------------------------------------------------------------------------------------------------------*/

// Renders events onto the view and populates the View&#39;s segment array
renderEvents: function(events) {
        var dayEvents = [];
        var timedEvents = [];
        var daySegs = [];
        var timedSegs;
        var i;

        // separate the events into all-day and timed
        for (i = 0; i &lt; events.length; i++) {
                if (events[i].allDay) {
                        dayEvents.push(events[i]);
                }
                else {
                        timedEvents.push(events[i]);
                }
        }

        // render the events in the subcomponents
        timedSegs = this.timeGrid.renderEvents(timedEvents);
        if (this.dayGrid) {
                daySegs = this.dayGrid.renderEvents(dayEvents);
        }

        // the all-day area is flexible and might have a lot of events, so shift the height
        this.updateHeight();
},

// Retrieves all segment objects that are rendered in the view
getEventSegs: function() {
        return this.timeGrid.getEventSegs().concat(
                this.dayGrid ? this.dayGrid.getEventSegs() : []
        );
},

// Unrenders all event elements and clears internal segment data
destroyEvents: function() {

        // if destroyEvents is being called as part of an event rerender, renderEvents will be called shortly
        // after, so remember what the scroll value was so we can restore it.
        this.recordScroll();

        // destroy the events in the subcomponents
        this.timeGrid.destroyEvents();
        if (this.dayGrid) {
                this.dayGrid.destroyEvents();
        }

        // we DON&#39;T need to call updateHeight() because:
        // A) a renderEvents() call always happens after this, which will eventually call updateHeight()
        // B) in IE8, this causes a flash whenever events are rerendered
},

/* Dragging (for events and external elements)
------------------------------------------------------------------------------------------------------------------*/

// A returned value of `true` signals that a mock &quot;helper&quot; event has been rendered.
renderDrag: function(dropLocation, seg) {
        if (dropLocation.start.hasTime()) {
                return this.timeGrid.renderDrag(dropLocation, seg);
        }
        else if (this.dayGrid) {
                return this.dayGrid.renderDrag(dropLocation, seg);
        }
},

destroyDrag: function() {
        this.timeGrid.destroyDrag();
        if (this.dayGrid) {
                this.dayGrid.destroyDrag();
        }
},

/* Selection
------------------------------------------------------------------------------------------------------------------*/

// Renders a visual indication of a selection
renderSelection: function(range) {
        if (range.start.hasTime() || range.end.hasTime()) {
                this.timeGrid.renderSelection(range);
        }
        else if (this.dayGrid) {
                this.dayGrid.renderSelection(range);
        }
},

// Unrenders a visual indications of a selection
destroySelection: function() {
        this.timeGrid.destroySelection();
        if (this.dayGrid) {
                this.dayGrid.destroySelection();
        }
}</pre>

<p>});</p>

<pre>/* A week view with an all-day cell area at the top, and a time grid below</pre>

<p>———————————————————————————————————————-*/</p>

<p>fcViews.agendaWeek = {</p>

<pre>type: &#39;agenda&#39;,
duration: { weeks: 1 }</pre>

<p>};</p>

<pre>/* A day view with an all-day cell area at the top, and a time grid below</pre>

<p>———————————————————————————————————————-*/</p>

<p>fcViews.agendaDay = {</p>

<pre>type: &#39;agenda&#39;,
duration: { days: 1 }</pre>

<p>}; });</p>
</main>



<footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.0.4.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

